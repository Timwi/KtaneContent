<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>パターンキューブ — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src='js/ruleseed.js'></script>
    <script>
        var groups = [
            "ABX,AXY,BCD,AXZ,ABY,BCY,ACX,BXY,ACD,BXZ,ACY,BDY,BCX,ADX,CXY,ABD,CXZ,ADY,BDX,CDX,DXY,ABC,DXZ,CDY",
            "EFX,EXY,FGH,EYZ,EFZ,FGZ,EGX,FXY,EGH,FYZ,EGZ,FHZ,FGX,EHX,GXY,EFH,GYZ,EHZ,FHX,GHX,HXY,EFG,HYZ,GHZ"];

        function setDefaultRules()
        {
            showRules(
                [
                    "X1,A3,B1;Y0,X1,A1;B0,D1,C2;Z1,A2,X0;Y2,B0,A2;Y3,C1,B0;" +
                    "X2,C0,A1;X1,Y2,B0;C2,A3,D1;Z1,X3,B1;A2,C3,Y2;D1,B2,Y0;" +
                    "X2,C2,B1;X1,A2,D2;X2,C3,Y0;D3,A0,B3;X0,Z2,C1;A0,Y3,D0;" +
                    "D0,B0,X0;X1,C1,D0;Y0,D0,X3;C3,B3,A1;Z1,D0,X0;C1,D0,Y2",
                    "X1,E0,F0;X0,E3,Y1;H1,G1,F1;Y3,Z3,E1;Z3,F1,E2;G1,Z1,F1;" +
                    "E0,X2,G1;X0,F0,Y2;G1,E2,H3;F1,Y2,Z0;G2,E2,Z1;F1,Z1,H2;" +
                    "G1,X1,F0;H3,X2,E2;Y1,X3,G3;H1,E3,F0;G0,Z2,Y0;Z0,H2,E3;" +
                    "X3,H1,F0;G1,H3,X0;X3,H3,Y0;E0,F0,G1;Z3,Y3,H1;Z2,H3,G2"
                ],
                [90, 91, 92, 93, 100, 101, 102, 103, 110, 111, 112]);
        }

        function setRules(rnd)
        {
            var skip = rnd.next(0, 100);
            for (var i = 0; i < skip; i++)
                rnd.nextDouble();

            var symbols = [];
            for (var i = 0; i < 120; i++)
                symbols.push(i);

            rnd.shuffleFisherYates(symbols);
            var arrs = [];
            for (var i = 0; i < 2; i++)
            {
                var grs = groups[i].split(',');
                var arr = [];
                for (var j = 0; j < grs.length; j++)
                {
                    var smbs = grs[j].split('');
                    rnd.shuffleFisherYates(smbs);
                    for (var k = 0; k < smbs.length; k++)
                        smbs[k] = smbs[k] + rnd.next(0, 4);
                    arr.push(smbs.join(','));
                }
                arrs.push(arr.join(';'));
            }
            showRules(arrs, symbols.slice(0, 11));
        }

        function showRules(grps, symbols)
        {
            var list = document.querySelectorAll('.cube-rotation .face');
            var tr = { A: 0, B: 1, C: 2, D: 3, E: 4, F: 5, G: 6, H: 7, X: 8, Y: 9, Z: 10 };

            for (var i = 0; i < grps.length; i++)
            {
                var stuff = grps[i].split(';');
                for (var j = 0; j < stuff.length; j++)
                {
                    var faces = stuff[j].split(',');
                    for (var k = 0; k < faces.length; k++)
                    {
                        var elem = list[k + 3*(j + 24*i)];
                        elem.className = elem.className
                            .replace(/symbol-[ABCDEFGHXYZ\d]+/, `symbol-${symbols [ tr [ faces[k].substr(0, 1) ] ]}`)
                            .replace(/or-\d/, `or-${faces[k].substr(1)}`);
                    }
                }
            }

            var smbs = document.querySelectorAll('.symbol_container .symbols .face');
            var chrs = "ABCDXYXYXZEFGHXZXYYZ";
            for (var i = 0; i < chrs.length; i++)
                smbs[i].className = smbs[i].className
                    .replace(/symbol-[ABCDEFGHXYZ\d]+/, `symbol-${symbols [ tr [ chrs.substr(i, 1) ] ]}`)
        }
    </script>
    <style>
        .cube-row {
            display: block;
            margin-bottom: -.3cm;
        }
            .cube-row:nth-child(2n) {
                padding-left: 1.3cm;
            }

        .cube-box {
            display: inline-block;
            position: relative;
            width: 2.7cm;
            height: 2.65cm;
        }

        .cube-rotation {
            transform: translate(-.15cm, -.15cm) rotate3d(1,0,0, -25deg) rotate3d(0,1,0, 45deg);
            perspective: 50cm;
            transform-style: preserve-3d;
            position: absolute;
            left: .5cm;
            top: .5cm;
            width: 2cm;
            height: 2cm;
        }

        .face {
            position: absolute;
            left: 0;
            top: 0;
            width: 1.8cm;
            height: 1.8cm;
            background-image: url("img/Pattern Cube/Faces.svg");
            background-size: 16cm 19.2cm;
            background-repeat: no-repeat;
            border: .1cm solid black;
            border-radius: .1cm;
            box-sizing: border-box;
        }
            .face.small {
                width: .9cm;
                height: .9cm;
                background-size: 8cm 9.6cm;
            }
        .face.symbol-0 { background-position: -0cm -0cm; }
        .face.symbol-1 { background-position: -1.6cm -0cm; }
        .face.symbol-2 { background-position: -3.2cm -0cm; }
        .face.symbol-3 { background-position: -4.8cm -0cm; }
        .face.symbol-4 { background-position: -6.4cm -0cm; }
        .face.symbol-5 { background-position: -8cm -0cm; }
        .face.symbol-6 { background-position: -9.6cm -0cm; }
        .face.symbol-7 { background-position: -11.2cm -0cm; }
        .face.symbol-8 { background-position: -12.8cm -0cm; }
        .face.symbol-9 { background-position: -14.4cm -0cm; }
        .face.symbol-10 { background-position: -0cm -1.6cm; }
        .face.symbol-11 { background-position: -1.6cm -1.6cm; }
        .face.symbol-12 { background-position: -3.2cm -1.6cm; }
        .face.symbol-13 { background-position: -4.8cm -1.6cm; }
        .face.symbol-14 { background-position: -6.4cm -1.6cm; }
        .face.symbol-15 { background-position: -8cm -1.6cm; }
        .face.symbol-16 { background-position: -9.6cm -1.6cm; }
        .face.symbol-17 { background-position: -11.2cm -1.6cm; }
        .face.symbol-18 { background-position: -12.8cm -1.6cm; }
        .face.symbol-19 { background-position: -14.4cm -1.6cm; }
        .face.symbol-20 { background-position: -0cm -3.2cm; }
        .face.symbol-21 { background-position: -1.6cm -3.2cm; }
        .face.symbol-22 { background-position: -3.2cm -3.2cm; }
        .face.symbol-23 { background-position: -4.8cm -3.2cm; }
        .face.symbol-24 { background-position: -6.4cm -3.2cm; }
        .face.symbol-25 { background-position: -8cm -3.2cm; }
        .face.symbol-26 { background-position: -9.6cm -3.2cm; }
        .face.symbol-27 { background-position: -11.2cm -3.2cm; }
        .face.symbol-28 { background-position: -12.8cm -3.2cm; }
        .face.symbol-29 { background-position: -14.4cm -3.2cm; }
        .face.symbol-30 { background-position: -0cm -4.8cm; }
        .face.symbol-31 { background-position: -1.6cm -4.8cm; }
        .face.symbol-32 { background-position: -3.2cm -4.8cm; }
        .face.symbol-33 { background-position: -4.8cm -4.8cm; }
        .face.symbol-34 { background-position: -6.4cm -4.8cm; }
        .face.symbol-35 { background-position: -8cm -4.8cm; }
        .face.symbol-36 { background-position: -9.6cm -4.8cm; }
        .face.symbol-37 { background-position: -11.2cm -4.8cm; }
        .face.symbol-38 { background-position: -12.8cm -4.8cm; }
        .face.symbol-39 { background-position: -14.4cm -4.8cm; }
        .face.symbol-40 { background-position: -0cm -6.4cm; }
        .face.symbol-41 { background-position: -1.6cm -6.4cm; }
        .face.symbol-42 { background-position: -3.2cm -6.4cm; }
        .face.symbol-43 { background-position: -4.8cm -6.4cm; }
        .face.symbol-44 { background-position: -6.4cm -6.4cm; }
        .face.symbol-45 { background-position: -8cm -6.4cm; }
        .face.symbol-46 { background-position: -9.6cm -6.4cm; }
        .face.symbol-47 { background-position: -11.2cm -6.4cm; }
        .face.symbol-48 { background-position: -12.8cm -6.4cm; }
        .face.symbol-49 { background-position: -14.4cm -6.4cm; }
        .face.symbol-50 { background-position: -0cm -8cm; }
        .face.symbol-51 { background-position: -1.6cm -8cm; }
        .face.symbol-52 { background-position: -3.2cm -8cm; }
        .face.symbol-53 { background-position: -4.8cm -8cm; }
        .face.symbol-54 { background-position: -6.4cm -8cm; }
        .face.symbol-55 { background-position: -8cm -8cm; }
        .face.symbol-56 { background-position: -9.6cm -8cm; }
        .face.symbol-57 { background-position: -11.2cm -8cm; }
        .face.symbol-58 { background-position: -12.8cm -8cm; }
        .face.symbol-59 { background-position: -14.4cm -8cm; }
        .face.symbol-60 { background-position: -0cm -9.6cm; }
        .face.symbol-61 { background-position: -1.6cm -9.6cm; }
        .face.symbol-62 { background-position: -3.2cm -9.6cm; }
        .face.symbol-63 { background-position: -4.8cm -9.6cm; }
        .face.symbol-64 { background-position: -6.4cm -9.6cm; }
        .face.symbol-65 { background-position: -8cm -9.6cm; }
        .face.symbol-66 { background-position: -9.6cm -9.6cm; }
        .face.symbol-67 { background-position: -11.2cm -9.6cm; }
        .face.symbol-68 { background-position: -12.8cm -9.6cm; }
        .face.symbol-69 { background-position: -14.4cm -9.6cm; }
        .face.symbol-70 { background-position: -0cm -11.2cm; }
        .face.symbol-71 { background-position: -1.6cm -11.2cm; }
        .face.symbol-72 { background-position: -3.2cm -11.2cm; }
        .face.symbol-73 { background-position: -4.8cm -11.2cm; }
        .face.symbol-74 { background-position: -6.4cm -11.2cm; }
        .face.symbol-75 { background-position: -8cm -11.2cm; }
        .face.symbol-76 { background-position: -9.6cm -11.2cm; }
        .face.symbol-77 { background-position: -11.2cm -11.2cm; }
        .face.symbol-78 { background-position: -12.8cm -11.2cm; }
        .face.symbol-79 { background-position: -14.4cm -11.2cm; }
        .face.symbol-80 { background-position: -0cm -12.8cm; }
        .face.symbol-81 { background-position: -1.6cm -12.8cm; }
        .face.symbol-82 { background-position: -3.2cm -12.8cm; }
        .face.symbol-83 { background-position: -4.8cm -12.8cm; }
        .face.symbol-84 { background-position: -6.4cm -12.8cm; }
        .face.symbol-85 { background-position: -8cm -12.8cm; }
        .face.symbol-86 { background-position: -9.6cm -12.8cm; }
        .face.symbol-87 { background-position: -11.2cm -12.8cm; }
        .face.symbol-88 { background-position: -12.8cm -12.8cm; }
        .face.symbol-89 { background-position: -14.4cm -12.8cm; }
        .face.symbol-90 { background-position: -0cm -14.4cm; }
        .face.symbol-91 { background-position: -1.6cm -14.4cm; }
        .face.symbol-92 { background-position: -3.2cm -14.4cm; }
        .face.symbol-93 { background-position: -4.8cm -14.4cm; }
        .face.symbol-94 { background-position: -6.4cm -14.4cm; }
        .face.symbol-95 { background-position: -8cm -14.4cm; }
        .face.symbol-96 { background-position: -9.6cm -14.4cm; }
        .face.symbol-97 { background-position: -11.2cm -14.4cm; }
        .face.symbol-98 { background-position: -12.8cm -14.4cm; }
        .face.symbol-99 { background-position: -14.4cm -14.4cm; }
        .face.symbol-100 { background-position: -0cm -16cm; }
        .face.symbol-101 { background-position: -1.6cm -16cm; }
        .face.symbol-102 { background-position: -3.2cm -16cm; }
        .face.symbol-103 { background-position: -4.8cm -16cm; }
        .face.symbol-104 { background-position: -6.4cm -16cm; }
        .face.symbol-105 { background-position: -8cm -16cm; }
        .face.symbol-106 { background-position: -9.6cm -16cm; }
        .face.symbol-107 { background-position: -11.2cm -16cm; }
        .face.symbol-108 { background-position: -12.8cm -16cm; }
        .face.symbol-109 { background-position: -14.4cm -16cm; }
        .face.symbol-110 { background-position: -0cm -17.6cm; }
        .face.symbol-111 { background-position: -1.6cm -17.6cm; }
        .face.symbol-112 { background-position: -3.2cm -17.6cm; }
        .face.symbol-113 { background-position: -4.8cm -17.6cm; }
        .face.symbol-114 { background-position: -6.4cm -17.6cm; }
        .face.symbol-115 { background-position: -8cm -17.6cm; }
        .face.symbol-116 { background-position: -9.6cm -17.6cm; }
        .face.symbol-117 { background-position: -11.2cm -17.6cm; }
        .face.symbol-118 { background-position: -12.8cm -17.6cm; }
        .face.symbol-119 { background-position: -14.4cm -17.6cm; }
        .face.small.symbol-0 { background-position: 0cm 0cm; }
        .face.small.symbol-1 { background-position: -0.8cm 0cm; }
        .face.small.symbol-2 { background-position: -1.6cm 0cm; }
        .face.small.symbol-3 { background-position: -2.4cm 0cm; }
        .face.small.symbol-4 { background-position: -3.2cm 0cm; }
        .face.small.symbol-5 { background-position: -4cm 0cm; }
        .face.small.symbol-6 { background-position: -4.8cm 0cm; }
        .face.small.symbol-7 { background-position: -5.6cm 0cm; }
        .face.small.symbol-8 { background-position: -6.4cm 0cm; }
        .face.small.symbol-9 { background-position: -7.2cm 0cm; }
        .face.small.symbol-10 { background-position: 0cm -0.8cm; }
        .face.small.symbol-11 { background-position: -0.8cm -0.8cm; }
        .face.small.symbol-12 { background-position: -1.6cm -0.8cm; }
        .face.small.symbol-13 { background-position: -2.4cm -0.8cm; }
        .face.small.symbol-14 { background-position: -3.2cm -0.8cm; }
        .face.small.symbol-15 { background-position: -4cm -0.8cm; }
        .face.small.symbol-16 { background-position: -4.8cm -0.8cm; }
        .face.small.symbol-17 { background-position: -5.6cm -0.8cm; }
        .face.small.symbol-18 { background-position: -6.4cm -0.8cm; }
        .face.small.symbol-19 { background-position: -7.2cm -0.8cm; }
        .face.small.symbol-20 { background-position: 0cm -1.6cm; }
        .face.small.symbol-21 { background-position: -0.8cm -1.6cm; }
        .face.small.symbol-22 { background-position: -1.6cm -1.6cm; }
        .face.small.symbol-23 { background-position: -2.4cm -1.6cm; }
        .face.small.symbol-24 { background-position: -3.2cm -1.6cm; }
        .face.small.symbol-25 { background-position: -4cm -1.6cm; }
        .face.small.symbol-26 { background-position: -4.8cm -1.6cm; }
        .face.small.symbol-27 { background-position: -5.6cm -1.6cm; }
        .face.small.symbol-28 { background-position: -6.4cm -1.6cm; }
        .face.small.symbol-29 { background-position: -7.2cm -1.6cm; }
        .face.small.symbol-30 { background-position: 0cm -2.4cm; }
        .face.small.symbol-31 { background-position: -0.8cm -2.4cm; }
        .face.small.symbol-32 { background-position: -1.6cm -2.4cm; }
        .face.small.symbol-33 { background-position: -2.4cm -2.4cm; }
        .face.small.symbol-34 { background-position: -3.2cm -2.4cm; }
        .face.small.symbol-35 { background-position: -4cm -2.4cm; }
        .face.small.symbol-36 { background-position: -4.8cm -2.4cm; }
        .face.small.symbol-37 { background-position: -5.6cm -2.4cm; }
        .face.small.symbol-38 { background-position: -6.4cm -2.4cm; }
        .face.small.symbol-39 { background-position: -7.2cm -2.4cm; }
        .face.small.symbol-40 { background-position: 0cm -3.2cm; }
        .face.small.symbol-41 { background-position: -0.8cm -3.2cm; }
        .face.small.symbol-42 { background-position: -1.6cm -3.2cm; }
        .face.small.symbol-43 { background-position: -2.4cm -3.2cm; }
        .face.small.symbol-44 { background-position: -3.2cm -3.2cm; }
        .face.small.symbol-45 { background-position: -4cm -3.2cm; }
        .face.small.symbol-46 { background-position: -4.8cm -3.2cm; }
        .face.small.symbol-47 { background-position: -5.6cm -3.2cm; }
        .face.small.symbol-48 { background-position: -6.4cm -3.2cm; }
        .face.small.symbol-49 { background-position: -7.2cm -3.2cm; }
        .face.small.symbol-50 { background-position: 0cm -4cm; }
        .face.small.symbol-51 { background-position: -0.8cm -4cm; }
        .face.small.symbol-52 { background-position: -1.6cm -4cm; }
        .face.small.symbol-53 { background-position: -2.4cm -4cm; }
        .face.small.symbol-54 { background-position: -3.2cm -4cm; }
        .face.small.symbol-55 { background-position: -4cm -4cm; }
        .face.small.symbol-56 { background-position: -4.8cm -4cm; }
        .face.small.symbol-57 { background-position: -5.6cm -4cm; }
        .face.small.symbol-58 { background-position: -6.4cm -4cm; }
        .face.small.symbol-59 { background-position: -7.2cm -4cm; }
        .face.small.symbol-60 { background-position: 0cm -4.8cm; }
        .face.small.symbol-61 { background-position: -0.8cm -4.8cm; }
        .face.small.symbol-62 { background-position: -1.6cm -4.8cm; }
        .face.small.symbol-63 { background-position: -2.4cm -4.8cm; }
        .face.small.symbol-64 { background-position: -3.2cm -4.8cm; }
        .face.small.symbol-65 { background-position: -4cm -4.8cm; }
        .face.small.symbol-66 { background-position: -4.8cm -4.8cm; }
        .face.small.symbol-67 { background-position: -5.6cm -4.8cm; }
        .face.small.symbol-68 { background-position: -6.4cm -4.8cm; }
        .face.small.symbol-69 { background-position: -7.2cm -4.8cm; }
        .face.small.symbol-70 { background-position: 0cm -5.6cm; }
        .face.small.symbol-71 { background-position: -0.8cm -5.6cm; }
        .face.small.symbol-72 { background-position: -1.6cm -5.6cm; }
        .face.small.symbol-73 { background-position: -2.4cm -5.6cm; }
        .face.small.symbol-74 { background-position: -3.2cm -5.6cm; }
        .face.small.symbol-75 { background-position: -4cm -5.6cm; }
        .face.small.symbol-76 { background-position: -4.8cm -5.6cm; }
        .face.small.symbol-77 { background-position: -5.6cm -5.6cm; }
        .face.small.symbol-78 { background-position: -6.4cm -5.6cm; }
        .face.small.symbol-79 { background-position: -7.2cm -5.6cm; }
        .face.small.symbol-80 { background-position: 0cm -6.4cm; }
        .face.small.symbol-81 { background-position: -0.8cm -6.4cm; }
        .face.small.symbol-82 { background-position: -1.6cm -6.4cm; }
        .face.small.symbol-83 { background-position: -2.4cm -6.4cm; }
        .face.small.symbol-84 { background-position: -3.2cm -6.4cm; }
        .face.small.symbol-85 { background-position: -4cm -6.4cm; }
        .face.small.symbol-86 { background-position: -4.8cm -6.4cm; }
        .face.small.symbol-87 { background-position: -5.6cm -6.4cm; }
        .face.small.symbol-88 { background-position: -6.4cm -6.4cm; }
        .face.small.symbol-89 { background-position: -7.2cm -6.4cm; }
        .face.small.symbol-90 { background-position: 0cm -7.2cm; }
        .face.small.symbol-91 { background-position: -0.8cm -7.2cm; }
        .face.small.symbol-92 { background-position: -1.6cm -7.2cm; }
        .face.small.symbol-93 { background-position: -2.4cm -7.2cm; }
        .face.small.symbol-94 { background-position: -3.2cm -7.2cm; }
        .face.small.symbol-95 { background-position: -4cm -7.2cm; }
        .face.small.symbol-96 { background-position: -4.8cm -7.2cm; }
        .face.small.symbol-97 { background-position: -5.6cm -7.2cm; }
        .face.small.symbol-98 { background-position: -6.4cm -7.2cm; }
        .face.small.symbol-99 { background-position: -7.2cm -7.2cm; }
        .face.small.symbol-100 { background-position: 0cm -8cm; }
        .face.small.symbol-101 { background-position: -0.8cm -8cm; }
        .face.small.symbol-102 { background-position: -1.6cm -8cm; }
        .face.small.symbol-103 { background-position: -2.4cm -8cm; }
        .face.small.symbol-104 { background-position: -3.2cm -8cm; }
        .face.small.symbol-105 { background-position: -4cm -8cm; }
        .face.small.symbol-106 { background-position: -4.8cm -8cm; }
        .face.small.symbol-107 { background-position: -5.6cm -8cm; }
        .face.small.symbol-108 { background-position: -6.4cm -8cm; }
        .face.small.symbol-109 { background-position: -7.2cm -8cm; }
        .face.small.symbol-110 { background-position: 0cm -8.8cm; }
        .face.small.symbol-111 { background-position: -0.8cm -8.8cm; }
        .face.small.symbol-112 { background-position: -1.6cm -8.8cm; }
        .face.small.symbol-113 { background-position: -2.4cm -8.8cm; }
        .face.small.symbol-114 { background-position: -3.2cm -8.8cm; }
        .face.small.symbol-115 { background-position: -4cm -8.8cm; }
        .face.small.symbol-116 { background-position: -4.8cm -8.8cm; }
        .face.small.symbol-117 { background-position: -5.6cm -8.8cm; }
        .face.small.symbol-118 { background-position: -6.4cm -8.8cm; }
        .face.small.symbol-119 { background-position: -7.2cm -8.8cm; }
        .symbol_container {
            position: relative;
        }

        .symbol_container > .symbols {
            position: absolute;
            left: 2.75cm;
            top: -.1cm;
            width: 14.5cm;
        }

        .symbol_container > .symbols > div {
            position: static;
            display: inline-block;
            vertical-align: bottom;
            width: .8cm;
            height: .8cm;
            border: none;
        }

        .symbol_container > .symbols > .sep { width: .3cm; }

        .symbol_container > .symbols > .sq { position: relative; color: black; }
        .symbol_container > .symbols > .sq-1 { background-color: hsl(  0, 35%, 67%); }
        .symbol_container > .symbols > .sq-2 { background-color: hsl(100, 30%, 67%); }
        .symbol_container > .symbols > .sq-3 { background-color: hsl(200, 30%, 67%); }
        .symbol_container > .symbols > .sq > span {
            position: absolute;
            left: 50%;
            top: 54%;
            transform: translate(-50%, -50%);
            font-size: 16pt;
        }

        .front { background-color: hsl(0, 0%, 60%); }
            .front.or-0 { transform: translateZ(.9cm); }
            .front.or-1 { transform: translateZ(.9cm) rotateZ(90deg); }
            .front.or-2 { transform: translateZ(.9cm) rotateZ(180deg); }
            .front.or-3 { transform: translateZ(.9cm) rotateZ(270deg); }

        .left { background-color: hsl(0, 0%, 48%); }
            .left.or-0 { transform: rotateY(-90deg) translateZ(.9cm); }
            .left.or-1 { transform: rotateY(-90deg) translateZ(.9cm) rotateZ(90deg); }
            .left.or-2 { transform: rotateY(-90deg) translateZ(.9cm) rotateZ(180deg); }
            .left.or-3 { transform: rotateY(-90deg) translateZ(.9cm) rotateZ(270deg); }

        .top { background-color: hsl(0, 0%, 78%); }
            .top.or-0 { transform: rotateX(90deg) translateZ(.9cm); }
            .top.or-1 { transform: rotateX(90deg) translateZ(.9cm) rotateZ(90deg); }
            .top.or-2 { transform: rotateX(90deg) translateZ(.9cm) rotateZ(180deg); }
            .top.or-3 { transform: rotateX(90deg) translateZ(.9cm) rotateZ(270deg); }

        .num-1 .front { background-color: hsl(0, 18%, 67%); }
            .num-1 .front.or-0 { border-color: hsl(0, 18%, 95%) hsl(0, 18%, 61%) hsl(0, 18%, 54%) hsl(0, 18%, 81%); }
            .num-1 .front.or-1 { border-color: hsl(0, 18%, 61%) hsl(0, 18%, 54%) hsl(0, 18%, 81%) hsl(0, 18%, 95%); }
            .num-1 .front.or-2 { border-color: hsl(0, 18%, 54%) hsl(0, 18%, 81%) hsl(0, 18%, 95%) hsl(0, 18%, 61%); }
            .num-1 .front.or-3 { border-color: hsl(0, 18%, 81%) hsl(0, 18%, 95%) hsl(0, 18%, 61%) hsl(0, 18%, 54%); }

        .num-1 .left { background-color: hsl(0, 18%, 54%); }
            .num-1 .left.or-0 { border-color: hsl(0, 18%, 74%) hsl(0, 18%, 74%) hsl(0, 18%, 40%) hsl(0, 18%, 88%); }
            .num-1 .left.or-1 { border-color: hsl(0, 18%, 74%) hsl(0, 18%, 40%) hsl(0, 18%, 88%) hsl(0, 18%, 74%); }
            .num-1 .left.or-2 { border-color: hsl(0, 18%, 40%) hsl(0, 18%, 88%) hsl(0, 18%, 74%) hsl(0, 18%, 74%); }
            .num-1 .left.or-3 { border-color: hsl(0, 18%, 88%) hsl(0, 18%, 74%) hsl(0, 18%, 74%) hsl(0, 18%, 40%); }

        .num-1 .top { background-color: hsl(0, 18%, 88%); }
            .num-1 .top.or-0 { border-color: hsl(0, 18%, 95%) hsl(0, 18%, 95%) hsl(0, 18%, 95%) hsl(0, 18%, 81%); }
            .num-1 .top.or-1 { border-color: hsl(0, 18%, 95%) hsl(0, 18%, 95%) hsl(0, 18%, 81%) hsl(0, 18%, 95%); }
            .num-1 .top.or-2 { border-color: hsl(0, 18%, 95%) hsl(0, 18%, 81%) hsl(0, 18%, 95%) hsl(0, 18%, 95%); }
            .num-1 .top.or-3 { border-color: hsl(0, 18%, 81%) hsl(0, 18%, 95%) hsl(0, 18%, 95%) hsl(0, 18%, 95%); }

        .num-2 .front { background-color: hsl(100, 18%, 67%); }
            .num-2 .front.or-0 { border-color: hsl(100, 18%, 95%) hsl(100, 18%, 61%) hsl(100, 18%, 54%) hsl(100, 18%, 81%); }
            .num-2 .front.or-1 { border-color: hsl(100, 18%, 61%) hsl(100, 18%, 54%) hsl(100, 18%, 81%) hsl(100, 18%, 95%); }
            .num-2 .front.or-2 { border-color: hsl(100, 18%, 54%) hsl(100, 18%, 81%) hsl(100, 18%, 95%) hsl(100, 18%, 61%); }
            .num-2 .front.or-3 { border-color: hsl(100, 18%, 81%) hsl(100, 18%, 95%) hsl(100, 18%, 61%) hsl(100, 18%, 54%); }

        .num-2 .left { background-color: hsl(100, 18%, 54%); }
            .num-2 .left.or-0 { border-color: hsl(100, 18%, 74%) hsl(100, 18%, 74%) hsl(100, 18%, 40%) hsl(100, 18%, 88%); }
            .num-2 .left.or-1 { border-color: hsl(100, 18%, 74%) hsl(100, 18%, 40%) hsl(100, 18%, 88%) hsl(100, 18%, 74%); }
            .num-2 .left.or-2 { border-color: hsl(100, 18%, 40%) hsl(100, 18%, 88%) hsl(100, 18%, 74%) hsl(100, 18%, 74%); }
            .num-2 .left.or-3 { border-color: hsl(100, 18%, 88%) hsl(100, 18%, 74%) hsl(100, 18%, 74%) hsl(100, 18%, 40%); }

        .num-2 .top { background-color: hsl(100, 18%, 88%); }
            .num-2 .top.or-0 { border-color: hsl(100, 18%, 95%) hsl(100, 18%, 95%) hsl(100, 18%, 95%) hsl(100, 18%, 81%); }
            .num-2 .top.or-1 { border-color: hsl(100, 18%, 95%) hsl(100, 18%, 95%) hsl(100, 18%, 81%) hsl(100, 18%, 95%); }
            .num-2 .top.or-2 { border-color: hsl(100, 18%, 95%) hsl(100, 18%, 81%) hsl(100, 18%, 95%) hsl(100, 18%, 95%); }
            .num-2 .top.or-3 { border-color: hsl(100, 18%, 81%) hsl(100, 18%, 95%) hsl(100, 18%, 95%) hsl(100, 18%, 95%); }

        .num-3 .front { background-color: hsl(200, 18%, 67%); }
            .num-3 .front.or-0 { border-color: hsl(200, 18%, 95%) hsl(200, 18%, 61%) hsl(200, 18%, 54%) hsl(200, 18%, 81%); }
            .num-3 .front.or-1 { border-color: hsl(200, 18%, 61%) hsl(200, 18%, 54%) hsl(200, 18%, 81%) hsl(200, 18%, 95%); }
            .num-3 .front.or-2 { border-color: hsl(200, 18%, 54%) hsl(200, 18%, 81%) hsl(200, 18%, 95%) hsl(200, 18%, 61%); }
            .num-3 .front.or-3 { border-color: hsl(200, 18%, 81%) hsl(200, 18%, 95%) hsl(200, 18%, 61%) hsl(200, 18%, 54%); }

        .num-3 .left { background-color: hsl(200, 18%, 54%); }
            .num-3 .left.or-0 { border-color: hsl(200, 18%, 74%) hsl(200, 18%, 74%) hsl(200, 18%, 40%) hsl(200, 18%, 88%); }
            .num-3 .left.or-1 { border-color: hsl(200, 18%, 74%) hsl(200, 18%, 40%) hsl(200, 18%, 88%) hsl(200, 18%, 74%); }
            .num-3 .left.or-2 { border-color: hsl(200, 18%, 40%) hsl(200, 18%, 88%) hsl(200, 18%, 74%) hsl(200, 18%, 74%); }
            .num-3 .left.or-3 { border-color: hsl(200, 18%, 88%) hsl(200, 18%, 74%) hsl(200, 18%, 74%) hsl(200, 18%, 40%); }

        .num-3 .top { background-color: hsl(200, 18%, 88%); }
            .num-3 .top.or-0 { border-color: hsl(200, 18%, 95%) hsl(200, 18%, 95%) hsl(200, 18%, 95%) hsl(200, 18%, 81%); }
            .num-3 .top.or-1 { border-color: hsl(200, 18%, 95%) hsl(200, 18%, 95%) hsl(200, 18%, 81%) hsl(200, 18%, 95%); }
            .num-3 .top.or-2 { border-color: hsl(200, 18%, 95%) hsl(200, 18%, 81%) hsl(200, 18%, 95%) hsl(200, 18%, 95%); }
            .num-3 .top.or-3 { border-color: hsl(200, 18%, 81%) hsl(200, 18%, 95%) hsl(200, 18%, 95%) hsl(200, 18%, 95%); }

        .page-content {
            position: relative;
        }

        div.footnotes {
            position: absolute;
            left: 0;
            bottom: 0;
            font-size: smaller;
            margin: 0 0 1em;
            padding-top: 1em;
        }

            div.footnotes::before {
                content: '';
                border-top: 1px solid #ccc;
                width: 10em;
                position: absolute;
                left: 0;
                top: 0;
            }

            div.footnotes p {
                margin: .3em 0;
            }

        ul { padding-left: 1em; }
        li { margin: 1.6em 0; }
        .symbol_container { margin: 1.3em 0 .7em; }

        @media print {
            a[href] {
                color: black;
                text-decoration: none;
            }
        }

        @media screen and (max-width: 900px) {
            li {
                margin: .5em 0;
            }

            div.footnotes {
                position: relative;
            }
                div.footnotes p {
                    margin: .3em 0;
                }

            .cube-row {
                margin: 0 -.5em -.35cm;
            }
            .cube-row:nth-child(2n) {
                padding-left: .55cm;
            }
            .cube-box {
                display: inline-block;
                width: 1.35cm;
                height: 1.35cm;
            }
            .cube-rotation {
                transform: translate(-.2cm, -.1cm) scale(.5) rotate3d(1,0,0, -25deg) rotate3d(0,1,0, 45deg);
                transform-origin: 0 0;
            }
        }
        .dark .symbol_container .symbols .face {
            filter: invert(80%);
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-06">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">パターンキューブ</span>
            </div>
            <div class="page-content">
                <img class="diagram" src="img/Component/Pattern Cube.svg">
                <h2>モジュール詳細：パターンキューブ</h2>

                <p class="flavour-text">ヒントもらえないの?ほら、ドロップストーンの50周年記念なんだから!</p>

                <ul>
                    <li>このモジュールは立方体の展開図<sup>[1]</sup>と左の選択可能な5つのシンボルの列からなる。これらのシンボルを利用する。</li>
                    <li>展開図のうちの一つの正方形には6個目シンボルが既に記載されている。このシンボルと、その向いている方向も利用する。</li>
                    <li>次のページに、シンボルが書かれた立方体の画像のリストがあり、これらは2つのグループに分かれている。</li>
                    <li>モジュールに記載された<em>6つすべて</em>のシンボルが含まれるように、グループ1から<em>1つ</em>の立方体、グループ2から<em>1つ</em>の立方体を選択する。</li>
                    <li>選択した二つの画像は、同じ立方体を異なる角度から眺めたものになる。その立方体におけるそれぞれのシンボルの位置と向いている方法を推論する。</li>
                    <li>左の5つのシンボルのうちの1つと、シンボルが含まれない展開図の正方形のうちの1つは赤くハイライトされている。
                        ハイライトされたシンボルはハイライトされた正方形に位置しなければならない。これも、シンボルの正しい向きを推論しなけらばならないことに変わりはない。
                    </li>
                    <li>左の5つのシンボルを押すと選択される。選択されたシンボルは縁が緑色になる。</li>
                    <li>選択されたシンボルを再度押すと回転する。</li>
                    <li>展開図の正方形を押すと、選択されたシンボルがその位置に配置される。シンボルが選択されていない状態で正方形を押してはならない。</li>
                    <li>立方体とその展開図が一致するように、左の5つのシンボル全てを正しい位置・方向で配置するとモジュールが解除される。</li>
                </ul>

                <div class="footnotes">
                    <p>[1] <a href="https://ja.wikipedia.org/wiki/展開図">https://ja.wikipedia.org/wiki/%E5%B1%95%E9%96%8B%E5%9B%B3</a></p>
                </div>
            </div>
            <div class="page-footer relative-footer">ページ 1/2</div>
        </div>
        <div class="page page-bg-04">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">パターンキューブ</span>
            </div>
            <div class="page-content">

                <div class="symbol_container"><h3>グループ1</h3><div class='symbols'>
                    <div class='face small highlightable symbol-90'></div>
                    <div class='face small highlightable symbol-91'></div>
                    <div class='face small highlightable symbol-92'></div>
                    <div class='face small highlightable symbol-93'></div>
                    <div class='sep'></div>
                    <div class='sq sq-1'><span>1</span></div>
                    <div class='sq sq-2'><span>2</span></div>
                    <div class='sq sq-3'><span>3</span></div>
                    <div class='sep'></div>
                    <div class='face small highlightable symbol-110'></div>
                    <div class='sep'></div>
                    <div class='face small highlightable symbol-111'></div>
                    <div class='sep'></div>
                    <div class='face small highlightable symbol-110'></div>
                    <div class='face small highlightable symbol-111'></div>
                    <div class='sep'></div>
                    <div class='face small highlightable symbol-110'></div>
                    <div class='face small highlightable symbol-112'></div>
                </div></div>
                <div class='cubes'>
                <!-- g1-s -->
                    <div class='cube-row'><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-110 or-1'></div><div class='face left symbol-90 or-3'></div><div class='face front symbol-91 or-1'></div></div></div><div class='cube-box highlightable num-1'><div class='cube-rotation'><div class='face top symbol-111 or-0'></div><div class='face left symbol-110 or-1'></div><div class='face front symbol-90 or-1'></div></div></div><div class='cube-box highlightable num-3'><div class='cube-rotation'><div class='face top symbol-91 or-0'></div><div class='face left symbol-93 or-1'></div><div class='face front symbol-92 or-2'></div></div></div><div class='cube-box highlightable num-1'><div class='cube-rotation'><div class='face top symbol-112 or-1'></div><div class='face left symbol-90 or-2'></div><div class='face front symbol-110 or-0'></div></div></div><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-111 or-2'></div><div class='face left symbol-91 or-0'></div><div class='face front symbol-90 or-2'></div></div></div><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-111 or-3'></div><div class='face left symbol-92 or-1'></div><div class='face front symbol-91 or-0'></div></div></div></div>
                    <div class='cube-row'><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-110 or-2'></div><div class='face left symbol-92 or-0'></div><div class='face front symbol-90 or-1'></div></div></div><div class='cube-box highlightable num-1'><div class='cube-rotation'><div class='face top symbol-110 or-1'></div><div class='face left symbol-111 or-2'></div><div class='face front symbol-91 or-0'></div></div></div><div class='cube-box highlightable num-3'><div class='cube-rotation'><div class='face top symbol-92 or-2'></div><div class='face left symbol-90 or-3'></div><div class='face front symbol-93 or-1'></div></div></div><div class='cube-box highlightable num-1'><div class='cube-rotation'><div class='face top symbol-112 or-1'></div><div class='face left symbol-110 or-3'></div><div class='face front symbol-91 or-1'></div></div></div><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-90 or-2'></div><div class='face left symbol-92 or-3'></div><div class='face front symbol-111 or-2'></div></div></div><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-93 or-1'></div><div class='face left symbol-91 or-2'></div><div class='face front symbol-111 or-0'></div></div></div></div>
                    <div class='cube-row'><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-110 or-2'></div><div class='face left symbol-92 or-2'></div><div class='face front symbol-91 or-1'></div></div></div><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-110 or-1'></div><div class='face left symbol-90 or-2'></div><div class='face front symbol-93 or-2'></div></div></div><div class='cube-box highlightable num-1'><div class='cube-rotation'><div class='face top symbol-110 or-2'></div><div class='face left symbol-92 or-3'></div><div class='face front symbol-111 or-0'></div></div></div><div class='cube-box highlightable num-3'><div class='cube-rotation'><div class='face top symbol-93 or-3'></div><div class='face left symbol-90 or-0'></div><div class='face front symbol-91 or-3'></div></div></div><div class='cube-box highlightable num-1'><div class='cube-rotation'><div class='face top symbol-110 or-0'></div><div class='face left symbol-112 or-2'></div><div class='face front symbol-92 or-1'></div></div></div><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-90 or-0'></div><div class='face left symbol-111 or-3'></div><div class='face front symbol-93 or-0'></div></div></div></div>
                    <div class='cube-row'><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-93 or-0'></div><div class='face left symbol-91 or-0'></div><div class='face front symbol-110 or-0'></div></div></div><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-110 or-1'></div><div class='face left symbol-92 or-1'></div><div class='face front symbol-93 or-0'></div></div></div><div class='cube-box highlightable num-1'><div class='cube-rotation'><div class='face top symbol-111 or-0'></div><div class='face left symbol-93 or-0'></div><div class='face front symbol-110 or-3'></div></div></div><div class='cube-box highlightable num-3'><div class='cube-rotation'><div class='face top symbol-92 or-3'></div><div class='face left symbol-91 or-3'></div><div class='face front symbol-90 or-1'></div></div></div><div class='cube-box highlightable num-1'><div class='cube-rotation'><div class='face top symbol-112 or-1'></div><div class='face left symbol-93 or-0'></div><div class='face front symbol-110 or-0'></div></div></div><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-92 or-1'></div><div class='face left symbol-93 or-0'></div><div class='face front symbol-111 or-2'></div></div></div></div>
                <!-- g1-e -->
                </div>
                <div class="symbol_container"><h3>グループ2</h3><div class='symbols'>
                    <div class='face small highlightable symbol-100'></div>
                    <div class='face small highlightable symbol-101'></div>
                    <div class='face small highlightable symbol-102'></div>
                    <div class='face small highlightable symbol-103'></div>
                    <div class='sep'></div>
                    <div class='sq sq-1'><span>1</span></div>
                    <div class='sq sq-2'><span>2</span></div>
                    <div class='sq sq-3'><span>3</span></div>
                    <div class='sep'></div>
                    <div class='face small highlightable symbol-110'></div>
                    <div class='sep'></div>
                    <div class='face small highlightable symbol-112'></div>
                    <div class='sep'></div>
                    <div class='face small highlightable symbol-110'></div>
                    <div class='face small highlightable symbol-111'></div>
                    <div class='sep'></div>
                    <div class='face small highlightable symbol-111'></div>
                    <div class='face small highlightable symbol-112'></div>
                </div></div>
                <div class='cubes'>
                <!-- g2-s -->
                    <div class='cube-row'><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-110 or-1'></div><div class='face left symbol-100 or-0'></div><div class='face front symbol-101 or-0'></div></div></div><div class='cube-box highlightable num-1'><div class='cube-rotation'><div class='face top symbol-110 or-0'></div><div class='face left symbol-100 or-3'></div><div class='face front symbol-111 or-1'></div></div></div><div class='cube-box highlightable num-3'><div class='cube-rotation'><div class='face top symbol-103 or-1'></div><div class='face left symbol-102 or-1'></div><div class='face front symbol-101 or-1'></div></div></div><div class='cube-box highlightable num-1'><div class='cube-rotation'><div class='face top symbol-111 or-3'></div><div class='face left symbol-112 or-3'></div><div class='face front symbol-100 or-1'></div></div></div><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-112 or-3'></div><div class='face left symbol-101 or-1'></div><div class='face front symbol-100 or-2'></div></div></div><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-102 or-1'></div><div class='face left symbol-112 or-1'></div><div class='face front symbol-101 or-1'></div></div></div></div>
                    <div class='cube-row'><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-100 or-0'></div><div class='face left symbol-110 or-2'></div><div class='face front symbol-102 or-1'></div></div></div><div class='cube-box highlightable num-1'><div class='cube-rotation'><div class='face top symbol-110 or-0'></div><div class='face left symbol-101 or-0'></div><div class='face front symbol-111 or-2'></div></div></div><div class='cube-box highlightable num-3'><div class='cube-rotation'><div class='face top symbol-102 or-1'></div><div class='face left symbol-100 or-2'></div><div class='face front symbol-103 or-3'></div></div></div><div class='cube-box highlightable num-1'><div class='cube-rotation'><div class='face top symbol-101 or-1'></div><div class='face left symbol-111 or-2'></div><div class='face front symbol-112 or-0'></div></div></div><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-102 or-2'></div><div class='face left symbol-100 or-2'></div><div class='face front symbol-112 or-1'></div></div></div><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-101 or-1'></div><div class='face left symbol-112 or-1'></div><div class='face front symbol-103 or-2'></div></div></div></div>
                    <div class='cube-row'><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-102 or-1'></div><div class='face left symbol-110 or-1'></div><div class='face front symbol-101 or-0'></div></div></div><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-103 or-3'></div><div class='face left symbol-110 or-2'></div><div class='face front symbol-100 or-2'></div></div></div><div class='cube-box highlightable num-1'><div class='cube-rotation'><div class='face top symbol-111 or-1'></div><div class='face left symbol-110 or-3'></div><div class='face front symbol-102 or-3'></div></div></div><div class='cube-box highlightable num-3'><div class='cube-rotation'><div class='face top symbol-103 or-1'></div><div class='face left symbol-100 or-3'></div><div class='face front symbol-101 or-0'></div></div></div><div class='cube-box highlightable num-1'><div class='cube-rotation'><div class='face top symbol-102 or-0'></div><div class='face left symbol-112 or-2'></div><div class='face front symbol-111 or-0'></div></div></div><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-112 or-0'></div><div class='face left symbol-103 or-2'></div><div class='face front symbol-100 or-3'></div></div></div></div>
                    <div class='cube-row'><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-110 or-3'></div><div class='face left symbol-103 or-1'></div><div class='face front symbol-101 or-0'></div></div></div><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-102 or-1'></div><div class='face left symbol-103 or-3'></div><div class='face front symbol-110 or-0'></div></div></div><div class='cube-box highlightable num-1'><div class='cube-rotation'><div class='face top symbol-110 or-3'></div><div class='face left symbol-103 or-3'></div><div class='face front symbol-111 or-0'></div></div></div><div class='cube-box highlightable num-3'><div class='cube-rotation'><div class='face top symbol-100 or-0'></div><div class='face left symbol-101 or-0'></div><div class='face front symbol-102 or-1'></div></div></div><div class='cube-box highlightable num-1'><div class='cube-rotation'><div class='face top symbol-112 or-3'></div><div class='face left symbol-111 or-3'></div><div class='face front symbol-103 or-1'></div></div></div><div class='cube-box highlightable num-2'><div class='cube-rotation'><div class='face top symbol-112 or-2'></div><div class='face left symbol-103 or-3'></div><div class='face front symbol-102 or-2'></div></div></div></div>
                    <!-- g2-e -->
                </div>
            </div>
            <div class="page-footer relative-footer">ページ 2/2</div>
        </div>
    </div>
</body>
</html>