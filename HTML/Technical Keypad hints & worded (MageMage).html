<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Technical Keypad — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.7.0.min.js"></script>
    <script>
    $(function() {
        const colours = {
            R: "#C00E",
            O: "#D70E",
            Y: "#DB3E",
            G: "#383E",
            B: "#57CE",
            T: "#256E",
            P: "#74AE",
            W: "#DDDE",
            K: "#333E",
            A: "#888E",
            _: "none"
        };
        const colourOrderGrid = "GYTBWOPRK ROYGTKBPW YPBTORWKG WROYKTGBP TKGPYBOWR OGPKRWTYB KBWOPGRTY BWKRGPYOT PTRWBYKGO".replaceAll(" ", "");
    
        $("button.reveal").click(function() {
            if(!confirm("Are you sure you want to see the solution?")) return;
            $(".page-bg-03").removeClass("hidden");
            $(".page-bg-02").addClass("hidden");
            window.scrollTo(0, 0)
        });
        $("button.hide").click(function() {
            $(".page-bg-03").addClass("hidden");
            $(".page-bg-02").removeClass("hidden");
        });
        $(".colour-order-grid th, .colour-order-grid td").addClass("empty");
        $(".colour-order-grid td").each((ix, elem) => {
            const colourText = colourOrderGrid.charAt(ix)
            elem.style.backgroundColor = colours[colourText];

            if (!"WK".includes(colourText))
                elem.textContent = colourText;
        });
    });
    </script>
    <style>
        .page.hidden { display: none; }
        .dark table, table {
            margin: 1em auto;
            border: none;
        }
        div.m, td { text-align: center; }
        p.formula {
            text-align: center;
            font-size: 30px;
        }
        sup { font-style: italic; }
        h1 {
            text-align: center;
            text-decoration: underline;
        }
        details {
            margin: 3px;
            padding: 2px 6px 0 0;
        }
        details > summary {
            margin-bottom: 5px;
            width: 15em;
            background-color: #ddd;
            border: none;
            box-shadow: 3px 3px 4px black;
            cursor: pointer;
            list-style: none;
            color: black;
        }
        button {
            font-family: Special Elite;
            background-color: white;
            color: black;
            border-radius: 5px;
            border: black 3px solid;
            padding: 5px 10px;
            transition: color 1s, background-color 1s;
        }
        td.yellow {
            background-color: #EEE022; color: #000;
        }
        td.green {
            background-color: #22CC22; color: #000;
        }
        .page {
            background-position: top;
            background-repeat: repeat-y;
        }
        .page-bg-03 { line-height: 1.35; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-03 hidden">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Technical Keypad</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Technical Keypad.svg" class="diagram">
                <h2>On the Subject of Technical Keypad</h2>
                <p class="flavour-text">The intern got to write this.</p>
                <div class="m"><button class="hide">Hide worded Manual</button></div>

                <p> A Technical Buttons module has a display with 12 digits, 3 LEDs on the left that might be lit or unlit, a grid of 9 buttons each in a different colour, a progress bar on the right, and a hatch at the bottom.</p>
                <p>To solve the module press the correct buttons following some rules.<br>
                Making a wrong input or running out of time at the last step will result in a strike and all inputs are reset. The solution stays the same though.</p>
                <p>Each button will have a different colour and there are 9 colours in total, meaning each one will be present exactly once. The colours are: Red, Green, Blue, Teal, Yellow, Orange, Purple, White, and Black.</p>
                <h3>Step 1: Determining Valid Colours</h3>
                <p>Take the 3x3 grid of coloured buttons shown on the module and place a digit above and below each column, as well as to the left and to the right of each row.</p>
                <p>The digits to place are determined by the string of 12 digits in the top display. The first digit will always be above the center column. Go forwards through the displayed number and if a parallel port is present proceed counterclockwise around the grid placing digits in the unfilled spots. If there is no parallel port do the same but go clockwise instead.</p>
                <p>Next to determine valid colours, find the intersections of rows and columns where at least one digit matches. Every button that has at least one number in the same column match a number in the same row is considered valid.</p>
                <p>Should the bottom LED be lit (it will be red), then invert this selection.</p>
                <h3>Step 2: Determining Colour order</h3>
                <p>Using the last digit of the serial number (use 1 if it is 0) and the top two LEDs, take a row or column of the table on the next page to get a colour order.</p>
                <table>
                <tr><td colspan="2" class="green">Top LED lit</td><td colspan="2">Top LED unlit</td></tr>
                <tr><td class="yellow">Middle lit</td><td>Middle unlit</td><td class="yellow">Middle lit</td><td>Middle unlit</td></tr>
                <tr><td>row<br>right to left</td><td>row<br>left to right</td><td>column<br>bottom to top</td><td>column<br>top to bottom</td></tr>
                </table>
            </div>
            <div class="page-footer relative-footer">Page 1 of 2</div>
        </div>
        <div class="page page-bg-03 hidden">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Technical Keypad</span>
            </div>
            <div class="page-content">
                <table class="colour-order-grid">
                    <tr><th class="corner"></th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th class="corner"></th></tr>
                    <tr><th>1</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><th>1</th></tr>
                    <tr><th>2</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><th>2</th></tr>
                    <tr><th>3</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><th>3</th></tr>
                    <tr><th>4</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><th>4</th></tr>
                    <tr><th>5</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><th>5</th></tr>
                    <tr><th>6</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><th>6</th></tr>
                    <tr><th>7</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><th>7</th></tr>
                    <tr><th>8</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><th>8</th></tr>
                    <tr><th>9</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><th>9</th></tr>
                    <tr><th class="corner"></th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th class="corner"></th></tr>
                </table>
                <p>With this you now have an order of colours which will be used in step 3.</p>
                
                <h3>Step 3: Input</h3>
                <p>Go through the colour order from step 2 and follow the rules for each valid colour as determined in step 1. Each rule will have you press or hold buttons, disregard validity for which buttons to press.<br>
                After finishing the input for one rule the progress bar on the right will fill.</p>
                <b>Red:</b> Press the button itself as well as all <b>orthogonally</b> adjacent ones.<br>
                <b>Green:</b> Press the button itself as well as all <b>diagonally</b> adjacent ones.<br>
                <b>Blue:</b> Press every button <b>except</b> the blue one.<br>
                <b>Teal:</b> Press every button in the same column.<br>
                <b>Yellow:</b> Press every button in the same row.<br>
                <b>Orange:</b> Press the button itself and all colours earlier in the colour order.<br>
                <b>Purple:</b> Press the button itself and all colours later in the colour order.<br>
                <b>White:</b> Take the battery count plus one. Hold the button for that many beeps.<br>
                <b>Black:</b> Take the indicator count plus one. Hold the button for that many beeps.<br>
                
                <h3>Final Step: Mashing</h3>
                <p>After doing the last input of the last rule, a siren will ring and the status light will spin with a red light.<br>
                The hatch at the bottom of the module should open and reveal a button with "Mash" written on it.</p>
                <p>Mash the button until the module solves.</p>
            </div>
            <div class="page-footer relative-footer">Page 2 of 2</div>
        </div>
        
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Warning</span>
                <span class="page-header-section-title">Technical Keypad</span>
            </div>
            <div class="page-content">
                <h1>ATTENTION</h1>
                <p>The original manual is entirely in symbols and I think it does a really good job at explaining how this module works. Now I know that this is not something for everybody or maybe you are feeling stuck, you just ran into this module and have to sightread it or whatever reason you might have to turn to this manual.</p>
                <p>This manual has several hints for you to look at for each of the individual "steps" to edge you closer to deciphering the original manual and just to help you out.</p>
                <p>At the bottom of the hints is a reveal button, that will show the worded manual when you need it (it can also be hidden again there via a new button).</p>
                <p>I really encourage you to give the standard manual a try because it is just really well made, took a lot of work and is a nice little puzzle, but again feel free to fall back onto this version.</p>
                <p>Cheers, Mage.</p>
                
                <h3>Step 1</h3>
                <details>
                    <summary>Hint 1</summary>
                    This step uses page 1 and the top of page 2.
                </details>
                <details>
                    <summary>Hint 2</summary>
                    The module icon in the top-right has a black rectangle as well.
                </details>
                <details>
                    <summary>Hint 3</summary>
                    What is '#' usually used as a placeholder for?
                </details>
                <details>
                    <summary>Hint 4</summary>
                    The Diamond is at the top... then an arrow goes clockwise or counterclockwise.
                </details>
                <details>
                    <summary>Hint 5</summary>
                    The Manual is drawing your attention to same symbols...
                </details>
                <details>
                    <summary>Hint 6</summary>
                    Looks like intersections are important.
                </details>
                <details>
                    <summary>Hint 7</summary>
                    Sometimes you need to invert it seems.
                </details>
                
                <h3>Step 2</h3>
                <details>
                    <summary>Hint 1</summary>
                    This step uses the remainder of page 2.
                </details>
                <details>
                    <summary>Hint 2</summary>
                    That thing on the left looks awfully familiar...
                </details>
                <details>
                    <summary>Hint 3</summary>
                    Looks like the top 2 lights are now important.
                </details>
                <details>
                    <summary>Hint 4</summary>
                    Maybe the table gives you some kind of order?
                </details>
            </div>
            <div class="page-footer relative-footer">Page -1 of 2</div>
        </div>      
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Warning</span>
                <span class="page-header-section-title">Technical Keypad</span>
            </div>
            <div class="page-content">
                <h3>Step 3</h3>
                <details>
                    <summary>Hint 1</summary>
                    This step uses pages 3 and 4.
                </details>
                <details>
                    <summary>Hint 2</summary>
                    Here you will be pressing some buttons.
                </details>
                <details>
                    <summary>Hint 3</summary>
                    Seems as if all colours have their own rules here.
                </details>
                <details>
                    <summary>Hint 4</summary>
                    Order does matter to some extent.
                </details>
                <details>
                    <summary>Hint 5</summary>
                    Red and Green like their neighbours... while blue is struggling with itself.
                </details>
                <details>
                    <summary>Hint 6</summary>
                    Teal and Yellow like verticals and horizontals.
                </details>
                <details>
                    <summary>Hint 7</summary>
                    Orange and Purple look at a row of circles... I've seen this somewhere above.
                </details>
                <details>
                    <summary>Hint 8</summary>
                    White and Black are being hold, but for how long?
                </details>
                
                <h3>Final Step</h3>
                <details>
                    <summary>Hint 1</summary>
                    This step uses the last page.
                </details>
                <details>
                    <summary>Hint 2</summary>
                    I think the word on the button is there for a reason.
                </details>
                <br>

                <div class="m"><button class="reveal">REVEAL</button></div>
            </div>
            <div class="page-footer relative-footer">Page 0 of 2</div>
        </div>
    </div>
</body>
</html>