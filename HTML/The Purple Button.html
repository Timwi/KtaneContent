<!DOCTYPE html>
<html>
<head>
    <title>The Purple Button — Keep Talking and Nobody Explodes Mod</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel='stylesheet' type='text/css' href='css/font.css'>
    <script src="js/ktane-utils.js"></script>
    <script src="js/ruleseed.js"></script>
    <script>
        function setDefaultRules(rnd)
        {
            setRules(rnd);
        }

        function setRules(rnd)
        {
            for (let i = rnd.next(0, 200); i >= 0; i--)
                rnd.next(0, 2);
            let edgework = [
                'number of indicators',
                'number of lit indicators',
                'number of unlit indicators',
                'number of indicators containing ‘A’',
                'number of indicators containing ‘N’',
                'number of indicators containing ‘R’',
                'number of indicators containing ‘S’',
                'number of batteries',
                'number of D batteries',
                'number of AA batteries',
                'number of battery holders',
                'number of ports',
                'number of port plates',
                'number of distinct port types',
                'third character in the serial number',
                'last character in the serial number',
                'number of letters in the serial number',
                'number of digits in the serial number',
                'number of consonants in the serial number',
                'number of distinct characters in the serial number'
            ];
            rnd.shuffleFisherYates(edgework);

            document.getElementById('pb-rules').innerHTML = edgework.map((ew, ix) => `<tr><td${ix % 2 != 0 ? '' : ' class="off"'}><${''}/td><td>${ew}<${''}/td><${''}/tr>`).join('');
        }
    </script>
    <style>
        #pb-rules {
            margin: .5cm auto .5cm 0;
        }
            #pb-rules td {
                padding: .25em .6em .15em;
            }
                #pb-rules td.off {
                    background: black;
                }

        .footnotes {
            position: relative;
            margin-top: 1cm;
            font-size: 10pt;
        }
            .footnotes p {
                margin: .1cm 0;
            }
            .footnotes::before {
                position: absolute;
                left: 0;
                top: -.2cm;
                width: 5cm;
                border-top: 1px solid black;
                display: block;
                content: '';
            }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-05">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">The Purple Button</span>
            </div>
            <div class="page-content">
                <img src="img/Component/The Purple Button.svg" class="diagram">
                <h2>On the Subject of The Purple Button</h2>
                <p class="flavour-text">This is a button. It is purple.</p>
                <p>Find a subsequence<sup>1</sup> within the following list that matches the sequence of six numbers cycling on the module.</p>
                <table id='pb-rules'>
                </table>
                <p>Tap the button on the entry <em>two before</em> the one that is earliest in the list. Input mode starts two entries later. At each entry, set the bulb to the state indicated (black = off, white = on). Leave the button alone if the bulb is already correct or tap it to toggle it.</p>
                <div class='footnotes'>
                    <p><sup>1</sup> Like a subset, but retains the original ordering.</p>
                </div>
            </div>
            <div class="page-footer relative-footer">Page 1 of 1</div>
        </div>
    </div>
</body>
</html>