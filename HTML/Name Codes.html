<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Name Codes — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.1.1.min.js"></script>
    <script src="js/ruleseed.js"></script>
    <script>
        function setDefaultRules(){
            setTable([
                'Angle', 'Grave', 'Bark', 'Ruler', 'Kite', 'While', 'Query', 'Arrow', 'Teepee', 'Party', 'Dijon',
                'Travel', 'Bone', 'Green', 'Sparks', 'Spins', 'Vice', 'Nomen', 'Vertigo', 'Preset', 'Crypt'
            ]);
        }
        function setRules(rnd){
            let possibleWords = [
                'Angle', 'Grave', 'Bark', 'Ruler', 'Kite', 'While', 'Query', 'Arrow', 'Teepee', 'Party', 'Dijon', 'Travel', 'Bone', 'Green', 'Sparks', 'Spins', 'Vice', 'Nomen',
                'Vertigo', 'Preset', 'Crypt', 'Royal', 'Index', 'Jewels', 'Bees', 'Barn', 'Foxes', 'Weasel', 'Queasy', 'Pencil', 'Winter', 'Jail', 'Yolk', 'Quota', 'Banjo', 'Coax',
                'Jazz', 'Files', 'Caged', 'Pistol', 'Champ', 'Globe', 'Baskets', 'Morgue', 'Gelatin', 'Quality', 'Array', 'Lean', 'Weary', 'Zealot', 'Jungles', 'Fence', 'Kindly',
                'Sunny', 'Species', 'Agile', 'Cram', 'Visit', 'Psychic', 'Vial', 'Route', 'Final', 'Bagel'
            ];
            let invalidSetup = false;
            do {
                rnd.shuffleFisherYates(possibleWords);
                let lengths = { 4:0, 5:0, 6:0, 7:0 };
                for (let i = 0; i < 21; i++){
                    lengths[possibleWords[i].length]++;
                }
                invalidSetup = lengths[7] > 2 ||
                               lengths[6] < 3 || lengths[6] > 5 ||
                               lengths[5] < 10 || lengths[5] > 15 ||
                               lengths[4] < 3 || lengths[4] > 5;
            } while (invalidSetup);
            setTable(possibleWords);
        }
        function setTable(arr){
            let cells = $("table td");
            for (let i = 0; i < 21; i++)
                cells[i].innerText = arr[i];
        }
    </script>
    <style>
        table {
            margin: 1em auto;
        }
    </style>
</head>
<body>
    <div class='section'>
        <div class='page page-bg-01'>
            <div class='page-header'>
                <span class='page-header-doc-title'>Keep Talking and Nobody Explodes Mod</span>
                <span class='page-header-section-title'>Name Codes</span>
            </div>
            <div class='page-content'>
                <img src='img/Component/Name Codes.svg' class='diagram'>
                <h2>On the Subject of Name Codes</h2>
                <p class='flavour-text'>The game’s aim: change names.</p>

                <p>This module will have a single letter in its center and two tilted left and right arrows. The center screen displays the letter in the current position of the <strong>chosen string</strong>.</p>
                <p>The chosen string is formed by concatenating five of the words from the below word list. The string loops around.</p>
                <p>
                    Pressing the left and right arrows will move the current position in the chosen string left or right by the <strong>left index</strong> and
                    <strong>right index</strong> respectively. These indices will both be between 2 and 5 inclusive, and will be coprime to each other.
                </p>
                <p>
                    To solve the module, multiply the left index by two and add it to the right index.
                    Press the center letter when the last digit of the countdown timer is the least significant digit of this number.
                </p>

                <table>
                    <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                    <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                    <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                </table>
            </div>
            <div class='page-footer relative-footer'>Page 1 of 1</div>
        </div>
    </div>
</body>
</html>