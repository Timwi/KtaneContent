<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>サイモンの回転 — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/ruleseed.js"></script>
    <style>
        .symbol {
            width: 1cm;
            height: 1cm;
            display: block;
            background-size: 3cm 20cm;
            background-repeat: no-repeat;
            background-image: url('img/Simon%20Spins/Icons.svg');
        }
            .symbol-0-0 { background-position:  0cm  0cm; }
            .symbol-0-1 { background-position: -1cm  0cm; }
            .symbol-0-2 { background-position: -2cm  0cm; }
            .symbol-1-0 { background-position:  0cm -1cm; }
            .symbol-1-1 { background-position: -1cm -1cm; }
            .symbol-1-2 { background-position: -2cm -1cm; }
            .symbol-2-0 { background-position:  0cm -2cm; }
            .symbol-2-1 { background-position: -1cm -2cm; }
            .symbol-2-2 { background-position: -2cm -2cm; }
            .symbol-3-0 { background-position:  0cm -3cm; }
            .symbol-3-1 { background-position: -1cm -3cm; }
            .symbol-3-2 { background-position: -2cm -3cm; }
            .symbol-4-0 { background-position:  0cm -4cm; }
            .symbol-4-1 { background-position: -1cm -4cm; }
            .symbol-4-2 { background-position: -2cm -4cm; }
            .symbol-5-0 { background-position:  0cm -5cm; }
            .symbol-5-1 { background-position: -1cm -5cm; }
            .symbol-5-2 { background-position: -2cm -5cm; }
            .symbol-6-0 { background-position:  0cm -6cm; }
            .symbol-6-1 { background-position: -1cm -6cm; }
            .symbol-6-2 { background-position: -2cm -6cm; }
            .symbol-7-0 { background-position:  0cm -7cm; }
            .symbol-7-1 { background-position: -1cm -7cm; }
            .symbol-7-2 { background-position: -2cm -7cm; }
            .symbol-8-0 { background-position:  0cm -8cm; }
            .symbol-8-1 { background-position: -1cm -8cm; }
            .symbol-8-2 { background-position: -2cm -8cm; }
            .symbol-9-0 { background-position:  0cm -9cm; }
            .symbol-9-1 { background-position: -1cm -9cm; }
            .symbol-9-2 { background-position: -2cm -9cm; }
            .symbol-10-0 { background-position:  0cm -10cm; }
            .symbol-10-1 { background-position: -1cm -10cm; }
            .symbol-10-2 { background-position: -2cm -10cm; }
            .symbol-11-0 { background-position:  0cm -11cm; }
            .symbol-11-1 { background-position: -1cm -11cm; }
            .symbol-11-2 { background-position: -2cm -11cm; }
            .symbol-12-0 { background-position:  0cm -12cm; }
            .symbol-12-1 { background-position: -1cm -12cm; }
            .symbol-12-2 { background-position: -2cm -12cm; }
            .symbol-13-0 { background-position:  0cm -13cm; }
            .symbol-13-1 { background-position: -1cm -13cm; }
            .symbol-13-2 { background-position: -2cm -13cm; }
            .symbol-14-0 { background-position:  0cm -14cm; }
            .symbol-14-1 { background-position: -1cm -14cm; }
            .symbol-14-2 { background-position: -2cm -14cm; }
            .symbol-15-0 { background-position:  0cm -15cm; }
            .symbol-15-1 { background-position: -1cm -15cm; }
            .symbol-15-2 { background-position: -2cm -15cm; }
            .symbol-16-0 { background-position:  0cm -16cm; }
            .symbol-16-1 { background-position: -1cm -16cm; }
            .symbol-16-2 { background-position: -2cm -16cm; }
            .symbol-17-0 { background-position:  0cm -17cm; }
            .symbol-17-1 { background-position: -1cm -17cm; }
            .symbol-17-2 { background-position: -2cm -17cm; }
            .symbol-18-0 { background-position:  0cm -18cm; }
            .symbol-18-1 { background-position: -1cm -18cm; }
            .symbol-18-2 { background-position: -2cm -18cm; }
            .symbol-19-0 { background-position:  0cm -19cm; }
            .symbol-19-1 { background-position: -1cm -19cm; }
            .symbol-19-2 { background-position: -2cm -19cm; }

        .dark table, table {
            border: none;
        }
        th {
            text-align: right;
        }
        td {
            padding: .2em .5em;
        }
        ul {
            padding-left: 1.25em;
        }
        li {
            margin: .75em 0;
        }
        .simon-spins {
            float: left;
        }
        .main-content {
            float: right;
            width: 11.5cm;
        }

        div.footnotes {
            position: relative;
            margin-top: 1em;
            padding-top: 1em;
        }
        div.footnotes:before {
            border-top: 1px solid #888;
            left: 0;
            top: 0;
            position: absolute;
            width: 50mm;
            content: '';
        }
        span.footnote-marker {
            position: absolute;
            left: 0;
        }
        p.footnote {
            font-size: 75%;
            padding-left: 1.2em;
        }
        .rule {
            text-decoration: underline;
        }
        body.ruleseed-active .rule {
            font-weight: bold;
        }
        .mobile {
            display: none;
        }

        @media screen and (max-width: 900px) {
            .simon-spins, .main-content {
                float: none;
                width: auto;
            }
            .mobile {
                display: inline;
            }
            .non-mobile {
                display: none;
            }
        }
    </style>
    <script>
        function setDefaultRules(rnd)
        {
            setRules(rnd);
        }

        function setRules(rnd)
        {
            for (var i = rnd.next(0, 24); i >= 0; i--)
                rnd.nextDouble();

            var properties = [];
            for (var i = 0; i < 20; i++)
                properties.push(i);

            rnd.shuffleFisherYates(properties);

            var propList = document.getElementsByClassName('label');
            var valuesList = document.getElementsByClassName('value');
            for (var i = 0; i < 20; i++)
            {
                var values = [];
                for (var j = 0; j < 3; j++)
                    values.push(j);
                rnd.shuffleFisherYates(values);
                for (var j = 0; j < 3; j++)
                    document.getElementById(`symbol-${i}-${j}`).className = `symbol symbol-${properties[i]}-${values[j]}`;
                document.getElementById(`asterisk-${i}`).innerText = (properties[i] >= 13 && properties[i] <= 15) ? '* ' : '';
            }

            var snRulePairs = [
                [ 'シリアルナンバーの最初の数字', 'シリアルナンバーの最後の数字' ],
                [ 'シリアルナンバーの最初の数字', 'シリアルナンバーの二番目の数字' ],
                [ 'シリアルナンバーの三番目の文字', 'シリアルナンバーの六番目の文字' ],
                [ 'シリアルナンバーの最後から二番目の数字', 'シリアルナンバーの最後の数字' ],
            ];
            var alternativeNumbers = [
                [
                    'インジケーターの数',
                    '点灯したインジケーターの数',
                    '点灯していないインジケーターの数',
                    'インジケーターの異なる文字の数',
                    'インジケーターの異なる母音の数',
                    'インジケーターの異なる子音の数',
                    '点灯したインジケーターの異なる文字の数',
                    '点灯したインジケーターの異なる母音の数',
                    '点灯したインジケーターの異なる子音の数',
                    '点灯していないインジケーターの異なる文字の数',
                    '点灯していないインジケーターの異なる母音の数',
                    '点灯していないインジケーターの異なる子音の数',
                ],
                [
                    'ポートの数',
                    'ポートプレートの数',
                    '空ではないポートプレートの数',
                    '一つより多くポートがあるポートプレートの数',
                    'ポートの種類の数',
                    '重複しているポートの数',
                    'パラレルポートの数',
                    'シリアルポートの数',
                    'RJ-45ポートの数',
                    'ステレオRCAポートの数',
                    'DVI-Dポートの数',
                    'PS/2ポートの数',
                    'パラレルポート以外のポートの数',
                    'シリアルポート以外のポートの数',
                    'RJ-45ポート以外のポートの数',
                    'ステレオRCAポート以外のポートの数',
                    'DVI-Dポート以外のポートの数',
                    'PS/2ポート以外のポートの数',
                ],
                [
                    'バッテリーの数',
                    '単1バッテリーの数',
                    '単3バッテリーの本数を2で割った数(小数点以下切り捨て)',
                    '特殊モジュールを含むモジュールの総数',
                    '特殊モジュールを含まないモジュールの総数'
                ]
            ];

            var rulePair = snRulePairs[rnd.next(0, snRulePairs.length)];
            switch (rnd.next(0, 3))
            {
                case 0:
                    var arr = alternativeNumbers[rnd.next(0, alternativeNumbers.length)];
                    rulePair = [ rulePair[rnd.next(0, 2)], arr[rnd.next(0, arr.length)] ];
                    break;
                case 1:
                    rulePair = [ rulePair[1], rulePair[0] ];
                    break;
                // case 2 simply does nothing
            }

            document.getElementById('rule-1').innerText = rulePair[0];
            document.getElementById('rule-2').innerText = rulePair[1];
        }
    </script>
</head>
<body>
    <div class="section">
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">サイモンの回転</span>
            </div>
            <div class="page-content">
                <div class='main-content'>
                    <img class="diagram" src="img/Component/Simon Spins.svg">
                <h2>モジュール詳細：サイモンの回転</h2>
                    <p class="flavour-text">目が回っていない限りは大丈夫。</p>

                    <ul>
                        <li>軸の付いた3つのパドルが存在する。これらのパドルは、<span class='non-mobile'>左の</span><span class='mobile'>以下の</span>表に挙げられている、異なる設定(色、形状、模様等)を持つ。</li>
                        <li><span class='rule' id='rule-1'>シリアルナンバーの三番目の文字</span>を利用してどの段から開始するかを特定する。<span class='rule' id='rule-2'>シリアルナンバーの六番目の文字</span>が奇数の場合、その値に10を足す。</li>
                        <li>ステージ1では、開始段の<em>左端</em>の列を参照し、その設定を持つパドルを探す。そのパドルが<em>次の</em>段のどの設定に当てはまっているかを<em>記憶して</em>、そのパドルを押す。</li>
                        <li>ステージ2では、<em>記憶した</em>設定を持つパドルを押す。その後、<em>同じ</em>段の右隣の設定を持つパドルを見つける。そのパドルが<em>次の</em>段のどの設定に当てはまっているかを<em>記憶して</em>、そのパドルを押す。
                        <li>その後のステージでは、これまで<em>記憶した</em>設定のシーケンスを順番に押す。<em>最後に</em>使用した設定の右隣に進み、そのパドルが<em>次の</em>段のどの設定に当てはまっているかを<em>記憶して</em>、そのパドルを押す。</li>
                        <li>表の下端や右端に到達した場合、上端や左端にループする。</li>
                        <li>このモジュールには、3~5ステージ存在する。</li>
                        <li>間違ったパドルを押すとミスが記録され、ステージ1にリセットされる。</li>
                    </ul>

                    <div class='footnotes'>
                        <p class='footnote'><span class='footnote-marker'>*</span>「*」のマークが付いた設定はパドルの<em>裏</em>側に関連する設定である。パドルを長押しすると裏返しになる。</p>
                    </div>
                </div>

                <table class="simon-spins">
                    <tr><th><span id="asterisk-0"></span>0</th><td><div class="symbol symbol-0-2" id="symbol-0-0"></div></td><td><div class="symbol symbol-0-1" id="symbol-0-1"></div></td><td><div class="symbol symbol-0-0" id="symbol-0-2"></div></td></tr>
                    <tr><th><span id="asterisk-1"></span>1</th><td><div class="symbol symbol-8-1" id="symbol-1-0"></div></td><td><div class="symbol symbol-8-2" id="symbol-1-1"></div></td><td><div class="symbol symbol-8-0" id="symbol-1-2"></div></td></tr>
                    <tr><th><span id="asterisk-2">* </span>2</th><td><div class="symbol symbol-15-1" id="symbol-2-0"></div></td><td><div class="symbol symbol-15-2" id="symbol-2-1"></div></td><td><div class="symbol symbol-15-0" id="symbol-2-2"></div></td></tr>
                    <tr><th><span id="asterisk-3"></span>3</th><td><div class="symbol symbol-16-0" id="symbol-3-0"></div></td><td><div class="symbol symbol-16-2" id="symbol-3-1"></div></td><td><div class="symbol symbol-16-1" id="symbol-3-2"></div></td></tr>
                    <tr><th><span id="asterisk-4"></span>4</th><td><div class="symbol symbol-4-1" id="symbol-4-0"></div></td><td><div class="symbol symbol-4-2" id="symbol-4-1"></div></td><td><div class="symbol symbol-4-0" id="symbol-4-2"></div></td></tr>
                    <tr><th><span id="asterisk-5"></span>5</th><td><div class="symbol symbol-2-0" id="symbol-5-0"></div></td><td><div class="symbol symbol-2-1" id="symbol-5-1"></div></td><td><div class="symbol symbol-2-2" id="symbol-5-2"></div></td></tr>
                    <tr><th><span id="asterisk-6"></span>6</th><td><div class="symbol symbol-3-1" id="symbol-6-0"></div></td><td><div class="symbol symbol-3-2" id="symbol-6-1"></div></td><td><div class="symbol symbol-3-0" id="symbol-6-2"></div></td></tr>
                    <tr><th><span id="asterisk-7"></span>7</th><td><div class="symbol symbol-6-2" id="symbol-7-0"></div></td><td><div class="symbol symbol-6-0" id="symbol-7-1"></div></td><td><div class="symbol symbol-6-1" id="symbol-7-2"></div></td></tr>
                    <tr><th><span id="asterisk-8"></span>8</th><td><div class="symbol symbol-12-1" id="symbol-8-0"></div></td><td><div class="symbol symbol-12-2" id="symbol-8-1"></div></td><td><div class="symbol symbol-12-0" id="symbol-8-2"></div></td></tr>
                    <tr><th><span id="asterisk-9"></span>9</th><td><div class="symbol symbol-1-0" id="symbol-9-0"></div></td><td><div class="symbol symbol-1-1" id="symbol-9-1"></div></td><td><div class="symbol symbol-1-2" id="symbol-9-2"></div></td></tr>
                    <tr><th><span id="asterisk-10"></span>10</th><td><div class="symbol symbol-5-2" id="symbol-10-0"></div></td><td><div class="symbol symbol-5-1" id="symbol-10-1"></div></td><td><div class="symbol symbol-5-0" id="symbol-10-2"></div></td></tr>
                    <tr><th><span id="asterisk-11"></span>11</th><td><div class="symbol symbol-7-1" id="symbol-11-0"></div></td><td><div class="symbol symbol-7-0" id="symbol-11-1"></div></td><td><div class="symbol symbol-7-2" id="symbol-11-2"></div></td></tr>
                    <tr><th><span id="asterisk-12"></span>12</th><td><div class="symbol symbol-19-2" id="symbol-12-0"></div></td><td><div class="symbol symbol-19-1" id="symbol-12-1"></div></td><td><div class="symbol symbol-19-0" id="symbol-12-2"></div></td></tr>
                    <tr><th><span id="asterisk-13"></span>13</th><td><div class="symbol symbol-9-2" id="symbol-13-0"></div></td><td><div class="symbol symbol-9-1" id="symbol-13-1"></div></td><td><div class="symbol symbol-9-0" id="symbol-13-2"></div></td></tr>
                    <tr><th><span id="asterisk-14">* </span>14</th><td><div class="symbol symbol-14-0" id="symbol-14-0"></div></td><td><div class="symbol symbol-14-1" id="symbol-14-1"></div></td><td><div class="symbol symbol-14-2" id="symbol-14-2"></div></td></tr>
                    <tr><th><span id="asterisk-15"></span>15</th><td><div class="symbol symbol-18-0" id="symbol-15-0"></div></td><td><div class="symbol symbol-18-2" id="symbol-15-1"></div></td><td><div class="symbol symbol-18-1" id="symbol-15-2"></div></td></tr>
                    <tr><th><span id="asterisk-16">* </span>16</th><td><div class="symbol symbol-13-1" id="symbol-16-0"></div></td><td><div class="symbol symbol-13-0" id="symbol-16-1"></div></td><td><div class="symbol symbol-13-2" id="symbol-16-2"></div></td></tr>
                    <tr><th><span id="asterisk-17"></span>17</th><td><div class="symbol symbol-11-1" id="symbol-17-0"></div></td><td><div class="symbol symbol-11-0" id="symbol-17-1"></div></td><td><div class="symbol symbol-11-2" id="symbol-17-2"></div></td></tr>
                    <tr><th><span id="asterisk-18"></span>18</th><td><div class="symbol symbol-10-1" id="symbol-18-0"></div></td><td><div class="symbol symbol-10-0" id="symbol-18-1"></div></td><td><div class="symbol symbol-10-2" id="symbol-18-2"></div></td></tr>
                    <tr><th><span id="asterisk-19"></span>19</th><td><div class="symbol symbol-17-1" id="symbol-19-0"></div></td><td><div class="symbol symbol-17-2" id="symbol-19-1"></div></td><td><div class="symbol symbol-17-0" id="symbol-19-2"></div></td></tr>
                </table>
            </div>
            <div class="page-footer relative-footer">ページ 1/1</div>
        </div>
    </div>
</body>
</html>
