<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Navinums — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/ruleseed.js"></script>
    <style>
        table {
            margin: 1em auto;
        }

        .navinums-table {
            float: left;
            margin-left: 2cm;
        }

            .navinums-table th {
                font-size: 18pt;
            }

        .navinums-grid {
            float: right;
            margin-right: 2cm;
            margin-top: 3.25cm;
            font-size: 32pt;
        }

        p {
            font-size: 11pt;
        }
    </style>
    <script>
        function setRules(rnd)
        {
            let tds = document.getElementsByClassName('rule-grid');
            let gridDigits = [...Array(9).keys()].map(i => i + 1);
            rnd.shuffleFisherYates(gridDigits);
            for (let i = 0; i < 9; i++)
                tds[i].innerText = gridDigits[i];

            let tds2 = document.getElementsByClassName('rule-lookups');
            for (let i = 0; i < 9; i++)
            {
                let numbers = [];
                for (let j = 0; j < 8; j++)
                    numbers.push(rnd.next(1, 5));
                tds2[i].innerText = numbers.join(', ');
            }
        }

        function setDefaultRules(rnd) { setRules(rnd); }
    </script>
</head>
<body>
    <div class="section">
        <div class="page page-bg-04">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Navinums</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Navinums.svg" class="diagram">
                <h2>On the Subject of Navinums</h2>
                <p class="flavour-text">You should never write words using numbers unless...</p>

                <p>The module consists of five displays, each containing a digit. Disarming this module involves two stages.</p>

                <h3>Stage 1: Press eight directional displays</h3>

                <p>
                    Look up the middle display’s digit in Table 1 below. The sequence of numbers obtained indicates which directional digits to press.
                    “1” indicates the lowest digit, “4” the highest. After each press, the directional displays change, but the middle digit remains the same.
                </p>

                <p>
                    Additionally, move around in the grid beside Table 1 starting with the cell containing the middle digit. Then, for each directional
                    display pressed, move one space in the corresponding direction in this grid. The grid wraps around.
                </p>

                <p>The module can be reseted by clicking and holding the center display for 2 seconds.</p>

                <h3>Stage 2: Press the middle display</h3>

                <p style="margin-bottom: 0px">
                    In this stage, the digit in the middle display changes every second. Press the middle display when the digit displayed is equal
                    to the digit last landed on in the grid beside Table 1.
                </p>

                <table class='navinums-table'>
                    <caption>Table 1</caption>
                    <tr>
                        <th>1</th>
                        <td class='rule-lookups'>4, 2, 4, 3, 3, 4, 3, 4</td>
                    </tr>
                    <tr>
                        <th>2</th>
                        <td class='rule-lookups'>3, 4, 3, 3, 1, 4, 4, 3</td>
                    </tr>
                    <tr>
                        <th>3</th>
                        <td class='rule-lookups'>2, 4, 2, 4, 4, 2, 3, 1</td>
                    </tr>
                    <tr>
                        <th>4</th>
                        <td class='rule-lookups'>2, 1, 2, 2, 3, 1, 2, 4</td>
                    </tr>
                    <tr>
                        <th>5</th>
                        <td class='rule-lookups'>4, 1, 1, 3, 2, 1, 1, 4</td>
                    </tr>
                    <tr>
                        <th>6</th>
                        <td class='rule-lookups'>3, 1, 3, 4, 1, 1, 4, 1</td>
                    </tr>
                    <tr>
                        <th>7</th>
                        <td class='rule-lookups'>4, 4, 4, 3, 3, 3, 1, 4</td>
                    </tr>
                    <tr>
                        <th>8</th>
                        <td class='rule-lookups'>2, 4, 2, 1, 2, 3, 4, 3</td>
                    </tr>
                    <tr>
                        <th>9</th>
                        <td class='rule-lookups'>2, 3, 1, 2, 3, 3, 3, 1</td>
                    </tr>
                </table>
                <table class='navinums-grid'>
                    <tr>
                        <td class='rule-grid'>1</td>
                        <td class='rule-grid'>9</td>
                        <td class='rule-grid'>3</td>
                    </tr>
                    <tr>
                        <td class='rule-grid'>6</td>
                        <td class='rule-grid'>5</td>
                        <td class='rule-grid'>8</td>
                    </tr>
                    <tr>
                        <td class='rule-grid'>7</td>
                        <td class='rule-grid'>2</td>
                        <td class='rule-grid'>4</td>
                    </tr>
                </table>
            </div>
            <div class="page-footer relative-footer">Page 1 of 1</div>
        </div>
    </div>
</body>
</html>