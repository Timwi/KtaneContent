<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>スピーカー — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        table {
            margin: 1em auto;
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">スピーカー</span>
            </div>
            <div class="page-content">
                <img src="img/Component/The Speaker.svg" class="diagram">
                <h2>モジュール詳細：スピーカー</h2>
                <p class="flavour-text">低音ブースト</p>
                <p>このモジュールは、スピーカー、8つのポート、3つのスライダーとスピーカーのシリアルナンバーで構成されている。モジュールを解除するには、すべてのプラグを正しいポートに差し込む。スピーカーのシリアルナンバーは、2つの英字と、2つの数字で構成されている。</p>
                <p>読み順で最初のポートの色を取り、下の表で一緒に記載されている順番を使用する。このシーケンスは、押すたびに何色のプラグを差し込むかを示すものであり、差し込まれるポートの色を示しているわけではない。</p>
                <table>
                    <tr><th>色</th><th>順番</th></tr>
                    <tr><td>黒</td><td>黒、 青、 白、 緑、 黄、 シアン、 マゼンタ、 赤</td></tr>
                    <tr><td>青</td><td>青、 緑、 黒、 シアン、 白、 赤、 黄、 マゼンタ</td></tr>
                    <tr><td>緑</td><td>マゼンタ、 黄、 赤、 白、 シアン、 黒、 緑、 青</td></tr>
                    <tr><td>シアン</td><td>シアン、 赤、 緑、 マゼンタ、 青、 黄、 黒、 白</td></tr>
                    <tr><td>赤</td><td>赤、 マゼンタ、 シアン、 黄、 緑、 白、 青、 黒</td></tr>
                    <tr><td>マゼンタ</td><td>緑、 シアン、 青、 赤、 黒、 マゼンタ、 白、 黄</td></tr>
                    <tr><td>黄</td><td>白、 黒、 黄、 青、 マゼンタ、 緑、 赤、 シアン</td></tr>
                    <tr><td>白</td><td>黄、 白、 マゼンタ、 黒、 赤、 青、 シアン、 緑</td></tr>
                </table>
                <p>スピーカーのシリアルナンバーの数字の合計が0であり、すべてのスライダーが下になっている場合、各プラグを色が一致するポートに差し込む。それ以外の場合、シーケンスから得られたプラグの色に従い、以下のルールに従う。</p>
                <h3>黒</h3>
                <ol>
                    <li>読み順の最後のポートの色を、下の表を使用しRGBの成分に分割する。</li>
                    <li>Rを左のスライダー、Gを中央のスライダー、Bを右のスライダーと比較する。</li>
                    <li>いずれかの0に接続されたスライダーが上、または1に接続されたスライダーが下の場合、読み順で最初ある空いているポートを使用する。</li>
                    <li>それ以外の場合、読み順で最後にある空いているポートを使用する。</li>
                </ol>
                <table>
                    <tr><th>色</th><th>RGB</th><th>色</th><th>RGB</th><th>色</th><th>RGB</th><th>色</th><th>RGB</th></tr>
                    <tr><td>黒</td><td>000</td><td>緑</td><td>010</td><td>赤</td><td>100</td><td>黄</td><td>110</td></tr>
                    <tr><td>青</td><td>001</td><td>シアン</td><td>011</td><td>マゼンタ</td><td>101</td><td>白</td><td>111</td></tr>
                </table>
            </div>
            <div class="page-footer relative-footer">ページ 1/3</div>
        </div>
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">スピーカー</span>
            </div>
            <div class="page-content">
                <h3>青</h3>
                <ol>
                    <li>スピーカーのシリアルナンバーから2つの英字を取る。</li>
                    <li>2番目の英字が1番目の英字よりアルファベット順で後にある場合は下半分を、そうでない場合は上半分を使用する。</li>
                    <li>1番目の英字がアルファベット順で奇数番目にある場合は左半分を、そうでない場合は右半分を使用する。</li>
                    <li>2番目の英字がアルファベット順で奇数番目にある場合は、残りの2つのポートのうち左側を使用し、そうでない場合は残りの2つのポートのうち右側を使用する。</li>
                    <li>このポートがすでに使用されている場合、空いているポートになるまで時計回りに進む。</li>
                </ol>
                <h3>緑</h3>
                <ol>
                    <li>A を緑色ポートの読み順の位置の値に設定する。</li>
                    <li>B を接続されているプラグの量に1を足した値を設定する。</li>
                    <li>C をスピーカーのシリアルナンバーの数字の合計に設定する。</li>
                    <li>スピーカーの色を使用し、下の表から計算式を算出する。</li>
                    <li>1～8の範囲に入るまで、8を足し引きする。</li>
                    <li>読み順でこの位置のポートがすでに使用されている場合、空いているポートになるまで、必要に応じてループしながら、読み順で3つ先に進む。</li>
                </ol>
                <table>
                    <tr><th>色</th><th>計算式</th><th>色</th><th>計算式</th><th>色</th><th>計算式</th><th>色</th><th>計算式</th></tr>
                    <tr><td>黒</td><td>A+B+C</td><td>緑</td><td>A*B+C</td><td>赤</td><td>A+B+C+4</td><td>黄</td><td>A*B+C+4</td></tr>
                    <tr><td>青</td><td>A+B*C</td><td>シアン</td><td>A*B*C</td><td>マゼンタ</td><td>A+B*C+4</td><td>白</td><td>A*B*C+4</td></tr>
                </table>
                <h3>シアン</h3>
                <ol>
                    <li>スライダーの設定を下=0、中央=1、上=2として、スライダーの設定値の合計を取る。</li>
                    <li>これを空いているポートの個数で除算し、その余りに1を加える。</li>
                    <li>この数字で指定された読み順(使用済ポートは無視)で、その位置にある空いているポートを使用する。</li>
                </ol>
                <h3>赤</h3>
                <ol>
                    <li>赤いポートとスピーカーの色と一致するポートとの距離(縦横のみで考える)を取り、1を足す。</li>
                    <li>その位置のポートを使用する。読み順でこの位置のポートがすでに使用されている場合、空いているポートになるまで、必要に応じてループしながら読み順で進む。</li>
                </ol>
            </div>
            <div class="page-footer relative-footer">ページ 2/3</div>
        </div>
        <div class="page page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">スピーカー</span>
            </div>
            <div class="page-content">
                <h3>マゼンタ</h3>
                <ol>
                    <li>接続されているプラグの数を取り、1を加える。</li>
                    <li>その位置のポートを使用する。このポートがすでに使用されている場合、空いているポートになるまで読み順の逆で進む。</li>
                </ol>
                <h3>黄</h3>
                <ol>
                    <li>スピーカーのシリアルナンバーの最初の英字について、アルファベット上の位置の数字根を取る(数字根とは、それぞれの位の数の和を取るという過程を、数字が一桁になるまで繰り返したときの数字である。例：19=>1+9=>10=>1+0=>1)。</li>
                    <li>数字が9の場合はスピーカーの色を、それ以外の場合は数字で示された読み順にある位置のポートの色を使用する。</li>
                    <li>この色のポートを使用する。</li>
                    <li>この色のポートがすでに使用されている場合、プラグに使用されている色の順番で次の色を取り、必要に応じてループながら、空いているポートに到達するまで進める。</li>
                </ol>
                <h3>白</h3>
                <ol>
                    <li>最後に接続したポートの位置、またはこれが最初の色の場合はスピーカーの色と一致するポートを取得する。</li>
                    <li>このポートがまだ空いている場合、それを使用する。そうでない場合、以下の手順に従った結果のポートを使用する。</li>
                </ol>
                <ul>
                    <li>このポートが白いポートより読み順で後に来る場合、空いているポートになるまで、必要に応じてループしながら、読み順の逆で進む。</li>
                    <li>このポートが白いポートより読み順で前に来る場合、空いているポートになるまで、必要に応じてループしながら、読み順で進む。</li>
                    <li>このポートが白である場合、空いているポートになるまで、必要に応じてループしながら、読み順で5つ先に進む。</li>
                </ul>
            </div>
            <div class="page-footer relative-footer">ページ 3/3</div>
        </div>
    </div>
</body>
</html>