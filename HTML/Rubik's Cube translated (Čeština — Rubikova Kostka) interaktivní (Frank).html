<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Rubikova Kostka — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.7.0.min.js"></script>
    <script>
        $(function() {
            let table = $(".interactive");
            let vstack = $("<div>").addClass("vstack").appendTo(table);
            let row1 = $("<div>").addClass("hstack").appendTo(vstack);
            let row2 = $("<div>").addClass("hstack").appendTo(vstack);
            let row3 = $("<div>").addClass("hstack").appendTo(vstack);
            const buttonText = ["▲", "▼", "0"];
            const U = ["0", "3", "6", "9", "C", "F", "I", "L", "O", "R", "U", "X"];
            const L = ["1", "4", "7", "A", "D", "G", "J", "M", "P", "S", "V", "Y"];
            const R = ["2", "5", "8", "B", "E", "H", "K", "N", "Q", "T", "W", "Z"];
            const col = [U,L,R];
            let offset = [0,0,0];
            let cell = $(".interactive table")[0].getElementsByTagName("td");

            function writeOffsetColumn(c) {
                for (r = 0; r < U.length; r++)
                    cell[r*5 + c].innerText = col[c][ (r + (U.length - offset[c])) % U.length ];
            }

            for (let c = 0; c < 3; c++) {
                $("<button>").text(buttonText[0]).appendTo(row1).click(function() {
                    offset[c] = Math.max(0, offset[c] - 1);
                    writeOffsetColumn(c);
                });
            }
            for (let c = 0; c < 3; c++) {
                $("<button>").text(buttonText[1]).appendTo(row2).click(function() {
                    offset[c] = Math.min(U.length, offset[c] + 1);
                    writeOffsetColumn(c);
                });
            }
            for (let c = 0; c < 3; c++) {
                $("<button>").text(buttonText[2]).appendTo(row3).click(function() {
                    offset[c] = 0;
                    writeOffsetColumn(c);
                });
            }

        });
    </script>
    <link rel="stylesheet" type="text/css" href="css/Modules/Rubik'sCube.css">
    <style>
        table.rubiks-cube { width: 50mm; }
        .hstack {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
        }
        .vstack {
            display: flex;
            flex-direction: column;
            align-items: start;
            justify-content: center;
        }
        button {
            font-size: 12px;
            font-weight: bold;
            width: 34px;
            margin: 1px;
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-05">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Rubikova Kostka (čeština) v1.3</span>
            </div>
            <div class="page-content">
                <img class="diagram" src="img/Component/Rubik's Cube.svg">

                <div class="float interactive">
                    <p class="caption">Tabulka 1:</p>
                    <table class="rubiks-cube">
                        <tr><th>H</th><th>L</th><th style="padding: 2px 0 0">PŘ</th><th class="bar" colspan="2">Tahy</th></tr>
                        <tr><td>0</td><td>1</td><td>2</td><td class="bar">L’</td><td>PŘ’</td></tr>
                        <tr><td>3</td><td>4</td><td>5</td><td class="bar">D’</td><td>H’</td></tr>
                        <tr><td>6</td><td>7</td><td>8</td><td class="bar">H</td><td>Z’</td></tr>
                        <tr><td>9</td><td>A</td><td>B</td><td class="bar">PŘ</td><td>Z</td></tr>
                        <tr><td>C</td><td>D</td><td>E</td><td class="bar">L</td><td>D</td></tr>
                        <tr><td>F</td><td>G</td><td>H</td><td class="bar">PR’</td><td>H</td></tr>
                        <tr><td>I</td><td>J</td><td>K</td><td class="bar">H’</td><td>PŘ</td></tr>
                        <tr><td>L</td><td>M</td><td>N</td><td class="bar">Z’</td><td>L’</td></tr>
                        <tr><td>O</td><td>P</td><td>Q</td><td class="bar">Z</td><td>PR</td></tr>
                        <tr><td>R</td><td>S</td><td>T</td><td class="bar">D</td><td>L</td></tr>
                        <tr><td>U</td><td>V</td><td>W</td><td class="bar">PR</td><td>D’</td></tr>
                        <tr><td>X</td><td>Y</td><td>Z</td><td class="bar">PŘ’</td><td>PR’</td></tr>
                    </table>
                </div>

                <div class="float">
                    <p class="caption">Tabulka 2:</p>
                    <table class="rubiks-cube">
                      <tr><th>Barva</th><th class="bar">Číslo</th></tr>
                      <tr><td>Žlutá</td><td class="bar">1</td></tr>
                      <tr><td>Modrá</td><td class="bar">2</td></tr>
                      <tr><td>Červená</td><td class="bar">3</td></tr>
                      <tr><td>Zelená</td><td class="bar">4</td></tr>
                      <tr><td>Oranžová</td><td class="bar">5</td></tr>
                      <tr><td>Bílá</td><td class="bar">6</td></tr>
                  </table>
                </div>

                <h2>Na téma Rubikovy Kostky (čeština)</h2>
                <p class="flavour-text">Pamatujete si tuhle nemožnou věc? Teďka je na bombě. Bavte se.</p>

                <p>Na bombě se nachází nevyřešená Rubikova kostka. K vyřešení modulu, vyřešte Rubikovu kostku. Následující kroky vám pomohou určit posloupnost tahů, které jsou potřebné k jejímu vyřešení. Pokud se během řešení ztratíte, zmáčkněte tlačítko Reset, které vrátí kostku do její původní polohy.</p>

                <ul>
                    <li>Začněte s tabulkou 1 nacházející se na pravé straně. Zjistěte barvu stěn H, L a PŘ na kostce. Každý sloupec posuň dolů o tolik řádků, kolika odpovídá číslo dané stěny v Tabulce 2.</li>
                    <li>Použijte sériové číslo, ale vynechte znak na takové pozici, která odpovídá barvě D stěny (opět použijte Tabulku 2).</li>
                    <li>S použitím zbývajících znaků sériového čísla a upravené Tabulky získejte dva pohyby za každý znak, tedy dohromady 10 pohybů.</li>
                    <li>Pokud je PR stěna červená, zelená nebo modrá, pohyby jsou uvedeny bezprostředně po sobě. Jinak udělej všechny první pohyby ze získaných  dvojic a poté všechny druhé pohyby ze získaných dvojic pro každý znak.</li>
                    <li>Pokud je PR stěna červená nebo žlutá, změňte prvních pět získaných pohybů na pohyb pro ně opačný.</li>
                    <li>Pokud je PR stěna zelená nebo bílá, obraťte pořadí všech získaných pohybů.</li>
                    <li>Na závěr, uskutečněte výslednou posloupnost pohybů na kostce.</li>
                </ul>

                <p>Vysvětlivky:</p>

                <ul>
                    <li>PŘ je stěna s tlačítkem s nápisem Reset. Stěny, kterou jsou vidět z přímého pohledu na modul jsou H. L a PŘ.</li>
                    <li>"Barva" stěny je barva na kostičce ve středu dané stěny.</li>
                    <li>Tah je uskutečněn rotací příslušné stěny ve směru hodinových ručiček. Apostrof (’) značí opačný tah (proti směru hodinových ručiček).</li>
                </ul>

                <div class="footnote">
                    <hr>
                    <p>Stěny: H = horní, D = dolní, L = levá, PR = pravá, PŘ = přední, Z = zadní</p>
                </div>
            </div>
            <div class="page-footer relative-footer">Strana 1 z 1</div>
        </div>
    </div>
  </body>
  </html>
