<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Quaternions — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        table {
            margin: 1em auto;
            border: 3px solid;
        }

        .red { background-color: tomato; color: black; }
        .blue { background-color: deepskyblue; color: black;  }
        .green { background-color: chartreuse; color: black; }
        .yellow { background-color: gold; color: black;  }
        .precedes { margin-bottom: 0; }
        .proceeds { margin-top: 0; }
        .code-center, tr, li > p { text-align: center; }

        #module-read {
            text-align: center;
            font-size: 20px;
        }

        .button {
            border: 2px solid black;
            border-radius: 5px;
            padding: 1px 3px;
            display: inline-block;
            margin-top: 3px;
        }
        .number { border-radius: 5px; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Quaternions</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Quaternions.svg" class="diagram">
                <h2>On the Subject of Not Really Quaternions At All</h2>
                <p class="flavour-text">*puts some mathematical terms* <strong>BOOSH!</strong> The module is now impossible.</p>

                <p>First things first: if you see
                    <code>i<sup>2</sup>&nbsp;=&nbsp;j<sup>2</sup>&nbsp;=&nbsp;k<sup>2</sup>&nbsp;=&nbsp;ijk&nbsp;=&nbsp;-1</code>
                on the module, then you are good.
                </p>

                <p class="precedes">Make a list with 4 numbers. We will call these [a, b, c, d] from now on.</p>
                <p class="proceeds">Each number in this list has a number and a color.</p>
                <br>
                <p>Fill the two lists as follows:</p>
                <ul>
                    <li class="precedes">Each spot has the color of the symbols in the formula in this order: <p class="proceeds precedes">[-1,&nbsp;i,&nbsp;j,&nbsp;k]</p></li>
                    <li>Duplicate the list.</li>
                    <li>Look at the module's buttons. For each pair of colors, fill in the first list with the largest number  of the pair in the respective colored spot on the list.</li>
                    <li>Same with the second list, but with the lowest numbers<br>
                    <strong>NOTE:</strong> treat 0 as 10 when doing this.</li>
                </ul>
                <br>
                <p>Now, you have to swap the numbers with the same color if its corresponding condition applies: </p>
                <table>
                    <tr><td class="red">Either i or j is red.</td></tr>
                    <tr><td class="green">The bomb has at least one PS/2 port.</td></tr>
                    <tr><td class="blue">The bomb's serial number contains a letter in the word BLUE.</td></tr>
                    <tr><td class="yellow">The sum of the two white keys is prime.</td></tr>
                </table>
                <br>
                <p>Now, some final touches to the lists:</p>
                <ul>
                    <li>Substitute "0" by "10".</li>
                    <li>If any number appears in the serial number (either one or more times), multiply that number by -1.<br><em style="font-size:13px;">Don’t forget doing that with the 10 (if you have it) in case there is a 0 in the s#.</em></li>
                    <li>If <em><strong>no lit</strong></em> indicators, multiply <em>first list</em>'s <em>b</em>, <em>c</em> and <em>d</em> by -1.<br>Same with the <em>second</em> list in case of <em><strong>no unlit</strong></em> ones.</li>
                    <li>If there is an <strong>even</strong> number of <strong>batteries</strong>, <strong>swap</strong> the <strong>lists</strong>.</li>
                </ul>
            </div>
            <div class="page-footer relative-footer">Page 1 of 2</div>
        </div>
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Quaternions</span>
            </div>
            <div class="page-content squish">
                <p class="precedes">For the final step, let's label all the first and second lists' numbers:</p>
                <p class="code-center proceeds"><code>[a<sub>1</sub>, b<sub>1</sub>, c<sub>1</sub>, d<sub>1</sub>] and
                                                      [a<sub>2</sub>, b<sub>2</sub>, c<sub>2</sub>, d<sub>2</sub>]</code></p>
                <br>
                <p>Look at the color of the submit button, then look at which position is that color on any list; apply the formula depending on the position and submit that number:</p>
                <p class="code-center"> <code>
                    <span class="precedes">
                        1 &rArr; (a<sub>1</sub>*a<sub>2</sub> - b<sub>1</sub>*b<sub>2</sub> - c<sub>1</sub>*c<sub>2</sub> - d<sub>1</sub>*d<sub>2</sub>)</span><br>
                    <span class="precedes proceeds">
                        2 &rArr; (a<sub>1</sub>*b<sub>2</sub> + b<sub>1</sub>*a<sub>2</sub> + c<sub>1</sub>*d<sub>2</sub> - d<sub>1</sub>*c<sub>2</sub>)</span><br>
                    <span class="precedes proceeds">
                        3 &rArr; (a<sub>1</sub>*c<sub>2</sub> - b<sub>1</sub>*d<sub>2</sub> + c<sub>1</sub>*a<sub>2</sub> + d<sub>1</sub>*b<sub>2</sub>)</span><br>
                    <span class="proceeds proceeds">
                        4 &rArr; (a<sub>1</sub>*d<sub>2</sub> + b<sub>1</sub>*c<sub>2</sub> - c<sub>1</sub>*b<sub>2</sub> + d<sub>1</sub>*a<sub>2</sub>)</span><br>
                    <span class="proceeds">
                    White &rArr; (a<sub>1</sub><sup>2</sup> + b<sub>1</sub><sup>2</sup> + c<sub>1</sub><sup>2</sup> + d<sub>1</sub><sup>2</sup>) *
                                 (a<sub>2</sub><sup>2</sup> + b<sub>2</sub><sup>2</sup> + c<sub>2</sub><sup>2</sup> + d<sub>2</sub><sup>2</sup>)</span>
                </code> </p>
                <h3>Example:</h3>
                    <p>Say, you have the following keypad:</p>

                    <!-- Formula -->
                    <div id="module-read" style="margin-bottom:1.5em;">
                        <span class="yellow number">i<sup class="yellow number"><strong>2</strong></sup></span> =
                        <span class="green number">j<sup class="green number"><strong>2</strong></sup></span> =
                        <span class="red number">k<sup class="red number"><strong>2</strong></sup></span> =
                            <span class="yellow number">i</span>
                            <span class="green number">j</span>
                            <span class="red number">k</span> =
                        <span class="blue number">-1</span>

                    <!-- Keypad -->
                        <br>
                        <span> <!-- Top row -->
                               <span class="blue button">7</span>
                               <span class="blue button">8</span>
                               <span class="yellow button">9</span>
                        </span>
                        <br>
                        <span> <!-- Middle row -->
                            <span class="red button">4</span>
                            <span class="yellow button">5</span>
                            <span class="white button">6</span>
                        </span>
                        <br>
                        <span> <!-- Bottom row -->
                            <span class="green button">1</span>
                            <span class="red button">2</span>
                            <span class="white button">3</span>
                        </span>
                        <br>
                        <span> <span class="green button">0</span> </span>
                    </div>

                    <p class="precedes">The colors of the list should be
                    <code>
                        [
                            <span class="blue number">&nbsp;&nbsp;</span>,
                            <span class="yellow number">&nbsp;&nbsp;</span>,
                            <span class="green number">&nbsp;&nbsp;</span>,
                            <span class="red number">&nbsp;&nbsp;</span>
                        ]
                    </code></p>
                    <p class="precedes proceeds">The first list should be
                    <code>
                        [
                            <span>8</span>,
                            <span>9</span>,
                            <span>0</span>,
                            <span>4</span>
                        ]
                    </code></p>
                    <p class="proceeds">The second list should be
                    <code>
                        [
                            <span>7</span>,
                            <span>5</span>,
                            <span>1</span>,
                            <span>2</span>
                        ]
                    </code></p>

                <p class="precedes">Then, in our example, let's say the serial number is 136AS8, we haven't got any unlit indicators, we have a PS/2 port, and the submit button is blue, therefore the lists should be:</p>

                <p class="code-center proceeds"> <code>
                    [
                        <span class="blue number">-8</span>,
                        <span class="yellow number">9</span>,
                        <span class="green number">-1</span>,
                        <span class="red number">4</span>
                    ]
                    and
                    [
                        <span class="blue number">7</span>,
                        <span class="yellow number">-5</span>,
                        <span class="green number">-10</span>,
                        <span class="red number">-2</span>
                    ]
                </code> </p>

                <p class="precedes">Recall we just did:<p>
                <ul class="proceeds">
                    <li>Green applied &rArr; swap greens from the lists</li>
                    <li>"0" &rArr; "10"</li>
                    <li>1 and 8 in s# &rArr; multiply them by -1 in the lists</li>
                    <li>No unlit indicators &rArr; multiply b, c and d in the second list by -1</li>
                </ul>
                <p><em>The submit button is blue, so we use the first formula, thus the answer is "-13".</em></p>
            </div>
            <div class="page-footer relative-footer">Page 2 of 2</div>
        </div>
    </div>
</body>
</html>