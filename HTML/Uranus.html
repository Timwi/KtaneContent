<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Uranus — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.1.1.min.js"></script>
    <script src="js/Utilities/svg-utils.js"></script>
    <style>
        table {
            margin: 1em auto;
            text-align: center
        }
        .grid { width: 85%; }
        svg text {
            font-size: 42.333px;
        }
        .dark svg text { fill: #DDD; }
        svg polygon.highlightable {
            stroke: #000;
            fill: transparent;
            stroke-width: 2.5px;
        }
        .dark svg polygon.highlightable { stroke: #DDD; }
        .dark .diagram {
            filter: invert(90%);
            background-color: transparent;
        }
    </style>
    <script>
    $(function() {
        let numbers = [ 6,5,4,5,1,7,2,5,3,5,5,6,3,2,1,7,8,5,1,4,0,8,4,5,3,5,1,4,5,2,2,4,1,4,1,1,0,4,0,1,8,4,5,7,6,5,8,4,7,2 ];
        let grid = $(".grid");

        for (let yy = 0; yy < 10; yy++) {
            for (let xx = 0; xx < 5; xx++) {
                let text = MakeSvgElem("text", {
                    x:(xx*66.4 + (yy%2 == 0 ? 12 : 45)), y:(yy*33 + 39)
                });
                text.innerHTML = numbers[yy*5 + xx];
                grid.append(text);
                grid.append(RegularPolygon(25, xx*66.4 + (yy%2 == 0 ? 25 : 58), yy*33 + 25, 8, 22.5, {
                    class: "highlightable"
                }));
            }
        }
    });
    </script>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Uranus</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Uranus.svg" class="diagram">
                <h2>On the Subject of Uranus</h2>
                <p class="flavour-text">Houston, we have a problem. All of our ship’s navigational systems have failed; our only remaining method of control is a trackball.</p>

                <p>
                    If there is a standard module background, or the planet shown is not
                    <a href="https://en.wikipedia.org/wiki/List_of_gravitationally_rounded_objects_of_the_Solar_System#/media/File:Uranus.jpg">Uranus</a>,
                    you are looking at the wrong module.
                </p>
                <p>Pressing the sphere near the status light will make the planet disappear, until said sphere is pressed again.</p>
                <p>There will be 4 colored spheres on the exterior of the module. Drag from one sphere to the next to roll the planet in that direction.</p>
                <p>
                    To solve the module, navigate around the octagonal grid displayed below until your current value is equal to the target value.
                    After moving to a cell, its value is added or subtracted to the current value, which starts out at 0.
                    Every odd-numbered movement will add the number, and every even-numbered movement will subtract the number.
                </p>
                <p>
                    The starting position in the grid is determined by the colored spheres.
                    Using the below table, the starting column is calculated by summing the top and bottom spheres.
                    The starting row is calculated by subtracting the value of the right sphere from the left.
                </p>

                <table>
                    <tr> <th>Red</th> <th>Orange</th> <th>Yellow</th> <th>Green</th> <th>Blue</th> <th>Violet</th> </tr>
                    <tr> <td>0</td> <td>1</td> <td>2</td> <td>3</td> <td>4</td> <td>5</td> </tr>
                </table>

                <p>
                    To find the target value, first take the sum of the digits in the serial number.
                    If the bomb's voltage is determinable, add the integer part of its voltage to the sum.
                    Otherwise, add the values of each indicator on the bomb using the below table.
                </p>

                <table>
                    <tr> <th>SND/IND</th> <th>MSA/NSA</th> <th>FRQ/FRK</th> </tr>
                    <tr> <td>1</td> <td>2</td> <td>3</td> </tr>
                    <tr> <th>BOB/SIG</th> <th>CAR/CLR</th> <th>TRN/Other</th> </tr>
                    <tr> <td>4</td> <td>5</td> <td>6</td> </tr>
                </table>
            </div>
            <div class="page-footer relative-footer">Page 1 of 2</div>
        </div>
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Uranus</span>
            </div>
            <div class="page-content">
                <h2>Tabular Locomotion</h2>
                <p>In order to navigate the below grid, you can drag from one sphere to the next to move in any of the 4 orthogonal and 4 diagonal directions.</p>
                <p>
                    A diagonal movement will move your position directly across the edge at that position,
                    while an orthogonal movement will "jump" across the gap there. Attempting to move off the grid will cause a strike.
                </p>
                <p>
                    The grid is divided into 10 columns and 5 rows. Columns are ordered from left to right and rows from top to bottom.
                    To locate a coordinate, take its column and count as many cells as its row number starting from the top cell.
                </p>
                <p><strong>Attempting to move to the immediately previous cell will also incur a strike.</strong></p>

                <svg class="grid centered-img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 350 347"></svg>

            </div>
            <div class="page-footer relative-footer">Page 2 of 2</div>
        </div>
    </div>
</body>
</html>