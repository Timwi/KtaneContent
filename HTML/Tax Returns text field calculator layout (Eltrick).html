<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>TAS Returns â€” Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel="stylesheet" type="text/css" href="css/Modules/Tax Returns.css">
    <script src="js/ktane-utils.js"></script>
    
    <style>
        table {
            margin: 1em auto;
        }
        pre code {
            background-color: #a0a0a0;
            border: 1px solid #000000;
            display: block;
            padding: 5px;
        }
        .dark .ondark {
            filter: invert(86.5%) hue-rotate(180deg);
        }
        .dark pre code { background-color: #555; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">TAS Returns</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Tax Returns.svg" class="diagram">
                <h2>On the Subject of TAS Returns</h2>
                <p class="flavour-text">Self-explanatory</p>
                <pre><code># No indicators =&gt; X = 0
# Lit &gt; Unlit =&gt; X = 0.05
# Lit &lt; Unlit =&gt; X = 0.1
# Lit = Unlit =&gt; X = 0.15
X = ;
GT = ;
GE = ;
portTypeCount = ;
flowChartNumber = ;

PC = floor(GT * X);

TFI = flowChartNumber * portTypeCount;

GP = GT - GE - PC - TFI;
TFA = (GP &gt; 100000) ? (11850 - floor((GP - 100000) / 2)) : 11850;

TI = GP - TFA;
BR = (TI &lt; 34500) ? floor(TI * 0.2) : 6900;
HR = (TI &lt; 34500) ? 0 : floor((TI - 34500) * 0.4);
AR = (TI &lt; 138500) ? 0 : floor((TI - 138000) * 0.45);
IT = BR + HR + AR;

TNIC = GT - GE;
SR = (TNIC &lt; 46350) ? floor((TNIC - 8423) * 0.09) : 3413;
ER = (TNIC &lt; 46350) ? 0 : floor((TNIC - 46350) * 0.02);
NIC = SR + ER;

TTB = IT + NIC</code></pre>
                </div>
            <div class="page-footer relative-footer">Page 1 of 2</div>
        </div>
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">TAS Returns</span>
            </div>
            <div class="page-content">
                <p><code>flowChartNumber</code> is determined using this flowchart.</p>
                <svg xmlns="http://www.w3.org/2000/svg" class="flowchart" viewBox="0 0 667 517">
                    <defs>
                        <marker id="a" markerHeight="1" markerWidth="1" orient="auto-start-reverse" overflow="visible">
                          <path d="m2.9 0-4.3 2.5v-5Z"/>
                        </marker>
                    </defs>
                    <path d="M82 279.4v49.7"/>
                    <text x="320" y="27.2">Is the first letter of the surname between A-M?</text>
                    <text x="162.3" y="189.3"><tspan>Is the last letter of the NI</tspan><tspan x="162.3" dy=".9em">number A or C?</tspan></text>
                    <text x="504" y="189.3"><tspan>Is the last letter of the NI</tspan><tspan x="504" dy=".9em">number A or C?</tspan></text>
                    <rect class="highlightable" width="296.7" height="48.2" x="13.9" y="49"/>
                    <rect class="highlightable" width="132.6" height="48.2" x="15.7" y="230.7"/>
                    <rect class="highlightable" width="54.6" height="48.2" x="20.4" y="457.2"/>
                    <text x="162.8" y="79.5">Yes</text>
                    <text x="82.6" y="261.2">Yes</text>
                    <rect class="highlightable" width="296.7" height="48.2" x="355.7" y="49"/>
                    <text x="504" y="79.3">No</text>
                    <path d="M162.3 97.2v49.7"/>
                    <path d="M504 97.7v49.7"/>
                    <path d="M242 279.4v49.7"/>
                    <rect class="highlightable" width="132.6" height="48.2" x="175.7" y="230.7"/>
                    <text x="242.6" y="261.2">No</text>
                    <path d="M426 279.4v49.7"/>
                    <rect class="highlightable" width="132.6" height="48.2" x="359.7" y="230.7"/>
                    <text x="426.6" y="261.2">Yes</text>
                    <path d="M586 279.4v49.7"/>
                    <rect class="highlightable" width="132.6" height="48.2" x="519.7" y="230.7"/>
                    <text x="586.6" y="261.2">No</text>
                    <text x="83.3" y="376.6"><tspan>Is the last</tspan><tspan x="83.3" dy=".9em">digit of the</tspan><tspan x="83.3" dy=".9em">payroll</tspan><tspan x="83.3" dy=".9em">number odd?</tspan></text>
                    <text x="48.3" y="477.9">Yes</text>
                    <text x="48.3" y="497.9" class="number">932</text>
                    <rect class="highlightable" width="54.6" height="48.2" x="83.8" y="457.2"/>
                    <text x="111.6" y="477.9">No</text>
                    <text x="111.6" y="497.9" class="number">478</text>
                    <rect class="highlightable" width="54.6" height="48.2" x="178.4" y="457.2"/>
                    <text x="241.2" y="376.6"><tspan>Is the last</tspan><tspan x="241.2" dy=".9em">digit of the</tspan><tspan x="241.2" dy=".9em">payroll</tspan><tspan x="241.2" dy=".9em">number odd?</tspan></text>
                    <text x="206.3" y="477.9">Yes</text>
                    <text x="206.3" y="497.9" class="number">81</text>
                    <rect class="highlightable" width="54.6" height="48.2" x="241.8" y="457.2"/>
                    <text x="269.6" y="477.9">No</text>
                    <text x="269.6" y="497.9" class="number">599</text>
                    <rect class="highlightable" width="54.6" height="48.2" x="362.4" y="457.2"/>
                    <text x="425.3" y="376.6"><tspan>Is the last</tspan><tspan x="425.3" dy=".9em">digit of the</tspan><tspan x="425.3" dy=".9em">payroll</tspan><tspan x="425.3" dy=".9em">number odd?</tspan></text>
                    <text x="390.3" y="477.9">Yes</text>
                    <text x="390.3" y="497.9" class="number">736</text>
                    <rect class="highlightable" width="54.6" height="48.2" x="425.8" y="457.2"/>
                    <text x="453.6" y="477.9">No</text>
                    <text x="453.6" y="497.9" class="number">1241</text>
                    <rect class="highlightable" width="54.6" height="48.2" x="520.4" y="457.2"/>
                    <text x="583.2" y="376.6"><tspan>Is the last</tspan><tspan x="583.2" dy=".9em">digit of the</tspan><tspan x="583.2" dy=".9em">payroll</tspan><tspan x="583.2" dy=".9em">number odd?</tspan></text>
                    <text x="548.3" y="477.9">Yes</text>
                    <text x="548.3" y="497.9" class="number">1647</text>
                    <rect class="highlightable" width="54.6" height="48.2" x="583.8" y="457.2"/>
                    <text x="611.6" y="477.9">No</text>
                    <text x="611.6" y="497.9" class="number">0</text>
                </svg>
            </div>
            <div class="page-footer relative-footer">Page 2 of 2</div>
        </div>
    </div>
</body>
</html>
