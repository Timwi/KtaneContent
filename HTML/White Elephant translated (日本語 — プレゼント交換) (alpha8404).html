<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>プレゼント交換 — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/ruleseed.js"></script>
    <style>
        .dark table, table {
            margin: 1em auto;
            border: none;
        }
        td img { width: 100px; }
        .dark svg circle { stroke: #DDD; }
        .dark svg text { fill: #DDD; }
        .dark td img { filter: invert(90%); }

        code {
            background-color: #CCC;
            padding: .1em .5em;
        }
        .dark code { background-color: #444; }

        .page-footer::before { content: 'ページ '; }
        .page-footer::after { content: '/3'; }
    </style>
    <script>
        var generated;
        var rng;
        var counter = 0;
        var edgework = ["単1バッテリー","単3バッテリー","バッテリーホルダー","ポートプレート","ポート","点灯していないインジケーター","点灯したインジケーター"];
        var edgee = [0, 1, 2, 3, 4, 5, 6];
        var table1 = ["first-rec","second-rec","third-rec"];
        var table2 = ["first-num","second-num","third-num"];
        var amount = ["偶数", "奇数"];
        var table_tags = ["venn-one", "venn-two","venn-four"];
        var edgeworkConditions = [[0,""],[0,""],[0,""]];
        var coloring = ["R","A","G"];
        var venn_color = ["","","","","","","",""];
        var venn_tags = ["venn-fff","venn-fft","venn-ftf","venn-ftt","venn-tff","venn-tft","venn-ttf","venn-ttt"];
        var receiver = [
            "James","Robert","John","Michael","David","William","Richard","Joseph","Thomas","Christopher",
            "Charles","Daniel","Matthew","Anthony","Mark","Donald","Steven","Andrew","Paul","Joshua",
            "Mary","Patricia","Jennifer","Linda","Elizabeth","Barbara","Susan","Jessica","Sarah","Karen",
            "Lisa","Nancy","Betty","Sandra","Margaret","Ashley","Kimberly","Emily","Donna","Kathryn"
        ];
        var receiver_table = ["","",""];

        function setDefaultRules(rnd) {
            setRules(rnd);
        }

        function setRules(rnd) {
            counter = 0;
            rng = rnd;
            for (var color = 0; color < venn_color.length; color++) {
                var index = rng.next(0, coloring.length);
                venn_color[color] = coloring[index];
            }
            console.log(venn_color);
            for (var i = 0; i < 8; i++) {
                generateVenn();
            }
            for (var edge = 0; edge < edgeworkConditions.length; edge++) {
                edgeworkConditions[edge][0] = edgee[rng.next(0, edgework.length)];
                edgeworkConditions[edge][1] = amount[rng.next(0, 2)];
                if (edge == 1) {
                    while(edgeworkConditions[edge][0] == edgeworkConditions[edge - 1][0]) {
                        edgeworkConditions[edge][0] = (edgeworkConditions[edge][0] + 1) % 7;
                    }
                }
                if (edge == 2) {
                    while (edgeworkConditions[edge][0] == edgeworkConditions[edge - 1][0] || edgeworkConditions[edge][0] == edgeworkConditions[edge - 2][0]) {
                        edgeworkConditions[edge][0] = (edgeworkConditions[edge][0] + 1) % 7;
                    }
                }

                console.log(rng);
                document.getElementById(`${table_tags[edge]}`).innerText = edgework[edgeworkConditions[edge][0]]+`の数が` + edgeworkConditions[edge][1] + `である。`;
            }

            rnd = new MonoRandom(rnd.seed);
            rng = rnd;

            for (var i = 0; i < 3; i++) {
                var stage2 = rng.next(0, receiver.length);
                document.getElementById(`${table1[i]}`).innerText = receiver[stage2];
            }
            rnd = new MonoRandom(rnd.seed);
            rng = rnd;
            for (var i = 0; i < 3; i++) {
                var stage3 = rng.next(0, 10);
                document.getElementById(`${table2[i]}`).innerText = stage3;
            }
        }

        function generateVenn() {
            document.getElementById(venn_tags[counter]).textContent = getInstr();
        }

        function getInstr() {
            counter++;
            return venn_color[counter-1];
        }
    </script>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">プレゼント交換</span>
            </div>
            <div class="page-content">
                <img src="img/Component/White Elephant.svg" class="diagram">
                <h2>モジュール詳細：プレゼント交換</h2>
                <p class="flavour-text">シーズン6、エピソード11、カートゥーンネットワーク™でのみ視聴可能</p>
                <p>このモジュールは4つのルールシードを使用する。このモジュールに必要なページにアクセスするには、<code>https://ktane.timwi.de/HTML//White%20Elephant%20translated%20(日本語%20—%20白いゾウ)%20(alpha8404).html#</code>を検索バーにコピーし、ルールシードを末尾に追加する。</p>
                <p>このモジュールには文字通りプレゼント交換が表示される。</p>
                <p>ゾウを押すと、モジュールは3つのプレゼント箱を表示する。プレゼントの上にマウスを移動させるとタグが表示される。各タグには1つ目のルールシードの構成要素が含まれている。各構成要素をメモする。</p>
                <p>各構成要素を読み順(左・中央・右)で取得し、それらを連結する。得られた1つ目のルールシードを使用してルールシード付きページにアクセスし、贈るプレゼントを特定する。</p>
                <p>処理担当者が贈るべき正しいプレゼントを特定したら、そのプレゼントを渡す相手を特定する。</p>
                <p>人物の上にマウスを移動させると、名前とID番号が記載された名札が拡大表示される。各ID番号はその人のルールシードである。ID番号として疑問符がついている人物が一人いる。そのID番号は1つ目のルールシードである。</p>
                <p>2つ目と3つ目のルールシードは、表示されている2つのID番号である。提供されている1つ目、2つ目、3つ目のルールシードを使用して3つのルールシードにアクセスし、3つのマニュアルにいる人物を特定する。</p>
                <p>3つのルールシードマニュアルのいずれかに表示されている人物を見つける。選択すると、その人があなたにプレゼントを渡す。</p>
                <p>1つ目のルールシードにあった3つの構成要素を覚えているだろうか？自分が受け取ったプレゼントと同じ色のプレゼントに対応する構成要素を4つ目のルールシードとして使用する。提供された4つ目のルールシードを使用してマニュアルにアクセスし、プレゼントを開く適切なタイミングを特定する。</p>
                <p>プレゼントを開けるには指示されたルールに従う必要がある。</p>
                <p>モジュールを解除するには、正しいプレゼントを押して正しい人に渡し、正しい時間にプレゼントを開ける必要がある。</p>
                <p>間違ったプレゼント、間違った人、または自分のプレゼントを間違ったタイミングで押すとミスが記録され、モジュール全体がリセットされる。</p>
            </div>
            <div class="page-footer relative-footer">1</div>
        </div>
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">プレゼント交換</span>
            </div>
            <div class="page-content">
                <h3>プレゼントの選択</h3>
                <p>爆弾のエッジワークを使用し、ベン図に基づいてどのプレゼントを贈るかを特定する。</p>
                <p>R = 赤<br>G = 緑<br>A = 灰</p>
                <table>
                    <tr>
                        <td><img src="img/White Elephant/venn_one.svg"></td>
                        <td id="venn-one">C</td>
                    </tr>
                    <tr>
                        <td><img src="img/White Elephant/venn_two.svg"></td>
                        <td id="venn-two">C</td>
                    </tr>
                    <tr>
                        <td><img src="img/White Elephant/venn_four.svg"></td>
                        <td id="venn-four">C</td>
                    </tr>
                </table>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 320">
                    <circle cx="200" cy="120" r="100" fill="none" stroke="#000" stroke-width="1.8"/>
                    <circle cx="260" cy="200" r="100" fill="none" stroke="#000" stroke-dasharray="7.03418,3.51709,1.75854,3.51709" stroke-width="1.8"/>
                    <circle cx="140" cy="200" r="100" fill="none" stroke="#000" stroke-dasharray="10.5546,1.7591" stroke-width="1.8"/>
                    <text x="320" y="70" font-size="48" id="venn-fff">C</text>
                    <text x="185" y="80" font-size="48" id="venn-fft">C</text>
                    <text x="100" y="250" font-size="48" id="venn-ftf">C</text>
                    <text x="120" y="160" font-size="48" id="venn-ftt">C</text>
                    <text x="260" y="250" font-size="48" id="venn-tff">C</text>
                    <text x="240" y="160" font-size="48" id="venn-tft">C</text>
                    <text x="185" y="260" font-size="48" id="venn-ttf">C</text>
                    <text x="185" y="190" font-size="48" id="venn-ttt">C</text>
                </svg>
            </div>
            <div class="page-footer relative-footer">2</div>
        </div>
        <div class="page page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">プレゼント交換</span>
            </div>
            <div class="page-content">
                <h3>受取人の選択</h3>
                <p>前の手順のルールシードと他の2つのルールシードを使用し、下の表の3つのマニュアルのいずれかに記載されている唯一の名前を見つけ、その名前を選択する。</p>
                <h3>プレゼントの開封</h3>
                <p>3色のうち1色のプレゼントが表示される。このステップで使用するルールシードは、ステージ1にあったプレゼントのルールシードの構成要素である。一番上の段は左端にいた受取人、真ん中の段は中央にいた受取人、一番下の段は右端にいた受取人である。正しい受取人の位置を使用し、指定された段を使用する。</p>
                <table>
                    <tr><td id="first-rec"></td><td id="first-num">#</td></tr>
                    <tr><td id="second-rec"></td><td id="second-num">#</td></tr>
                    <tr><td id="third-rec"></td><td id="third-num">#</td></tr>
                </table>
            </div>
            <div class="page-footer relative-footer">3</div>
        </div>
    </div>
</body>
</html>