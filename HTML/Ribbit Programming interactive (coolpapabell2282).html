<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Ribbit Programming â€” Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.7.0.min.js"></script>
    <style>
        .page.strip {
            --strip-color: #106;
        }

        .ribbit-button-menu {
            position: relative;
            text-align: right;
            margin-right: 15%;
        }
        .ribbit-button-menu > li {
            list-style-type: none;
            display: inline;
        }
        .dark .ribbit-button {
            background-color: #333;
            color: #ddd;
        }
        .ribbit-table input {
            background-color: unset;
            color: unset;
            width: 50px;
        }
    </style>
    <script>
        let curtime = 1;
        function Left() {
            if (curtime === 1)
                return;
            curtime--;
            Update();
        }
        function Right() {
            curtime++;
            Update();
        }

        function Update() {
            for (let row = 1; row < 9; row++) {
                for (let col = 1; col < 8; col++) {
                    let position = ((Number(document.getElementById("river".concat(row, "in")).value) + Number((curtime + col - 1) * document.getElementById("river".concat(row, "sp")).value)) % 7).toFixed(1);
                    if (position < 0)
                        position = (Number(position) + 7).toFixed(1);
                    document.getElementById("col".concat(col, row)).innerText = position;
                }
            }
            for (let col = 1; col < 8; col++)
                document.getElementById("col".concat(col)).innerText = Number(curtime) + col - 1;
        }

        function setHandlers() {
            $(".ribbit-table input").on("change", Update);
            Update();
        }
    </script>
</head>
<body onload="setHandlers()">
    <div class="section">
        <div class="page page-bg-01 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Ribbit Programming</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Ribbit Programming.svg" class="diagram">
                <h2>On the Subject of Ribbit Programming</h2>
                <p class="flavour-text">Is this frogramming?</p>
                <p>For instructions on how to solve the module, please refer to the <a href="Ribbit Programming.html" target="_blank">original manual</a>. To use this manual, enter the initial
                    position and speed per step of each car, log, and row of turtles. Use a negative speed for objects moving left. Press the <code>Update</code> button if the table does not update
                    automatically.</p>
                <p>Use the left and right arrows to move forward or backward in time. The column marked <code>N</code> at the top will give the position of the given object at the moment when the frog
                    executes the <code>N</code>th command.</p>

                <menu class="ribbit-button-menu">
                    <li><button class="ribbit-button" type="button" onclick="Left()">&lt;</button></li>
                    <li><button class="ribbit-button" type="button" onclick="Update()">Update</button></li>
                    <li><button class="ribbit-button" type="button" onclick="Right()">&gt;</button></li>
                </menu>
                <table class="ribbit-table">
                    <tr>
                        <td>Object:</td>
                        <td>Initial pos.:</td>
                        <td>Speed:</td>
                        <td>Time:</td>
                        <td id="col1">1</td>
                        <td id="col2">2</td>
                        <td id="col3">3</td>
                        <td id="col4">4</td>
                        <td id="col5">5</td>
                        <td id="col6">6</td>
                        <td id="col7">7</td>
                    </tr>
                    <tr>
                        <td>Turtles&nbsp;(4)</td>
                        <td><input type="number" min="0" max="6" name="river8in" id="river8in" value="1"></td>
                        <td><input type="number" step="0.1" name="river8sp" id="river8sp" value="-0.1"></td>
                        <td>Pos.</td>
                        <td id="col18">0.0</td>
                        <td id="col28">0.0</td>
                        <td id="col38">0.0</td>
                        <td id="col48">0.0</td>
                        <td id="col58">0.0</td>
                        <td id="col68">0.0</td>
                        <td id="col78">0.0</td>
                    </tr>
                    <tr>
                        <td>Log (3)</td>
                        <td><input type="number" min="0" max="6" name="river7in" id="river7in" value="1"></td>
                        <td><input type="number" step="0.1" name="river7sp" id="river7sp" value="0.1"></td>
                        <td>Pos.</td>
                        <td id="col17">0.0</td>
                        <td id="col27">0.0</td>
                        <td id="col37">0.0</td>
                        <td id="col47">0.0</td>
                        <td id="col57">0.0</td>
                        <td id="col67">0.0</td>
                        <td id="col77">0.0</td>
                    </tr>
                    <tr>
                        <td>Turtles&nbsp;(2)</td>
                        <td><input type="number" min="0" max="6" name="river6in" id="river6in" value="3"></td>
                        <td><input type="number" step="0.1" name="river6sp" id="river6sp" value="-0.1"></td>
                        <td>Pos.</td>
                        <td id="col16">0.0</td>
                        <td id="col26">0.0</td>
                        <td id="col36">0.0</td>
                        <td id="col46">0.0</td>
                        <td id="col56">0.0</td>
                        <td id="col66">0.0</td>
                        <td id="col76">0.0</td>
                    </tr>
                    <tr>
                        <td>Log (1)</td>
                        <td><input type="number" min="0" max="6" name="river5in" id="river5in" value="4"></td>
                        <td><input type="number" step="0.1" name="river5sp" id="river5sp" value="0.1"></td>
                        <td>Pos.</td>
                        <td id="col15">0.0</td>
                        <td id="col25">0.0</td>
                        <td id="col35">0.0</td>
                        <td id="col45">0.0</td>
                        <td id="col55">0.0</td>
                        <td id="col65">0.0</td>
                        <td id="col75">0.0</td>
                    </tr>
                    <tr>
                        <td>Car (4)</td>
                        <td><input type="number" min="0" max="6" name="river4in" id="river4in" value="1"></td>
                        <td><input type="number" step="0.1" name="river4sp" id="river4sp" value="0.1"></td>
                        <td>Pos.</td>
                        <td id="col14">0.0</td>
                        <td id="col24">0.0</td>
                        <td id="col34">0.0</td>
                        <td id="col44">0.0</td>
                        <td id="col54">0.0</td>
                        <td id="col64">0.0</td>
                        <td id="col74">0.0</td>
                    </tr>
                    <tr>
                        <td>Car (3)</td>
                        <td><input type="number" min="0" max="6" name="river3in" id="river3in" value="5"></td>
                        <td><input type="number" step="0.1" name="river3sp" id="river3sp" value="0.1"></td>
                        <td>Pos.</td>
                        <td id="col13">0.0</td>
                        <td id="col23">0.0</td>
                        <td id="col33">0.0</td>
                        <td id="col43">0.0</td>
                        <td id="col53">0.0</td>
                        <td id="col63">0.0</td>
                        <td id="col73">0.0</td>
                    </tr>
                    <tr>
                        <td>Car (2)</td>
                        <td><input type="number" min="0" max="6" name="river2in" id="river2in" value="0"></td>
                        <td><input type="number" step="0.1" name="river2sp" id="river2sp" value="0.1"></td>
                        <td>Pos.</td>
                        <td id="col12">0.0</td>
                        <td id="col22">0.0</td>
                        <td id="col32">0.0</td>
                        <td id="col42">0.0</td>
                        <td id="col52">0.0</td>
                        <td id="col62">0.0</td>
                        <td id="col72">0.0</td>
                    </tr>
                    <tr>
                        <td>Car (1)</td>
                        <td><input type="number" min="0" max="6" name="river1in" id="river1in" value="1"></td>
                        <td><input type="number" step="0.1" name="river1sp" id="river1sp" value="-0.1"></td>
                        <td>Pos.</td>
                        <td id="col11">0.0</td>
                        <td id="col21">0.0</td>
                        <td id="col31">0.0</td>
                        <td id="col41">0.0</td>
                        <td id="col51">0.0</td>
                        <td id="col61">0.0</td>
                        <td id="col71">0.0</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</body>
</html>