<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1">
  <title>9次元超立方体 — Keep Talking Nobody Explodes Module</title>
  <link rel="stylesheet" type="text/css" href="css/font.css">
  <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
  <link rel="stylesheet" type="text/css" href="css/normalize.css">
  <link rel="stylesheet" type="text/css" href="css/main.css">
  <script src="js/ktane-utils.js"></script>
  <style>
    @media screen (min-width: 900px) {
      body {
        background:
          linear-gradient(#fff, #444 12.5%),
          linear-gradient(#fff, #444 100%),
          url('img/web-background.jpg');
        background-size: cover;
        background-blend-mode: multiply;
      }
    }

    @media print {
      select {
        display: none;
      }

      label {
        display: none;
      }

      a[href]:after {
        content: none !important;
      }
    }

    li {
      margin-bottom: 3%;
    }

    path {
      fill: transparent;
    }

    table {
      margin-left: auto;
      margin-right: auto;
    }

    #dimensions {
      width: 20%;
    }

    .corner {
      visibility: hidden;
    }

    .example {
      width: 35%;
    }

    .odd {
      background-color: #ccc;
    }

    .vertical-separator {
      background-color: white;
    }

    .horizontal-separator {
      background-color: white;
      padding: 4px;
    }

    .page {
      filter: invert(0.8);
      color: black;
      font-weight: bold;
    }

    .first-page {
      filter: invert(0);
      color: #222;
    }

    .glitch-text {
      -webkit-animation: chromatic-aberration 5s both infinite;
      animation: chromatic-aberration 5s both infinite;
    }

    @-webkit-keyframes chromatic-aberration {
      0% {
        text-shadow: 1px 1px 0px cyan, -1px -1px 0 red;
      }

      50% {
        text-shadow: 1px 1px 0px lime, -1px -1px 0 magenta;
      }

      100% {
        text-shadow: 1px 1px 0px cyan, -1px -1px 0 red;
      }
    }

    @keyframes chromatic-aberration {
      0% {
        text-shadow: 1px 1px 0px cyan, -1px -1px 0 red;
      }

      50% {
        text-shadow: 1px 1px 0px lime, -1px -1px 0 magenta;
      }

      100% {
        text-shadow: 1px 1px 0px cyan, -1px -1px 0 red;
      }
    }
  </style>
</head>

<body>
  <div class="section">
    <div class="page page-bg-01 first-page">
      <div class="page-header">
        <span class="page-header-doc-title">Keep Talking Nobody Explodes Mod</span>
        <span class="page-header-section-title">9次元超立方体</span>
      </div>
      <div class="page-content">
        <img src="img/Component/The Octadecayotton.svg" class="diagram">
        <h2>モジュール詳細：9次元超立方体</h2>
        <p class="flavour-text">「これは何かの間違いでは？」 - 今のあなた。</p>
        <p class="appendix-reference" id="appendix-reference" style="font-weight: normal;"><a href="Blind%20Alley%20translated%20(日本語%20—%20ブラインド・アレイ%20)%20(tepel).html">ブラインド・アレイ</a>の付録BLANKを参照し、空白モジュールの特定をする。</p>
        <p style="font-size: 17px;">このモジュールの見た目は、始めは空白の状態である。</p>
        <svg viewBox="0 0 250 275">
          <path id="curve"
            d="m 0.35180985,11.949311 c 32.00562315,0 64.01111215,0 94.80777315,12.021932 30.796657,12.021932 60.383077,36.064534 44.401327,64.833944 -15.98175,28.769413 -77.529623,62.262903 -77.701897,92.702473 -0.172274,30.43956 61.031727,57.82229 122.236887,85.20553" />
          <text>
            <textPath xlink:href="#curve" style="font-size: 6px;">
              モジュールを選択すると、モジュールが変形し、球体が素早く生成される。
              虚空を見つめ、受け入れよ。さすれば少しの苦痛で済むだろう。
            </textPath>
          </text>
        </svg>
      </div>
      <div class="page-footer relative-footer"></div>
    </div>
    <div class="page page-bg-02">
      <div class="page-header">
        <span class="page-header-doc-title">Keep Talking Nobody Explodes Mod</span>
        <span class="page-header-section-title">9次元超立方体</span>
      </div>
      <div class="page-content">
        <img src="img/The Octadecayotton/The Octadecayotton 3.svg" class="diagram">
        <img src="img/The Octadecayotton/The Octadecayotton 4.svg" class="diagram">
        <img src="img/The Octadecayotton/The Octadecayotton 5.svg" class="diagram">
        <img src="img/The Octadecayotton/The Octadecayotton 6.svg" class="diagram">
        <img src="img/The Octadecayotton/The Octadecayotton 7.svg" class="diagram">
        <img src="img/The Octadecayotton/The Octadecayotton 8.svg" class="diagram">
        <img src="img/The Octadecayotton/The Octadecayotton 9.svg" class="diagram">
        <img src="img/The Octadecayotton/The Octadecayotton 10.svg" class="diagram">
        <img src="img/The Octadecayotton/The Octadecayotton 11.svg" class="diagram">
        <img src="img/The Octadecayotton/The Octadecayotton 12.svg" class="diagram">
        <h2>9次元超立方体 (<span class="dim-number"></span> 次元版)</h2>
        <p class="flavour-text glitch-text">私がこの世を去ったら誰がそこにいるのでしょう？</p>
        <label for="dimensions">使用次元:</label>
        <select name="dimensions" id="dimensions">
          <option value="3">3次元</option>
          <option value="4">4次元</option>
          <option value="5">5次元</option>
          <option value="6">6次元</option>
          <option value="7">7次元</option>
          <option value="8">8次元</option>
          <option value="9" selected="selected">9次元</option>
          <option value="10">10次元</option>
          <option value="11">11次元</option>
          <option value="12">12次元</option>
        </select>
        <p>初期値は9次元だが、起動していない9次元超立方体モジュールにつき次元が1つ減少する。
        </p>
        <ul>
          <li>Modの設定で使用次元の最大数を変更する。</li>
          <li>つまり、最後に起動させた9次元超立方体モジュールは、常にModの設定で決めた定数になる。</li>
        </ul>
        <p><span class="dim-sphere-count"></span>個の球体が<span class="dim-number"></span>次元立方体の変形(回転や反転または両方)を動きで表現し始める。
          3つの変形が表示され(この数はModの設定で変更できる)、再開の前に短い休止が入る。</p>
        <h3>次元の定義</h3>
        <ul>
          <li><span class="dim-axis-list"></span>からなる<span class="dim-number"></span>の次元がある。</li>
          <li>全ての球体は<span class="dim-number"></span>次元立方体上での角を表現しており、各軸1つずつからなる
            <span class="dim-number"></span>本の線が交わる場所を指す。
            <ul>
              <li>例えば、2次元の正方形はXとZが交わる場所が4箇所あり、その4つの交点に4つの球体を配置してる。</li>
            </ul>
          </li>
          <li>X,Y,Z軸はそれぞれ左右、前後、上下を示している。
            正軸は右、手前、上で負軸は左、奥、下である。
          </li>
          <li>つまり、各球体の各々の軸は、正か負のどちらかの要素を位置によって定めている。
            <ul>
              <li>2次元の正方形の例に戻ると、左上の球体は-Xと+Z、一方右下の球体は+Xと-Zになる。</li>
            </ul>
          </li>
          <li>それぞれの球体はX、Y、Z平面上でどれだけ正の位置にあるかに基づき、カラーコードが定められている。
            X(右)平面は赤、Y(手前)平面は緑、Z(上)平面は青である。全ての軸が完全に正の場合、球体は白(もしくは近い色)になり、
            全ての軸が完全に負の場合、球体は真っ黒になる。
            <ul>
              <li>加色混法を使用しており、XとZの値は高くYの値が低い場合にはマゼンタに近い色になるといった具合である。</li>
            </ul>
          </li>
        </ul>
      </div>
      <div class="page-footer relative-footer"></div>
    </div>
    <div class="page page-bg-03 dim-exceed-4">
      <div class="page-header">
        <span class="page-header-doc-title">Keep Talking Nobody Explodes Mod</span>
        <span class="page-header-section-title">9次元超立方体</span>
      </div>
      <div class="page-content">
        <h3>高次元の定義</h3>
        <ul>
          <li>高次元では、立方体が3次元の視点のまま見えるようにX、Y、Zの各平面を柔軟に組み合わせていく。</li>
          <li>これは、どの正軸もプレイヤーの正面から見ると常に右(+X)、上(+Y)、手前(+Z)になり、負の方向は反対(左、下、奥)に位置することを示している。
          </li>
          <li>3次元空間内で見ることのできる球体の位置は、正軸である全ての軸のX、Y、Zの値を合計することで求められる。
            <ul>
              <li>例えば、W軸だけが正軸の球体とX軸だけが正軸の球体を例に挙げる。この位置はそれぞれ(0.8,0.2,0.5)と(1,0,0)となる。また、W軸とX軸のみが正軸の球体は(1.8,0.2,0.5)となる。
                <ul>
                  <li>つまり、相対的に見ると、1つ目の球体は2つ目の球体よりもさらに左、前、上になるということである。</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
        <table style="text-align:right;">
          <tr class="odd">
            <th>+</th>
            <th>X</th>
            <th>Y</th>
            <th>Z</th>
            <th>W</th>
            <th class="dim-exceed-5">V</th>
            <th class="dim-exceed-6">U</th>
            <th class="dim-exceed-7">R</th>
            <th class="dim-exceed-8">S</th>
            <th class="dim-exceed-9">T</th>
            <th class="dim-exceed-10">O</th>
            <th class="dim-exceed-11">P</th>
            <th class="dim-exceed-12">Q</th>
          </tr>
          <tr>
            <th>X</th>
            <td>1</td>
            <td>0</td>
            <td>0</td>
            <td>0.8</td>
            <td class="dim-exceed-5">0.2</td>
            <td class="dim-exceed-6">0.5</td>
            <td class="dim-exceed-7">2</td>
            <td class="dim-exceed-8">0.125</td>
            <td class="dim-exceed-9">0.125</td>
            <td class="dim-exceed-10">0.125</td>
            <td class="dim-exceed-11">0.05</td>
            <td class="dim-exceed-12">3.2</td>
          </tr>
          <tr class="odd">
            <th>Y</th>
            <td>0</td>
            <td>1</td>
            <td>0</td>
            <td>0.2</td>
            <td class="dim-exceed-5">0.5</td>
            <td class="dim-exceed-6">0.8</td>
            <td class="dim-exceed-7">0.125</td>
            <td class="dim-exceed-8">0.125</td>
            <td class="dim-exceed-9">2</td>
            <td class="dim-exceed-10">0.05</td>
            <td class="dim-exceed-11">3.2</td>
            <td class="dim-exceed-12">0.125</td>
          </tr>
          <tr>
            <th>Z</th>
            <td>0</td>
            <td>0</td>
            <td>1</td>
            <td>0.5</td>
            <td class="dim-exceed-5">0.8</td>
            <td class="dim-exceed-6">0.2</td>
            <td class="dim-exceed-7">0.125</td>
            <td class="dim-exceed-8">2</td>
            <td class="dim-exceed-9">0.125</td>
            <td class="dim-exceed-10">3.2</td>
            <td class="dim-exceed-11">0.125</td>
            <td class="dim-exceed-12">0.05</td>
          </tr>
        </table>
        <ul>
          <li>異なる球体間で比較することにより、球体の正確な位置を決定することができる。</li>
          <li>定義上隣接する球体は、元の状態から軸の符号が1つだけずれることに気をつけることが重要である。
            <ul>
              <li>もう一度2次元の正方形を例に出すと、左下は右下と隣接しており、これはXのみが異なるからである。左下は、Z軸によって左上とも隣接している。</li>
            </ul>
          </li>
          <li>この理論は逆に、球体がある軸の正の方向かどうか調べる方法にも適応できる。
            <ul>
              <li>例えば、ある球体の位置が他の球体からちょうど(左,下,奥)=(0.8,0.2,0.5)にある場合、その球体は-Wに位置していると分かる。
                なぜなら、それはW軸が存在するであろう位置からさらに左,下,後に位置しており、+Wと隣接していると分かるからである。</li>
            </ul>
          </li>
        </ul>
      </div>
      <div class="page-footer relative-footer"></div>
    </div>
    <div class="page page-bg-03">
      <div class="page-header">
        <span class="page-header-doc-title">Keep Talking Nobody Explodes Mod</span>
        <span class="page-header-section-title">9次元超立方体</span>
      </div>
      <div class="page-content">
        <img src="img/The Octadecayotton/The Octadecayotton Axes 3.svg" class="diagram example">
        <img src="img/The Octadecayotton/The Octadecayotton Axes 4.svg" class="diagram example">
        <img src="img/The Octadecayotton/The Octadecayotton Axes 5.svg" class="diagram example">
        <img src="img/The Octadecayotton/The Octadecayotton Axes 6.svg" class="diagram example">
        <img src="img/The Octadecayotton/The Octadecayotton Axes 7.svg" class="diagram example">
        <img src="img/The Octadecayotton/The Octadecayotton Axes 8.svg" class="diagram example">
        <img src="img/The Octadecayotton/The Octadecayotton Axes 9.svg" class="diagram example">
        <img src="img/The Octadecayotton/The Octadecayotton Axes 10.svg" class="diagram example">
        <img src="img/The Octadecayotton/The Octadecayotton Axes 11.svg" class="diagram example">
        <img src="img/The Octadecayotton/The Octadecayotton Axes 12.svg" class="diagram example">
        <h3>隣接の定義</h3>
        <ul>
          <li>右の図は、立方体の左下1/4を拡大して正面から見た際の、<span class="dim-number"></span>
            つの隣接した球体の例を示している。
            <ul>
              <li>分かりやすくするために、塗りつぶされた球体に隣接しているものをハイライト付きの塗りつぶしていない球体にしている。
              </li>
            </ul>
          </li>
          <li id="dim-exactly-3">特に、定義上隣接する球体は、元の状態から軸の符号が1つの軸だけずれていることに気をつける。
            <ul>
              <li>2次元の正方形では、左下は右下と隣接しており、これはXのみが異なるからである。左下は、Z軸によって左上とも隣接している。</li>
            </ul>
          </li>
          <li>Y軸はこのアングルでは見えない。Y軸の正の方向は観測者にとって前に位置し、違う方向から見ると他の軸もそのように見える。
            <ul>
              <li>つまり、図に描かれた全ての球体は実際には手前と奥に2つ重なっている状態で表示されているということである。</li>
            </ul>
          </li>
          <li>読み順で(左から右、上から下)、球体は<span
              class="dim-axis-list2"></span>軸上にある。</li>
          <li>塗りつぶされている球体は完全に負の位置(底面の左奥端)に存在するため、塗りつぶされている球体から塗りつぶされていない球体への方向は正軸になり、塗りつぶされていない球体から塗りつぶされている球体への方向は負軸となる。</li>
        </ul>
        <h3>変形の定義</h3>
        <ul>
          <li>隣接する任意の2つの球体を見て、互いに異なる1つの軸を書き留める。
          </li>
          <li>1つの球体がもう一つの球体に向かう矢印を想定し、軸の正負を決定する。矢印が右/手前/上なら正、左/奥/下なら負になる。</li>
        </ul>
      </div>
      <div class="page-footer relative-footer"></div>
    </div>
    <div class="page page-bg-03">
      <div class="page-header">
        <span class="page-header-doc-title">Keep Talking Nobody Explodes Mod</span>
        <span class="page-header-section-title">9次元超立方体</span>
      </div>
      <div class="page-content">
        <h3>変形の定義(続き)</h3>
        <ul>

          <li>互いの関係性を特定できたら、その移動に注目する。
            <ul>
              <li>2つの球体が、異なる軸で隣接（回転）または同じ軸だが負の軸で隣接（反転）している場合、それは変形を意味する。</li>
            </ul>
          </li>
          <li>変形後の新しい軸を記録し、最初の軸に戻るまでこれを繰り返す。
            <ul>
              <li>「+X軸から+Z軸、+Z軸から-Y軸、-Y軸から-X軸」が一つの例である。これで最初のX軸に到達した。</li>
            </ul>
          </li>
          <li>二次変形には1~5つの軸が関わる。</li>
          <li>変形前の軸が負の軸の場合、変形前の軸と変形後の軸の両方を反転する。(正->負、負->正)
            <ul>
              <li>先程の例に戻ると、「-Y軸から-X軸」が「+Y軸から+X軸」となる。</li>
            </ul>
          </li>

          <li>最初の軸に到達したら、全ての変形前の軸を消去し、順序を逆にして結合する。
            <ul>
              <li>例に戻る。現在「+X軸から+Z軸、+Z軸から-Y軸、+Y軸から+X軸」と分かっている。変形前の軸を取り除くと、「+Z、-Y、+X」となる。順序を逆にする必要があるので、「+X、-Y、+Z」となり、これらを結合して「+X-Y+Z」を得る。</li>
            </ul>
          <li>こうして得られた軸の並びを二次変形と呼ぶ。変形の際には同時に1~5つの二次変形が発生することがある。</li>
          <li>どの軸も常に1つの二次変形しか行えない。したがって、個々の球体の移動に影響を与えても、軸には影響を与えず、これらの二次変形は互いに独立している。</li>
          <li>二次変形は円柱状(端がなく、一つの要素が次の要素に影響を与える)であり、それぞれ決まった順序がないため、複数の記し方が存在する。
            <ul>
              <li>例えば、+X-Y+Zは-Y+Z+X(1つ左にずれる)でも+Z+X-Y(1つ右にずれる)でも表せる。しかし、+Z-Y+X(逆順)や+X+Y+Z(-を+にする)は順序や正負が異なっているので、表せない。</li>
            </ul>
          </li>
        </ul>
      </div>
      <div class="page-footer relative-footer"></div>
    </div>
    <div class="page page-bg-04">
      <div class="page-header">
        <span class="page-header-doc-title">Keep Talking Nobody Explodes Mod</span>
        <span class="page-header-section-title">9次元超立方体</span>
      </div>
      <div class="page-content">
        <h3>変形値</h3>
        <ul>
          <li>変形が0の場合、このページをスキップする。すべての変形値は0である。</li>
          <li>全ての変形は変形値を持っている。それぞれの二次変形において、隣り合わせの軸のペアをリストアップする(最後<u>から</u>最初の軸によるペアも含む)。
            <ul>
              <li>二次変形が1つの軸のみの場合(反転)、上記のルールを無視し、その軸を2回繰り返すことによってペアを作成する。</li>
            </ul>
          </li>
          <li>常に二次変形内の軸の総数と、ペアの数は同じになる。</li>
          <li>各ペアに対して、最初の文字を段 、二番目の文字を列として、表の値を取得する。
            <ul>
              <li>どちらかの軸が負なら、ペアの値に-1を掛ける。</li>
            </ul>
          </li>
        </ul>
        <p><sup><i>* 2軸の変形であっても、このルールは適用される。+R-Yの二次変形では+R-Yと-T+Rのペアを得る。</i></sup></p>
        <table>
          <tr>
            <th class="corner" rowspan="2" colspan="2"></th>
            <th class="odd">X</th>
            <th class="odd">Y</th>
            <th class="odd">Z</th>
            <th class="odd dim-exceed-4">W</th>
            <th class="odd dim-exceed-5">V</th>
            <th class="odd dim-exceed-6">U</th>
            <th class="odd dim-exceed-7">R</th>
            <th class="odd dim-exceed-8">S</th>
            <th class="odd dim-exceed-9">T</th>
            <th class="odd dim-exceed-10">O</th>
            <th class="odd dim-exceed-11">P</th>
            <th class="odd dim-exceed-12">Q</th>
            <th class="corner" rowspan="2" colspan="2"></th>
          </tr>
          <tr>
            <th colspan="12" class="vertical-separator"></th>
          </tr>
          <tr>
            <th>X</th>
            <th rowspan="12" class="horizontal-separator"></th>
            <td>1</td>
            <td>2</td>
            <td>5</td>
            <td class="dim-exceed-4">1</td>
            <td class="dim-exceed-5">8</td>
            <td class="dim-exceed-6">8</td>
            <td class="dim-exceed-7">1</td>
            <td class="dim-exceed-8">5</td>
            <td class="dim-exceed-9">2</td>
            <td class="dim-exceed-10">1</td>
            <td class="dim-exceed-11">2</td>
            <td class="dim-exceed-12">5</td>
            <th rowspan="12" class="horizontal-separator"></th>
            <th>X</th>
          </tr>
          <tr>
            <th class="odd">Y</th>
            <td class="odd">2</td>
            <td class="odd">3</td>
            <td class="odd">6</td>
            <td class="odd dim-exceed-4">2</td>
            <td class="odd dim-exceed-5">9</td>
            <td class="odd dim-exceed-6">9</td>
            <td class="odd dim-exceed-7">2</td>
            <td class="odd dim-exceed-8">6</td>
            <td class="odd dim-exceed-9">3</td>
            <td class="odd dim-exceed-10">2</td>
            <td class="odd dim-exceed-11">3</td>
            <td class="odd dim-exceed-12">6</td>
            <th class="odd">Y</th>
          </tr>
          <tr>
            <th>Z</th>
            <td>9</td>
            <td>1</td>
            <td>4</td>
            <td class="dim-exceed-4">9</td>
            <td class="dim-exceed-5">7</td>
            <td class="dim-exceed-6">7</td>
            <td class="dim-exceed-7">9</td>
            <td class="dim-exceed-8">4</td>
            <td class="dim-exceed-9">1</td>
            <td class="dim-exceed-10">9</td>
            <td class="dim-exceed-11">1</td>
            <td class="dim-exceed-12">4</td>
            <th>Z</th>
          </tr>
          <tr class="dim-exceed-4">
            <th class="odd">W</th>
            <td class="odd">1</td>
            <td class="odd">2</td>
            <td class="odd">5</td>
            <td class="odd">1</td>
            <td class="odd dim-exceed-5">8</td>
            <td class="odd dim-exceed-6">8</td>
            <td class="odd dim-exceed-7">1</td>
            <td class="odd dim-exceed-8">5</td>
            <td class="odd dim-exceed-9">2</td>
            <td class="odd dim-exceed-10">1</td>
            <td class="odd dim-exceed-11">2</td>
            <td class="odd dim-exceed-12">5</td>
            <th class="odd">W</th>
          </tr>
          <tr class="dim-exceed-5">
            <th>V</th>
            <td>2</td>
            <td>3</td>
            <td>6</td>
            <td>2</td>
            <td>9</td>
            <td class="dim-exceed-6">9</td>
            <td class="dim-exceed-7">2</td>
            <td class="dim-exceed-8">6</td>
            <td class="dim-exceed-9">3</td>
            <td class="dim-exceed-10">2</td>
            <td class="dim-exceed-11">3</td>
            <td class="dim-exceed-12">6</td>
            <th>V</th>
          </tr>
          <tr class="dim-exceed-6">
            <th class="odd">U</th>
            <td class="odd">9</td>
            <td class="odd">1</td>
            <td class="odd">4</td>
            <td class="odd">9</td>
            <td class="odd">7</td>
            <td class="odd">7</td>
            <td class="odd dim-exceed-7">9</td>
            <td class="odd dim-exceed-8">4</td>
            <td class="odd dim-exceed-9">1</td>
            <td class="odd dim-exceed-10">9</td>
            <td class="odd dim-exceed-11">1</td>
            <td class="odd dim-exceed-12">4</td>
            <th class="odd">U</th>
          </tr>
          <tr class="dim-exceed-7">
            <th>R</th>
            <td>1</td>
            <td>2</td>
            <td>5</td>
            <td>1</td>
            <td>8</td>
            <td>8</td>
            <td>1</td>
            <td class="dim-exceed-8">5</td>
            <td class="dim-exceed-9">2</td>
            <td class="dim-exceed-10">1</td>
            <td class="dim-exceed-11">2</td>
            <td class="dim-exceed-12">5</td>
            <th>R</th>
          </tr>
          <tr class="dim-exceed-8">
            <th class="odd">S</th>
            <td class="odd">2</td>
            <td class="odd">3</td>
            <td class="odd">6</td>
            <td class="odd">2</td>
            <td class="odd">9</td>
            <td class="odd">9</td>
            <td class="odd">2</td>
            <td class="odd">6</td>
            <td class="odd dim-exceed-9">3</td>
            <td class="odd dim-exceed-10">2</td>
            <td class="odd dim-exceed-11">3</td>
            <td class="odd dim-exceed-12">6</td>
            <th class="odd">S</th>
          </tr>
          <tr class="dim-exceed-9">
            <th>T</th>
            <td>9</td>
            <td>1</td>
            <td>4</td>
            <td>9</td>
            <td>7</td>
            <td>7</td>
            <td>9</td>
            <td>4</td>
            <td>1</td>
            <td class="dim-exceed-10">9</td>
            <td class="dim-exceed-11">1</td>
            <td class="dim-exceed-12">4</td>
            <th>T</th>
          </tr>
          <tr class="dim-exceed-10">
            <th class="odd">O</th>
            <td class="odd">1</td>
            <td class="odd">2</td>
            <td class="odd">5</td>
            <td class="odd">1</td>
            <td class="odd">8</td>
            <td class="odd">8</td>
            <td class="odd">1</td>
            <td class="odd">5</td>
            <td class="odd">2</td>
            <td class="odd">1</td>
            <td class="odd dim-exceed-11">2</td>
            <td class="odd dim-exceed-12">5</td>
            <th class="odd">O</th>
          </tr>
          <tr class="dim-exceed-11">
            <th>P</th>
            <td>2</td>
            <td>3</td>
            <td>6</td>
            <td>2</td>
            <td>9</td>
            <td>9</td>
            <td>2</td>
            <td>6</td>
            <td>3</td>
            <td>2</td>
            <td>3</td>
            <td class="dim-exceed-12">6</td>
            <th>P</th>
          </tr>
          <tr class="dim-exceed-12">
            <th class="odd">Q</th>
            <td class="odd">9</td>
            <td class="odd">1</td>
            <td class="odd">4</td>
            <td class="odd">9</td>
            <td class="odd">7</td>
            <td class="odd">7</td>
            <td class="odd">9</td>
            <td class="odd">4</td>
            <td class="odd">1</td>
            <td class="odd">9</td>
            <td class="odd">1</td>
            <td class="odd">4</td>
            <th class="odd">Q</th>
          </tr>
          <tr>
            <th class="corner" rowspan="2" colspan="2"></th>
            <th colspan="12" class="vertical-separator"></th>
            <th class="corner" rowspan="2" colspan="2"></th>
          </tr>
          <tr>
            <th class="last-row">X</th>
            <th class="last-row">Y</th>
            <th class="last-row">Z</th>
            <th class="last-row dim-exceed-4">W</th>
            <th class="last-row dim-exceed-5">V</th>
            <th class="last-row dim-exceed-6">U</th>
            <th class="last-row dim-exceed-7">R</th>
            <th class="last-row dim-exceed-8">S</th>
            <th class="last-row dim-exceed-9">T</th>
            <th class="last-row dim-exceed-10">O</th>
            <th class="last-row dim-exceed-11">P</th>
            <th class="last-row dim-exceed-12">Q</th>
          </tr>
        </table>
      </div>
      <div class="page-footer relative-footer"></div>
    </div>
    <div class="page page-bg-04">
      <div class="page-header">
        <span class="page-header-doc-title">Keep Talking Nobody Explodes Mod</span>
        <span class="page-header-section-title">9次元超立方体</span>
      </div>
      <div class="page-content">
        <h3>変形値(続き)</h3>
        <ul>
          <li>それぞれの変形について、全ての二次変形から得たペアの値を合計し、絶対値を求める。<span id="dim-modulo"></span> その値がこの変形の変形値になる。以下マニュアルでは、 p<sub>x</sub> は、x番目の変形値を表している。</li>
        </ul>
        <p><span id="dim-modulo-explanation"></span></p>
        <h3>ゴールボール</h3>
        <ul>
          <li>変形が0の場合、このページと次のページをスキップする。ゴールボールは全てが負の位置にある(黒色)。</li>
          <li>それぞれの変形について、数列a<sub>x</sub>を作る。xは変形が何番目かを指す。全てのa<sub>x</sub>の初期値は<span class="dim-a-start"></span>である。</li>
          <li>a<sub>x</sub>に2進数のp<sub>x</sub>を配置する。つまり「10進数 &lt;-&gt; 2進数」からp<sub>x</sub>以下の最大の数を探して変形値から引き, a<sub>x</sub>の左からx番目を1にする。xは引いた数から求めた位置の数である。引き算と桁の配置をp<sub>1</sub>が0になるまで繰り返す。</li>
        </ul>
        <table>
          <tr>
            <th class="odd">10進数 &lt;-&gt; 2進数</th>
          </tr>
          <tr>
            <td>
              <table>
                <tr>
                  <th class="odd">引く数</th>
                  <td class="odd dim-exceed-12">2048</td>
                  <td class="odd dim-exceed-11">1024</td>
                  <td class="odd dim-exceed-10">512</td>
                  <td class="odd dim-exceed-9">256</td>
                  <td class="odd dim-exceed-8">128</td>
                  <td class="odd dim-exceed-7">64</td>
                  <td class="odd dim-exceed-6">32</td>
                  <td class="odd dim-exceed-5">16</td>
                  <td class="odd dim-exceed-4">8</td>
                  <td class="odd">4</td>
                  <td class="odd">2</td>
                  <td class="odd">1</td>
                </tr>
                <tr>
                  <th>位置</th>
                  <td>1</td>
                  <td>2</td>
                  <td>3</td>
                  <td class="dim-exceed-4">4</td>
                  <td class="dim-exceed-5">5</td>
                  <td class="dim-exceed-6">6</td>
                  <td class="dim-exceed-7">7</td>
                  <td class="dim-exceed-8">8</td>
                  <td class="dim-exceed-9">9</td>
                  <td class="dim-exceed-10">10</td>
                  <td class="dim-exceed-11">11</td>
                  <td class="dim-exceed-12">12</td>
                </tr>
              </table>
            </td>
          </tr>
        </table>
        <ul>
          <li>a<sub>x</sub>と変形を見て、下の表を参照し、それぞれの軸について、対応する数字を反転させる(0->1,1->0)。</li>
        </ul>
        <table>
          <tr>
            <th class="odd">軸 &lt;-&gt; 位置</th>
          </tr>
          <tr>
            <td>
              <table>
                <tr>
                  <th class="odd">正軸</th>
                  <td class="odd">+X</td>
                  <td class="odd">+Y</td>
                  <td class="odd">+Z</td>
                  <td class="odd dim-exceed-4">+W</td>
                  <td class="odd dim-exceed-5">+V</td>
                  <td class="odd dim-exceed-6">+U</td>
                  <td class="odd dim-exceed-7">+R</td>
                  <td class="odd dim-exceed-8">+S</td>
                  <td class="odd dim-exceed-9">+T</td>
                  <td class="odd dim-exceed-10">+O</td>
                  <td class="odd dim-exceed-11">+P</td>
                  <td class="odd dim-exceed-12">+Q</td>
                </tr>
                <tr>
                  <th>負軸</th>
                  <td class="dim-exceed-12">-Q</td>
                  <td class="dim-exceed-11">-P</td>
                  <td class="dim-exceed-10">-O</td>
                  <td class="dim-exceed-9">-T</td>
                  <td class="dim-exceed-8">-S</td>
                  <td class="dim-exceed-7">-R</td>
                  <td class="dim-exceed-6">-U</td>
                  <td class="dim-exceed-5">-V</td>
                  <td class="dim-exceed-4">-W</td>
                  <td>-Z</td>
                  <td>-Y</td>
                  <td>-X</td>
                </tr>
                <tr>
                  <th class="odd">位置</th>
                  <td class="odd">1</td>
                  <td class="odd">2</td>
                  <td class="odd">3</td>
                  <td class="odd dim-exceed-4">4</td>
                  <td class="odd dim-exceed-5">5</td>
                  <td class="odd dim-exceed-6">6</td>
                  <td class="odd dim-exceed-7">7</td>
                  <td class="odd dim-exceed-8">8</td>
                  <td class="odd dim-exceed-9">9</td>
                  <td class="odd dim-exceed-10">10</td>
                  <td class="odd dim-exceed-11">11</td>
                  <td class="odd dim-exceed-12">12</td>
                </tr>
              </table>
            </td>
          </tr>
        </table>
      </div>
      <div class="page-footer relative-footer"></div>
    </div>
    <div class="page page-bg-05">
      <div class="page-header">
        <span class="page-header-doc-title">Keep Talking Nobody Explodes Mod</span>
        <span class="page-header-section-title">9次元超立方体</span>
      </div>
      <div class="page-content">
        <h3>ゴールボール(続き)</h3>
        <ul>
          <li>全ての値を設定できたら、以下の条件に沿ってa<sub>0</sub>を求める。(条件の数よりも変形数が低い場合、このaの値は存在しないことに注意)
            <ol>
              <li>a<sub>1</sub>が存在し, かつa<sub>1</sub>の<span class="dim-a0-check"></span>番目の桁が1なら、a<sub>0</sub>の<span class="dim-a0-set"></span>番目は1である。</li>
              <li>a<sub>2</sub>が存在し, かつa<sub>2</sub>の<span class="dim-a0-check"></span>
                番目の桁が1なら、a<sub>0</sub>の<span class="dim-a0-set2"></span>番目は1である。</li>
              <li>a<sub>3</sub>が存在し, かつa<sub>3</sub>の<span class="dim-a0-check"></span> 番目の桁が1なら、a<sub>0</sub>の<span class="dim-a0-set3"></span>番目は1である。</li>
              <li class="dim-mod3-not0">
                a<sub>4</sub>が存在し, かつa<sub>4の</sub><span
                  class="dim-a0-check"></span>番目の桁が1なら、a<sub>0</sub>の<span
                  class="dim-a0-set4"></span>番目は1である。
              </li>
              <li class="dim-mod3-2">
                a<sub>5</sub>が存在し, かつa<sub>5</sub>の<span class="dim-a0-check"></span> 番目の桁が1なら、a<sub>0</sub>の<span class="dim-a0-set5"></span>番目は1である。
              </li>
            </ol>
          </li>
        </ul>
        <ul>
          <li>a<sub>0</sub>を含む全てのaの値はグレイコードとなっている。全てのグレイコードをバイナリコードに変換する:
            <ol>
              <li>バイナリコードの最初の桁はグレイコードの最初の桁と一致する。</li>
              <li>バイナリコードの次の桁は、2進数の前の桁と現在のグレイコードの和が1であれば1である。そうでない場合は0である。</li>
              <li><span class="dim-number"></span>桁になるまでステップ2を繰り返す。これがバイナリコードである。
              </li>
            </ol>
          </li>
        </ul>
        <ol>
        </ol>
        <ul>
          <li>a<sub>0</sub>と他のすべてのaの値のXORを求める。a<sub>0</sub>とa<sub>1</sub>を足し、その後次のaを参照する。桁の繰り上がりは行わず(1+1≠10)、それぞれのステップで2を0に置き換える。</li>
          <li>全ての0を-、全ての1を+に置き換える。</li>
          <li>これが<u>ゴール配列</u>となる。ゴールボールはゴール配列の軸の正負と全て一致している唯一の球を示している。
            <ul>
              <li>各文字の位置は「<span class="dim-axis-list3"></span>」の順番で、どの軸が属するかを表している。</li>
            </ul>
          </li>
        </ul>
      </div>
      <div class="page-footer relative-footer"></div>
    </div>
    <div class="page page-bg-05">
      <div class="page-header">
        <span class="page-header-doc-title">Keep Talking Nobody Explodes Mod</span>
        <span class="page-header-section-title">9次元超立方体</span>
      </div>
      <div class="page-content">
        <h3>一時停止</h3>
        <ul>
          <li>続ける前に、このモジュールはミスを記録しないと一時停止を解除できないことに気をつけること。先に全ての変形をメモしているか確認する。</li>
          <li>モジュールのどこかを押すと一時停止することができる。変形が止まり、入力可能を示す音の合図が再生される。</li>
          <li>モジュールが一時停止するたびに、ランダムな球1つが選ばれる。これを<u>スタートボール</u>と呼ぶ。スタートボールは発光する。</li>
          <li>発光している球体をゴールボールと同じ位置に合わせることが目標である。</li>
        </ul>
        <h3>移動</h3>
        <ul>
          <li>カウントダウンタイマーの<span class="dim-submit-type"></span>0~<span class="dim-upper-bound"></span>のときにモジュールを押して、1つの軸をキューに入れられる。0~<span
              class="dim-upper-bound"></span>の各入力は軸を表している。ただし順番はランダムである。</li>
          <li><span class="dim-axis-queue"></span>つの軸をキューに入れることにより入力が有効となる。カウントダウンタイマーの<span
              class="dim-submit-time"></span>のとき、自動的に<span
              class="dim-axis-queue"></span>つの軸を送信する。キューに対応していない数の場合、キューはリセットされる。
          </li>
          <li>発光している球体は送信された<span class="dim-axis-queue"></span>つの軸の反対側に移動する。</li>
          <li>送信の際、すべての軸は2回までしか送信できない。
            <ul>
              <li id="dim-exactly-4"></li>
              <li>ニアミスがあっても、モジュールには表示されない。</li>
            </ul>
          </li>
          <li>ゴールボールと発光している球体が同じ位置にあるときに、<span
              class="dim-number"></span> つ全ての軸を送信するように押すと、その時にモジュールが解除されるかミスを記録するか判定する。
            <ul>
              <li>ミスを記録すると、モジュールはリセットされる。</li>
            </ul>
          </li>
        </ul>
      </div>
      <div class="page-footer relative-footer"></div>
    </div>
  </div>
  <script>
    // I am so sorry for this code. I have commited too many sins here. At the very least I didn't use 'var'.
    const dimension = document.getElementById('dimensions');
    const diagrams = document.querySelectorAll('.diagram');
    const horizontalSeparators = document.querySelectorAll('.horizontal-separator');
    const verticalSeparators = document.querySelectorAll('.vertical-separator');
    const lastRow = document.querySelectorAll('.last-row');
    const pageFooter = document.querySelectorAll('.page-footer');

    const dimNumber = document.querySelectorAll('.dim-number');
    const dimAxisList = document.querySelectorAll('.dim-axis-list');
    const dimAxisList2 = document.querySelectorAll('.dim-axis-list2');
    const dimAxisList3 = document.querySelectorAll('.dim-axis-list3');
    const dimSphereCount = document.querySelectorAll('.dim-sphere-count');
    const dimUpperBound = document.querySelectorAll('.dim-upper-bound');
    const dimAxisQueue = document.querySelectorAll('.dim-axis-queue');
    const dimSubmitTime = document.querySelectorAll('.dim-submit-time');
    const dimSubmitType = document.querySelectorAll('.dim-submit-type');
    const dimaStart = document.querySelectorAll('.dim-a-start');
    const dima0Check = document.querySelectorAll('.dim-a0-check');
    const dima0Set = document.querySelectorAll('.dim-a0-set');
    const dima0Set2 = document.querySelectorAll('.dim-a0-set2');
    const dima0Set3 = document.querySelectorAll('.dim-a0-set3');
    const dima0Set4 = document.querySelectorAll('.dim-a0-set4');
    const dima0Set5 = document.querySelectorAll('.dim-a0-set5');
    const dimModulo = document.getElementById('dim-modulo');
    const dimModuloExplanation = document.getElementById('dim-modulo-explanation');

    const dimExactly3 = document.getElementById('dim-exactly-3');
    const dimExactly4 = document.getElementById('dim-exactly-4');
    const dimExceed4 = document.querySelectorAll('.dim-exceed-4');
    const dimExceed5 = document.querySelectorAll('.dim-exceed-5');
    const dimExceed6 = document.querySelectorAll('.dim-exceed-6');
    const dimExceed7 = document.querySelectorAll('.dim-exceed-7');
    const dimExceed8 = document.querySelectorAll('.dim-exceed-8');
    const dimExceed9 = document.querySelectorAll('.dim-exceed-9');
    const dimExceed10 = document.querySelectorAll('.dim-exceed-10');
    const dimExceed11 = document.querySelectorAll('.dim-exceed-11');
    const dimExceed12 = document.querySelectorAll('.dim-exceed-12');
    const dimMod3Not0 = document.querySelectorAll('.dim-mod3-not0');
    const dimMod32 = document.querySelectorAll('.dim-mod3-2');

    dimension.addEventListener('change', (event) => onChange(event.target.value));
    dimension.addEventListener('onload', (event) => onChange(event.target.value));
    onChange(dimension.value);

    function onChange(dim) {
      const index = Number(dim) - 3;
      for (let i = 0; i < dimNumber.length; i++)
        dimNumber[i].innerHTML = dim;
      for (let i = 0; i < diagrams.length; i++)
        diagrams[i].style.display = 'none';
      diagrams[0].style.display = 'block';
      diagrams[index + 1].style.display = 'block';
      diagrams[index + 11].style.display = 'block';
      for (let i = 0; i < horizontalSeparators.length; i++)
        horizontalSeparators[i].rowSpan = index + 3;
      for (let i = 0; i < verticalSeparators.length; i++)
        verticalSeparators[i].colSpan = index + 3;
      for (let i = 0; i < lastRow.length; i++)
        if ((index - 3) % 2 === 0)
          lastRow[i].classList.remove('odd');
        else
          lastRow[i].classList.add('odd');
      for (let i = 0; i < pageFooter.length; i++)
        pageFooter[i].innerHTML = index === 0 ? ['ページ 1/1?', 'ページ 1/7', 'えっ?', 'ページ 2/7', 'ページ 3/7', 'ページ 4/7', 'ページ 5/7', 'ページ 6/7', 'ページ 7/7'][i] : ['ページ 1/1?', 'ページ 1/8', 'ページ 2/8', 'ページ 3/8', 'ページ 4/8', 'ページ 5/8', 'ページ 6/8', 'ページ 7/8', 'ページ 8/8'][i];

      for (let i = 0; i < dimAxisList.length; i++)
        dimAxisList[i].innerHTML = ['X, Y, Z', 'X, Y, Z, W', 'X, Y, Z, W, V', 'X, Y, Z, W, V, U', 'X, Y, Z, W, V, U, R', 'X, Y, Z, W, V, U, R, S', 'X, Y, Z, W, V, U, R, S, T', 'X, Y, Z, W, V, U, R, S, T, O', 'X, Y, Z, W, V, U, R, S, T, O, P', 'X, Y, Z, W, V, U, R, S, T, O, P, Q'][index];
      for (let i = 0; i < dimAxisList2.length; i++)
        dimAxisList2[i].innerHTML = ['Z, Y (塗りつぶされている球体の手前に重なっている), X', 'Z, W, Y (塗りつぶされている球体の手前に重なっている), X', 'Z, V, W, Y (塗りつぶされている球体の手前に重なっている), X', 'Z, V, W, U, Y (塗りつぶされている球体の手前に重なっている), X', 'Z, V, W, U, R, Y (塗りつぶされている球体の手前に重なっている), X', 'S, Z, V, W, U, R, Y (塗りつぶされている球体の手前に重なっている), X', 'S, Z, V, W, U, T, R, Y (塗りつぶされている球体の手前に重なっている), X', 'O, S, Z, V, W, U, T, R, Y (塗りつぶされている球体の手前に重なっている), X', 'O, S, Z, V, W, P, U, T, R, Y (塗りつぶされている球体の手前に重なっている), X', 'O, S, Z, V, W, P, U, Q, T, R, Y (塗りつぶされている球体の手前に重なっている), X'][index];
      for (let i = 0; i < dimAxisList3.length; i++)
        dimAxisList3[i].innerHTML = 'XYZWVURSTOPQ'.substring(0, index + 3);
      for (let i = 0; i < dimSphereCount.length; i++)
        dimSphereCount[i].innerHTML = Math.pow(2, index + 3);
      for (let i = 0; i < dimUpperBound.length; i++)
        dimUpperBound[i].innerHTML = index + 2;
      for (let i = 0; i < dimAxisQueue.length; i++)
        dimAxisQueue[i].innerHTML = index === 0 ? '1' : '3';
      for (let i = 0; i < dimSubmitTime.length; i++)
        dimSubmitTime[i].innerHTML = index >= 8 ? '秒数が19,39,59' : '最後の数字が9';
      for (let i = 0; i < dimSubmitType.length; i++)
        dimSubmitType[i].innerHTML = index >= 8 ? '秒数(Mod20)が' : '最後の数字が';
      for (let i = 0; i < dimaStart.length; i++)
        dimaStart[i].innerHTML = ['"000"', '"0000"', '"00000"', '"000000"', '"0000000"', '"00000000"', '"000000000"', '"0000000000"', '"00000000000"', '"000000000000"',][index];
      for (let i = 0; i < dima0Check.length; i++)
        dima0Check[i].innerHTML = ['2 ', '3 ', '3 ', '4 ', '4 ', '5 ', '5 ', '6 ', '6 ', '7 '][index];
      for (let i = 0; i < dima0Set.length; i++)
        dima0Set[i].innerHTML = [' 1 ', ' 1 ', ' 1 ', ' 1 , 2 ', ' 1 , 2 ', ' 1 , 2 ', ' 1 , 2 , 3 ', ' 1 , 2 , 3 ', ' 1, 2 , 3 ', ' 1, 2 , 3 , 4 '][index];
      for (let i = 0; i < dima0Set2.length; i++)
        dima0Set2[i].innerHTML = [' 2 ', ' 2 ', ' 2 ', ' 3 , 4 ', ' 3 , 4 ', ' 3 , 4 ', ' 4 , 5 , 6 ', ' 4 , 5 , 6 ', ' 4 , 5 , 6 ', ' 5 , 6 , 7 , 8 '][index];
      for (let i = 0; i < dima0Set3.length; i++)
        dima0Set3[i].innerHTML = [' 3 ', ' 3 ', ' 3 ', ' 5 , 6 ', ' 5 , 6 ', ' 5 , 6 ', ' 7 , 8 , 9 ', ' 7 , 8 , 9 ', ' 7 , 8 , 9 ', ' 9 , 10 , 11 , 12 '][index];
      for (let i = 0; i < dima0Set4.length; i++)
        dima0Set4[i].innerHTML = [' えっ?', ' 4 ', ' 4 ', ' えっ?', ' 7 ', ' 7 , 8 ', ' えっ?', ' 10 ', ' 10 ', ' えっ?'][index];
      for (let i = 0; i < dima0Set5.length; i++)
        dima0Set5[i].innerHTML = [' えっ?', ' えっ?', ' 5 ', ' えっ?', ' えっ?', ' えっ?', ' えっ?', ' えっ?', ' えっ?', ' えっ?'][index];
      dimModulo.innerHTML = index + 3 < 6 ? 'その後Mod' + Math.pow(2, index + 3) +'を求める。': '';
      dimModuloExplanation.innerHTML = index + 3 < 6 ? '<sup><i>* Modとは左の数に対し、右の数を右の数以下の負ではない数になるまで足したり引いたりすることである。</i></sup></span>' : '';

      dimExactly3.style.display = index + 3 === 3 ? '' : 'none';
      dimExactly4.innerHTML = index + 3 === 4 ? '2回以上送信された軸を送信すると、ニアミスが記録される。6回目のニアミスが発生した時のみミスが記録され、モジュールがリセットされる。' : '2回以上送信された軸を送信すると、ニアミスが記録される。5回目のニアミスが発生した時のみミスが記録され、モジュールがリセットされる。';
      for (let i = 0; i < dimExceed4.length; i++)
        dimExceed4[i].style.display = index + 3 >= 4 ? '' : 'none';
      for (let i = 0; i < dimExceed5.length; i++)
        dimExceed5[i].style.display = index + 3 >= 5 ? '' : 'none';
      for (let i = 0; i < dimExceed6.length; i++)
        dimExceed6[i].style.display = index + 3 >= 6 ? '' : 'none';
      for (let i = 0; i < dimExceed7.length; i++)
        dimExceed7[i].style.display = index + 3 >= 7 ? '' : 'none';
      for (let i = 0; i < dimExceed8.length; i++)
        dimExceed8[i].style.display = index + 3 >= 8 ? '' : 'none';
      for (let i = 0; i < dimExceed9.length; i++)
        dimExceed9[i].style.display = index + 3 >= 9 ? '' : 'none';
      for (let i = 0; i < dimExceed10.length; i++)
        dimExceed10[i].style.display = index + 3 >= 10 ? '' : 'none';
      for (let i = 0; i < dimExceed11.length; i++)
        dimExceed11[i].style.display = index + 3 >= 11 ? '' : 'none';
      for (let i = 0; i < dimExceed12.length; i++)
        dimExceed12[i].style.display = index + 3 >= 12 ? '' : 'none';
      for (let i = 0; i < dimMod3Not0.length; i++)
        dimMod3Not0[i].style.display = index % 3 !== 0 ? '' : 'none';
      for (let i = 0; i < dimMod32.length; i++)
        dimMod32[i].style.display = index === 2 ? '' : 'none';
    }
  </script>
</body>

</html>