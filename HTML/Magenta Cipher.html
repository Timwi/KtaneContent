<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Magenta Cipher — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        .dark table, table {
            margin: 1em auto;
            border: none;
        }
        .strip-change-one td,
        .strip-change-one th {
            padding: .3em .5em .2em;
        }
        .alpha {
            font-size: 13px;
        }
        .tablea {
            font-size: 14px;
        }
        .tableb {
            font-size: 20px;
            width: 100%;
        }
        h4 { text-align: center; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Magenta Cipher</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Ultimate Cipher.svg" class="diagram">
                <h2>On the Subject of the Magenta Cipher</h2>
                <p class="flavour-text">The color magenta doesn’t exist, it is your brain trying to make sense of your red and blue cones activating while the green is inactive.
                    This cipher is merely a pigment of your imagination.</p>
                <p>On the module, you will see 3 screens, a keyboard, 2 arrows, and a submit button that displays the current page you’re on.</p>
                <p>Pressing any of the arrows will only clear any letters that you have pressed since there is only 1 page for this cipher.</p>
                <p>The top screen shows a 6 letter encrypted word, the middle screen displays a number, and the bottom screen shows a 3 letter key.</p>
                <p>Follow the mechanics down below to decrypt your word:</p>
                <h3>Step 1: Affine Cipher</h3>
                <p>The encrypted word can be decrypted using this formula: ((C - X) * D) % 26</p>
                <p>X is calculated by taking the sum of the serial number digits, modulo 25, plus 1.
                    D is the multiplicative inverse of the number displayed on the middle screen (This is called E).
                    D can be found by satisfying this equation: (E * D) % 26 = 1</p>
                <p>For each letter, turn it into a number using their alphabetic positions, plug it into the variable C in the equation, and turn the resulting value back into a letter.
                    Note: Z can be both 0 and 26.</p>
                <p>You should now have a new encrypted word.</p>
                <h4>Example</h4>
                <p style="text-align:center">
                    Encrypted Word: WVQMOG<br>
                    Middle Screen: 9 -> (9 * 3) % 26 = 1<br>
                    X: ((7 + 3) % 25) + 1 = 11
                </p>
                <p style="text-align:center">
                    W -> ((23 - 11) * 3) % 26 -> 10 -> J<br>
                    V -> ((22 - 11) * 3) % 26 -> 7 -> G<br>
                    Q -> ((17 - 11) * 3) % 26 -> 18 -> R<br>
                    M -> ((13 - 11) * 3) % 26 -> 6 -> F<br>
                    O -> ((15 - 11) * 3) % 26 -> 12 -> L<br>
                    G -> ((07 - 11) * 3) % 26 -> 14 -> N<br>
                </p>
                <p style="text-align:center">
                    New Encrypted Word: JGRFLN
                </p>
                </div>
            <div class="page-footer relative-footer">Page 1 of 3</div>
        </div>

        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Magenta Cipher</span>
            </div>
            <div class="page-content">
                <h3>Step 2: Myszkowski Transposition</h3>
                <p>Create a key by taking the letters in the serial number and assign each letter in alphabetical order, ties included, where 1 is a letter that occurs earliest from the alphabet.</p>
                <p>Next, place 6 dashes underneath the key so that it fits in the columns of the key in reading order.</p>
                <p>Place each letter of the encrypted word you got from step 1 in ascending numerical order, replacing each dash underneath the number.
                    In the case of duplicate numbers in the key, place them from left to right, top to bottom for the current duplicate number, until each of the dashes underneath the duplicate numbers been replaced.
                    Then read the letters in reading order to get a new encrypted word.</p>
                <h4>Example</h4>
                <p style="text-align:center">
                    Encrypted Word: JGRFLN<br>
                    Letters: LPWP
                </p>
                <table>
                <tr>
                    <td>L</td>
                    <td>P</td>
                    <td>W</td>
                    <td>P</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                    <td>2</td>
                </tr>
                <tr>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>-</td>
                    <td>-</td>
                    <td class='empty'></td>
                    <td class='empty'></td>
                </tr>
                </table>
                <table>
                <tr>
                    <td>L</td>
                    <td>P</td>
                    <td>W</td>
                    <td>P</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                    <td>2</td>
                </tr>
                <tr>
                    <td>J</td>
                    <td>R</td>
                    <td>N</td>
                    <td>F</td>
                </tr>
                <tr>
                    <td>G</td>
                    <td>L</td>
                    <td class='empty'></td>
                    <td class='empty'></td>
                </tr>
                </table>
                <p style="text-align:center">
                    New Encrypted Word: JRNFGL
                </p>
                </div>
            <div class="page-footer relative-footer">Page 2 of 3</div>
        </div>
    <div class="page page-bg-03">
        <div class="page-header">
            <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
            <span class="page-header-section-title">Magenta Cipher</span>
        </div>
        <div class="page-content">

    <h3>Step 3: Autokey Cipher</h3>
    <p>For this, you will need the encrypted word you got from step 2 and the key from the bottom screen.</p>
    <p>Take the first letter of your encrypted word and the first letter of the key and turn them into numbers using their alphabetic positions.</p>
    <p>Now take the first number minus the second number, and then turn the new number back into a letter treating as its alphabetic position.</p>
    <p>If the resulting number is 0 or below, add 26 until the number is between 1 - 26.</p>
    <p>Write the resulting letter at the end of the key.</p>
    <p>Repeat this for each letter to get your decrypted word.</p>
    <h4>Example</h4>
    <p style="text-align:center">
    Encrypted Word: JRNFGL
    Key: FWA
    </p>
    <p style="text-align:center">
    J, F -> 10 - 6 -> 4 -> D<br>
    R, W -> 18 - 23 -> -5 + 26 -> 21 -> U<br>
    N, A -> 14 - 1 -> 13 -> M<br>
    F, D -> 6 - 4 -> 2 -> B<br>
    G, U -> 7 - 21 -> -14 + 26 -> 12 -> L<br>
    L, M -> 12 - 13 -> -1 + 26 = 25 -> Y<br>
    Decrypted Word: DUMBLY
    </p>
    <p>Once you finally have your decrypted word, you can submit it. Once you start typing, all the screens will
        go black and the bottom screen will show what you are typing.</p>

        <p>To clear it, just click one of the arrows. This goes to one of the pages and clears any input you put in.
        It will not let you go over 6 letters on input.</p>

        <p>Once you are satisfied with your input, press the button labeled "SUB" to submit your answer. On a
        strike, the module will go back to the first page of the module, but it does not regenerate.</p>

        </div>
            <div class="page-footer relative-footer">Page 3 of 3</div>
        </div>
    </div>
</body>
</html>