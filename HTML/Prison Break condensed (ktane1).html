<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Prison Break Condensed — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.7.0.min.js"></script>
    <script>
    $(function() {
        let maze = $(".highlight-overlay");
        for (let r = 0; r < 12; r++) {
            let row = $("<tr>").appendTo(maze);
            for (let c = 0; c < 12; c++) {
                $("<td>").appendTo(row);
            }
        }
    });
    </script>
    <style>
        .imageholder {
            height:250px;
            position: relative;
            display: flex;
            justify-content: center;
        }
        .mazeImage { height:250px; }
        .dark .highlight-overlay, .highlight-overlay {
            border: none;
            position: absolute;
            height:250px;
            width:250px;
        }
        .dark .mazeImage { filter: invert(87%); }
        .dark .highlight-overlay td, .highlight-overlay td { border: none; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Prison Break</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Prison Break.svg" class="diagram">
                <h2>On the Subject of A More Straightforward Prison Break</h2>
                <p class="flavour-text">For newbies who aren’t paying attention during the briefing.</p>
                <p>The module requires you to capture a prisoner by finding its path. Selecting the module would activate it, and you have five minutes.</p>
                <p>The screen would constantly flash a sequence of directions, with a pause before repeating. Take note of these directions.</p>
                <p>The bottom left screen shows the prisoner’s cell number. This is the prisoner’s starting cell.</p>
                <p>The bottom right screen shows your coordinates.</p>
                <p>The background of the module shows which maze you and the prisoner are in. Refer to them in the appendix in the next few pages.</p>
                <h3>Decrypting directional laughs</h3>
                <ul>
                    <li>Concatenate each character in the serial number to form a number, with all letters converted to their alphabetic positions (A1Z26). Keep the leading zeroes if needed. (E.g. P37DR4 -> 16374184)</li>
                    <li>Go through each digit from left to right, starting from the second digit. If the digit directly to the left of this one is even, add 5 to this digit, modulo 10.(E.g. 12345 would be changed to 12895)</li>
                    <li>Now, from now on:
                    <ul>
                        <li>If the number of received directions are not both even nor both odd:
                        <ul>
                            <li>Take the sum of the first and last digits of the number, modulo 10.</li>
                            <li>If the number of digits in the string is even, insert it in the middle of the string.</li>
                            <li>If the number of digits in the string is odd, insert it in directly to the left of the middle digit.</li>
                        </ul>
                        </li>
                        <li>If the number of received directions is larger than the current number of digits, duplicate the entire number, add 1 to each digit, modulo 10, then append it at the end of this number string.</li>
                        <li>If either one of the above conditions aren’t satisfied, go back to the first instruction and repeat the process until they are.</li>
                    </ul>
                    </li>
                    <li>Take the middle n digits from this number, where n is the number of received directions. Pair each direction to each digit from left to right.</li>
                    <li>Now it’s time to modify the directions based on the numbers formed.</li>
                </ul>
            </div>
            <div class="page-footer relative-footer">Page 1 of 4</div>
        </div>
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Prison Break</span>
            </div>
            <div class="page-content">
                <h3>Decrypting directional laughs, continued</h3>
                <ul>
                    <li>A digit refers to a certain instruction to modify the direction.</li>
                    <li>Firstly, if the number of times this module is activated is even, your current rotational direction is clockwise, otherwise it’s counterclockwise.</li>
                    <li>Modify each direction based on the digit as follows:
                        <ul>
                            <li>If the digit is 5, keep the direction as it is.</li>
                            <li>If the digit is 2, 3, 7, rotate the direction by 180 degrees.</li>
                            <li>If the digit is 1, 4, 9, rotate the direction by 45 degrees in regards to your current rotational direction, and then invert your current rotational direction.</li>
                            <li>If the digit is 0, 6, 8, rotate the direction by 90 degrees in regards to your current rotational direction, and then invert your current rotational direction.</li>
                        </ul>
                    </li>
                    <li>Apply the result directions starting from the prisoner’s cell. The final cell reached is your goal.</li>
                </ul>
                <p>Move to the goal and press the display. Hitting a wall would trigger a 2 second cooldown that would cease any movement.</p>
                <p>Pressing the display at the goal will solve the module. Otherwise it will strike and reset after a 30 second cooldown. Letting the timer run out would do the same.</p>
            </div>
            <div class="page-footer relative-footer">Page 2 of 4</div>
        </div>
        <div class="page page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Prison Break</span>
            </div>
            <div class="page-content">
                <h2>Appendix: Layouts of various prisons</h2>
                <p class="flavour-text">Oh and if you’re wondering why are the layouts shaped like a maze, apparently this is one of the precautions to confuse escapists, but then ironically it confuses most of us guards too...</p>
                <table>
                    <tr>
                        <th>Background texture</th>
                        <th>Prison Name</th>
                        <th>Prison Layout</th>
                    </tr>
                    <tr>
                        <td><img src="img/Prison Break/bg1.png" style="height:150px"></td>
                        <td>Oozora Prison Department</td>
                        <td class="nohighlight"><div class="imageholder">
                            <img class="mazeImage" src="img/Prison Break/maze1.png" />
                            <table class="highlight-overlay"></table>
                        </div></td>
                    </tr>
                    <tr>
                        <td><img src="img/Prison Break/bg2.png" style="height:150px"></td>
                        <td>Green Dolphin Street Prison</td>
                        <td class="nohighlight"><div class="imageholder">
                            <img class="mazeImage" src="img/Prison Break/maze2.png" />
                            <table class="highlight-overlay"></table>
                        </div></td>
                    </tr>
                    <tr>
                        <td><img src="img/Prison Break/bg3.png" style="height:150px"></td>
                        <td>Center Perks 2.0</td>
                        <td class="nohighlight"><div class="imageholder">
                            <img class="mazeImage" src="img/Prison Break/maze3.png" />
                            <table class="highlight-overlay"></table>
                        </div></td>
                    </tr>
                </table>
            </div>
            <div class="page-footer relative-footer">Page 3 of 4</div>
        </div>
        <div class="page page-bg-04">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Prison Break</span>
            </div>
            <div class="page-content">
                <table>
                    <tr>
                        <td><img src="img/Prison Break/bg4.png" style="height:150px"></td>
                        <td>Rattlesnake Springs</td>
                        <td class="nohighlight"><div class="imageholder">
                            <img class="mazeImage" src="img/Prison Break/maze4.png" />
                            <table class="highlight-overlay"></table>
                        </div></td>
                    </tr>
                    <tr>
                        <td><img src="img/Prison Break/bg5.png" style="height:180px"></td>
                        <td>Fort Tundra</td>
                        <td class="nohighlight"><div class="imageholder">
                            <img class="mazeImage" src="img/Prison Break/maze5.png" />
                            <table class="highlight-overlay"></table>
                        </div></td>
                    </tr>
                </table>

            </div>
            <div class="page-footer relative-footer">Page 4 of 4</div>
        </div>
    </div>
</body>
</html>