<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Guitar Chords — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.7.0.min.js"></script>
    <script src="js/Utilities/svg-utils.js"></script>
    <script>
        $(function () {
            let diagram = $(".fret-diagram");
            for (let i = 0; i < 6; i++) {
                if (i != 5) {
                    let lineVert = MakeSvgElem("path", { d: "M" + (25 * i + 10) + " 10 v100" });
                    diagram.append(lineVert);
                }
                let lineHoriz = MakeSvgElem("path", { d: "M10 " + (20 * i + 10) + " h100" });
                diagram.append(lineHoriz);
            }
            const chordPositions = [
                "022100", "221 0 ", " 11   ",
                "  0001", " 2120 ", " 1102 ",
                "  00 1", "  0202", " 1    ",
                "  111 ", "  2010", "020100",
                "  110 ", "  101 ", "020000",
                "  1112", "  2313", "133211",
                "  1102", "  1313", "133111",
                " 02220", "   121", "  321 ",
                " 02210", "   120", "  1111",
                "  2213", "   101", "21   2",
                " 13331", "   100", "022000",
                " 13321", "  3231", "21   0",
                " 101 1", "  0212",
            ];
            let allDiagrams = document.getElementsByClassName("fret-diagram");
            for (let d in allDiagrams) {
                for (let i = 0; i < 6; i++) {
                    let position = chordPositions[d].charAt(i);
                    if (position != " ") {
                        allDiagrams[d].append(MakeSvgElem("circle", { class: "dot", cx:(97.5 - 25 * chordPositions[d].charAt(i)), cy: 20 * (i + 0.5), r: 6 }))
                    }
                }
            }
        });
    </script>
    <style>
        td.image { text-align: center; }
        .fret-diagram {
            width: 30%;
            stroke: black;
            stroke-width: 2px;
        }
        .dark .fret-diagram .dot { fill: #DDD; }
        .dark .fret-diagram { stroke: #DDD; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Guitar Chords</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Guitar Chords.svg" class="diagram">
                <h2>On the Subject of Guitar Chords</h2>
                <p class="flavour-text">You hum it, I’ll play it.</p>

                <ul>
                    <li>The module consists of a guitar fretboard, three level displays and a play button.</li>
                    <li>To defuse the module, you must enter the finger positions of the given chords at the capo position.</li>
                    <li>Entering a wrong or invalid chord will cause a strike.</li>
                </ul>
                <ul>
                    <li>Use the chord chart to determine the position of each chord.</li>
                    <li>Press a fret to select it. Press it again to deselect it.</li>
                    <li>At each stage, the capo positions are determined by the tables below. Use the first condition that applies.</li>
                    <li>The capo position relocates the chord on the fretboard.</li>
                    <li>For example, capo 3 will move any fingers on the first fret to the fourth fret. Capo 8 will move any fingers on the third fret to the eleventh fret etc. Any empty strings are unaffected by the capo, and remain empty.</li>
                </ul>

                <h3>Capo Position</h3>
                <table class='condition-table'>
                    <tr>
                        <th colspan="2">Level 1</th>
                        <th colspan="2">Level 2</th>
                        <th colspan="2">Level 3</th>
                    </tr>
                    <tr>
                        <th>Condition</th>
                        <th>Capo Position</th>
                        <th>Condition</th>
                        <th>Capo Position</th>
                        <th>Condition</th>
                        <th>Capo Position</th>
                    </tr>
                    <tr>
                        <td>A lit BOB indicator is present</td>
                        <td>9</td>
                        <td>A PS/2 or serial port are present</td>
                        <td>5</td>
                        <td>No batteries are present</td>
                        <td>3</td>
                    </tr>
                    <tr>
                        <td>A parallel & RJ-45 port are present</td>
                        <td>7</td>
                        <td>The serial number contains a vowel</td>
                        <td>0</td>
                        <td>The sum of the serial number digits is less than 10</td>
                        <td>5</td>
                    </tr>
                    <tr>
                        <td>Fewer than three batteries are present</td>
                        <td>5</td>
                        <td>More than five batteries are present</td>
                        <td>9</td>
                        <td>An FRQ indicator is present</td>
                        <td>7</td>
                    </tr>
                    <tr>
                        <td>The last digit of the serial number is odd</td>
                        <td>3</td>
                        <td>An unlit SIG indicator is present</td>
                        <td>7</td>
                        <td>An RCA or a DVI-D port are present</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>Otherwise</td>
                        <td>0</td>
                        <td>Otherwise</td>
                        <td>3</td>
                        <td>Otherwise</td>
                        <td>9</td>
                    </tr>
                </table>
            </div>
            <div class="page-footer relative-footer">Page 1 of 2</div>
        </div>

        <div class="page guitarChords-page-2 page-bg-04">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Guitar Chords</span>
            </div>
            <div class="page-content">
                <h3>Chord Chart</h3>

                <p>The chords are displayed below in the same orientation as the guitar on the module (i.e. the head, with the tuning pegs, is on the right hand side).</p>

                <table class='condition-table'>
                    <tr>
                        <th>Chord Name</th>
                        <th>Chord Position</th>
                        <th>Chord Name</th>
                        <th>Chord Position</th>
                        <th>Chord Name</th>
                        <th>Chord Position</th>
                    </tr>
                    <tr>
                        <td>Ab</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>C</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>Em</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                    </tr>
                    <tr>
                        <td>Ab7</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>C7</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>E7</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                    </tr>
                    <tr>
                        <td>Abm7</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>Cm7</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>Em7</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                    </tr>
                    <tr>
                        <td>A</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>C#</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>F7</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                    </tr>
                    <tr>
                        <td>Am</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>C#m</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>Fm7</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                    </tr>
                    <tr>
                        <td>A7</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>C#7</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>F#</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                    </tr>
                    <tr>
                        <td>Am7</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>C#m7</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>F#m</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                    </tr>
                    <tr>
                        <td>Bb</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>D</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>F#7</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                    </tr>
                    <tr>
                        <td>Bbm</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>Dm</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>F#m7</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                    </tr>
                    <tr>
                        <td>Bbm7</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>D7</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>G</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                    </tr>
                    <tr>
                        <td>B</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>Dm7</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>Gm</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                    </tr>
                    <tr>
                        <td>Bm</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>Ebm</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>G7</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                    </tr>
                    <tr>
                        <td>B7</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                        <td>Eb7</td>
                        <td class='image'><svg class="fret-diagram" viewbox="0 0 115 120"></svg></td>
                    </tr>
                </table>
            </div>
            <div class="page-footer relative-footer">Page 2 of 2</div>
        </div>
    </div>
</body>
</html>
