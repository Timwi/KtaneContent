<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>アンフェアの逆襲 — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        table {
            margin: 1em auto;
            text-align: center;
        }
        table tr:nth-of-type(1) th
        {
            background-color: #303030;
            color: white;
        }
        .key-b-table {
            width: 100%;
        }
        .key-b-table th, .key-b-table td {
            padding: .1em .1em 0;
            text-align: center;
        }
        .key-b-table tr:nth-of-type(1) th:nth-of-type(2), .key-b-table tr:nth-of-type(3) th:nth-of-type(1)
        {
            background-color: #303030;
            color: white;
        }
        .key-b-table td {
            font-family: 'Special Elite', 'Courier New', monospace;
        }
        .floating-table {
            float: right;
            margin: .5em 0 0 1em;
        }
        ol, ul {
            padding-left: 2em;
        }
        ul.spaced li {
            margin: 1em 0;
        }
        .pigpen { width: 100%; }
        .dark img.pigpen { filter: invert(87%); }
        .page.strip { --strip-color: #B00; }
        .affine-table {
            font-size: 81%;
            width: 100%;
        }
        .affine-table td:not([colspan="26"]) {
            font-family: 'Special Elite', 'Courier New', monospace;
        }
        .page-footer::before { content: "ページ "; }
        .page-footer::after { content: "/9"; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">アンフェアの逆襲</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Unfair's Revenge.svg" class="diagram">
                <h2>モジュール詳細：アンフェアの逆襲</h2>
                <p class="flavour-text">2ヶ月の制作期間は、多大な反発という結果に終わった。更なる1ヶ月の制作期間はこれ以上の被害を増やさないためのものだ。これはこれ以上なく<ruby>不公平<rt>アンフェア</rt></ruby>だ。</p>
                <p>このモジュールには2つのディスプレーがある。上のディスプレーには暗号化されたメッセージが表示されている。LEDの列は現在のステージ数を表している。</p>
                <p>右のディスプレーを押すと、白字で表示されるモジュールIDと、赤字で表示されるモジュールが認識したミスの回数の表示で切り替わる。これらはどちらもローマ数字で表示される。</p>
                <p><strong><span style="color:red">このモジュールにおいて、ミスの回数を参照する場合、必ずこの赤字で表示されたミスの回数を参照する。</span></strong></p>
                <p>モジュールによって暗号化されたメッセージは、4つの3文字の<strong>命令</strong>を繋げたものである。これは異なる<strong>鍵</strong>を使った4種類の暗号によって暗号化される。すべての正しい入力を行うとモジュールが解除される。</p>
                <p>すべての暗号において「アルファベットでの位置」を参照する場合は、特に指定のない限りA1Z26を利用する。</p>
                <ul>
                    <li>暗号化の手順は次の通りである: <strong>原文 → プレイフェア暗号 → アフィン暗号 → カエサル暗号 → ピッグペン暗号</strong>。これらを逆順に復号すると元の命令を得られる。</li>
                </ul>
                <h3>鍵A</h3>
                <ol>
                    <li>最初に、爆弾のシリアルナンバー最初の3文字を参照する。</li>
                    <li>
                        この文字列を三十六進数の数字として解釈する。
                        <ul>
                            <li>三十六進数に含まれない数字が存在する場合、その文字を「I」として扱う。</li>
                        </ul>
                    </li>
                    <li>この数字を十進数に変換する。詳細の方法については、<i>付録：三十六進数からの変換</i>を参照する。これによって得られた数字は、後に得られる結果の先頭に結合される。</li>
                    <li>
                        次に、爆弾のシリアルナンバー最後の3文字を参照し、英字をアルファベットでの位置の数字で置き換える(A=1、B=2...)。
                        <ul>
                            <li>これにより、数字のみで構成された文字列を得る。</li>
                        </ul>
                    </li>
                    <li>三十六進数の変換によって得られた数字の最後に、この数字を結合する。</li>
                    <li>この数字を十六進数に変換する。詳細の方法については、<i>付録：D3K2H3X</i>を参照する。</li>
                </ol>
            </div>
            <div class="page-footer relative-footer">1</div>
        </div>
        <div class="page page-bg-02 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">アンフェアの逆襲</span>
            </div>
            <div class="page-content">
                <ol start="7">
                    <li>十六進数を、数字と英字で構成された文字列として見る。左から順にみて、すべての数字に以下の操作を行う: 
                        <ul>
                            <li>その数字の後の文字も数字で、その数字と合わせると10から26の間の数字を構成する場合、その2桁の数字を、アルファベットでの位置がその数字である英字1文字と置き換える。</li>
                            <li>そうでない場合、その1桁の数字をアルファベットでの位置がその数字である英字1文字と置き換える。数字が0である場合、その数字を無視する。</li>
                        </ul>
                    </li>
                    <li>モジュールID、ポートプレートの数、バッテリーホルダーの数を、それぞれアルファベットでの位置がその数字である英字1文字に変換する。ただし、値が0である場合や数字が26より大きい場合は、ステップ7の手順によって変換する。</li>
                    <li>得られた英字を、これまでの結果の最後に結合する。</li>
                    <li><strong>これが鍵Aである。</strong></li>
                </ol>
                <h3>鍵B</h3>
                <p>以下の表から鍵Bを得る。曜日と月は、爆弾が起動した時間を参照する。</p>
                <table class='key-b-table'>
                    <tr><td style="background: #101010" colspan="2" rowspan="2"></td>
                        <th colspan="12" style="background: #303030; color: white">月</th></tr>
                    <tr><th>1月</th><th>2月</th><th>3月</th><th>4月</th><th>5月</th><th>6月</th><th>7月</th><th>8月</th><th>9月</th><th>10月</th><th>11月</th><th>12月</th></tr>

                    <tr>
                        <th colspan="1" rowspan="7">曜日</th>
                        <th>月</th>
                        <td>ABDA</td>
                        <td>FEV</td>
                        <td>DBHC</td>
                        <td>AEI</td>
                        <td>DBIE</td>
                        <td>PLAY</td>
                        <td>AFCG</td>
                        <td>ONE</td>
                        <td>DEAI</td>
                        <td>ALPH</td>
                        <td>EFAB</td>
                        <td>DECC</td>
                    </tr>
                    <tr>
                        <th>火</th>
                        <td>ABDB</td>
                        <td>FEW</td>
                        <td>DBHD</td>
                        <td>OUY</td>
                        <td>DBIF</td>
                        <td>HIDE</td>
                        <td>AFCH</td>
                        <td>TWO</td>
                        <td>DEAA</td>
                        <td>BETA</td>
                        <td>EFAC</td>
                        <td>DECD</td>
                    </tr>
                    <tr>
                        <th>水</th>
                        <td>ABDC</td>
                        <td>FEX</td>
                        <td>DBHE</td>
                        <td>WBC</td>
                        <td>DBIG</td>
                        <td>SECR</td>
                        <td>AFCI</td>
                        <td>THRE</td>
                        <td>DEAB</td>
                        <td>CHAR</td>
                        <td>EFAD</td>
                        <td>DECE</td>
                    </tr>
                    <tr>
                        <th>木</th>
                        <td>ABDD</td>
                        <td>FEY</td>
                        <td>DBHF</td>
                        <td>DFG</td>
                        <td>DBIH</td>
                        <td>CIPH</td>
                        <td>AFCA</td>
                        <td>FOUR</td>
                        <td>DEAC</td>
                        <td>DELT</td>
                        <td>EFAE</td>
                        <td>DECF</td>
                    </tr>
                    <tr>
                        <th>金</th>
                        <td>ABDE</td>
                        <td>FEZ</td>
                        <td>DBHG</td>
                        <td>HJK</td>
                        <td>DBII</td>
                        <td>FAIL</td>
                        <td>AFCB</td>
                        <td>FIVE</td>
                        <td>DEAD</td>
                        <td>ECHO</td>
                        <td>EFAF</td>
                        <td>DED</td>
                    </tr>
                    <tr>
                        <th>土</th>
                        <td>ABDF</td>
                        <td>FEBG</td>
                        <td>DBHH</td>
                        <td>LMN</td>
                        <td>DBIA</td>
                        <td>PART</td>
                        <td>AFCC</td>
                        <td>SIX</td>
                        <td>DEAE</td>
                        <td>FOXT</td>
                        <td>EFB</td>
                        <td>DEDA</td>
                    </tr>
                    <tr>
                        <th>日</th>
                        <td>ABDG</td>
                        <td>FEBH</td>
                        <td>DBHI</td>
                        <td>PQR</td>
                        <td>DBIB</td>
                        <td>BECO</td>
                        <td>AFCD</td>
                        <td>SEVN</td>
                        <td>DEAF</td>
                        <td>GOLF</td>
                        <td>EFBA</td>
                        <td>DEDB</td>
                </table>
                <h3>鍵C</h3>
                <p>鍵Bを利用したプレイフェア暗号によって、鍵Aを暗号化する。<strong>これが鍵Cである。</strong></p>
                <p>詳細の方法については、<i>付録：PL4YF4112 101</i>を参照する。</p>
            </div>
            <div class="page-footer relative-footer">2</div>
        </div>

        <div class="page page-bg-03 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">アンフェアの逆襲</span>
            </div>
            <div class="page-content">

                <h3>解法 — ステップ1: ピッグペン暗号</h3>
                <p>以下の図を利用して、上のディスプレーに表示された記号を英字に変換する。</p>
                <img src="img/Ultimate Cipher/PigPenKey.png" class="pigpen" alt="A pigpen encryption table would be shown here.">
            </div>
            <div class="page-footer relative-footer">3</div>
        </div>

        <div class="page page-bg-04 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">アンフェアの逆襲</span>
            </div>
            <div class="page-content">
                <h3>解法 — ステップ2: カエサル暗号</h3>
                <table class='floating-table'>
                    <tr>
                        <th style="background: #303030; color: white">条件</th>
                        <th style="background: #303030; color: white">操作</th>
                    </tr>
                    <tr>
                        <td><strong>ポートの種類</strong>1つにつき</td>
                        <th>- 2</th>
                    </tr>
                    <tr>
                        <td><strong>ポートプレート</strong>1つにつき</td>
                        <th>+ 1</th>
                    </tr>
                    <tr>
                        <td>シリアルナンバーの<strong>子音</strong>1つにつき</td>
                        <th>+ 1</th>
                    </tr>
                    <tr>
                        <td>シリアルナンバーの<strong>母音</strong>1つにつき</td>
                        <th>- 2</th>
                    </tr>
                    <tr>
                        <td><strong>点灯した</strong>インジケーター1つにつき</td>
                        <th>+ 2</th>
                    </tr>
                    <tr>
                        <td><strong>点灯していない</strong>インジケーター1つにつき</td>
                        <th>- 2</th>
                    </tr>
                    <tr>
                        <td><strong>バッテリー</strong>1つにつき</td>
                        <th>- 1</th>
                    </tr>
                    <tr>
                        <td>バッテリーがない場合</td>
                        <th>+ 10</th>
                    </tr>
                    <tr>
                        <td>ポートがない場合</td>
                        <th>× 2</th>
                    </tr>
                    <tr>
                        <td>モジュールの数が31以上である場合</td>
                        <th>÷ 2</th>
                    </tr>
                </table>
                <p>カエサル暗号のオフセットを計算する。0から開始し、上記の表のうち満たす条件の操作を上から順に適用する。</p>
                <p>除算については、あまりを無視する。例: 除算の結果が-1.5である場合、-1を利用する</p>
                <p>暗号文を<em>復号</em>するには、オフセットが負であるならば、画面に表示された文字をそれぞれその数だけ前に進める。反対に、オフセットが正であるならば、文字をそれぞれその数だけ後ろに戻す。<strong>A</strong>から後ろに戻す場合は<strong>Z</strong>になり、反対に<strong>Z</strong>から前に進める場合は<strong>A</strong>になる。</p>
                <h3>解法 — ステップ3: アフィン暗号</h3>
                <table style="width: 100%">
                    <tr>
                        <th>条件</th>
                        <th>操作</th>
                    </tr>
                    <tr>
                        <td>「BOB」「CAR」「CLR」のインジケーター1つにつき:</td>
                        <td>点灯していれば+1、点灯していなければ-1</td>
                    </tr>
                    <tr>
                        <td>「FRK」「FRQ」「MSA」「NSA」のインジケーター1つにつき:</td>
                        <td>点灯していれば+2、点灯していなければ-2</td>
                    </tr>
                    <tr>
                        <td>「SIG」「SND」「TRN」のインジケーター1つにつき:</td>
                        <td>点灯していれば+3、点灯していなければ-3</td>
                    </tr>
                    <tr>
                        <td>バッテリー:</td>
                        <td>奇数ならば+4、偶数ならば-4</td>
                    </tr>
                    <tr>
                        <td>パラレルポートがあるポートプレートが存在する:</td>
                        <td>1つに付き+5、シリアルポートと同じポートプレートにあるならば-4</td>
                    </tr>
                    <tr>
                        <td>DVI-Dポートがあるポートプレートが存在する:</td>
                        <td>1つに付き-5、ステレオRCAポートと同じポートプレートにあるならば+4</td>
                    </tr>
                </table>
                <p>上記の表を利用して、アフィン暗号で利用するオフセットを計算する。0から開始して、条件に当てはまる段の操作を全て適用する。オフセットが負である場合、その絶対値を利用する。この数字はこのステップにおいて「X」と表される。</p>
            </div>
            <div class="page-footer relative-footer">4</div>
        </div>

        <div class="page page-bg-05 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">アンフェアの逆襲</span>
            </div>
            <div class="page-content">
                <p>メッセージのそれぞれの文字について:</p>
                <ul>
                    <li>その文字のアルファベットでの位置の数に(2X+1)を乗算する。</li>
                    <li>1から26の範囲の数になるまで、26を繰り返し引く。</li>
                    <li>これが暗号化された文字のアルファベットでの位置の数である。</li>
                </ul>
                <p><em>復号</em>するには、暗号化された文字のアルファベットでの位置に、その数が(2X+1)で割り切れるまで26を繰り返し足す。その数を(2X+1)で割った時の値が復号した文字のアルファベットでの位置である。</p>
                <p><strong>ただし、Xが整数nを使って13n+6の形で表すことができる場合、代わりにアトバシュ暗号を利用する。アトバシュ暗号の暗号化/復号方法については、次の章で説明する。</strong></p>
                <p>必要であれば、以下の表を利用してアフィン暗号を復号しても良い。Xの値に応じて、上からX+1番目の段を利用する。1番目の段は同時に暗号化前の文字を示している。</p>
                <table class="affine-table">
                    <tr>
                        <th colspan="26">アフィン暗号変換表</th>
                    </tr>
                    <tr>
                        <td>A</td><td>B</td><td>C</td><td>D</td><td>E</td><td>F</td><td>G</td><td>H</td><td>I</td><td>J</td><td>K</td><td>L</td><td>M</td>
                        <td>N</td><td>O</td><td>P</td><td>Q</td><td>R</td><td>S</td><td>T</td><td>U</td><td>V</td><td>W</td><td>X</td><td>Y</td><td>Z</td>
                    </tr>
                    <tr>
                        <td>C</td><td>F</td><td>I</td><td>L</td><td>O</td><td>R</td><td>U</td><td>X</td><td>A</td><td>D</td><td>G</td><td>J</td><td>M</td>
                        <td>P</td><td>S</td><td>V</td><td>Y</td><td>B</td><td>E</td><td>H</td><td>K</td><td>N</td><td>Q</td><td>T</td><td>W</td><td>Z</td>
                    </tr>
                    <tr>
                        <td>E</td><td>J</td><td>O</td><td>T</td><td>Y</td><td>D</td><td>I</td><td>N</td><td>S</td><td>X</td><td>C</td><td>H</td><td>M</td>
                        <td>R</td><td>W</td><td>B</td><td>G</td><td>L</td><td>Q</td><td>V</td><td>A</td><td>F</td><td>K</td><td>P</td><td>U</td><td>Z</td>
                    </tr>
                    <tr>
                        <td>G</td><td>N</td><td>U</td><td>B</td><td>I</td><td>P</td><td>W</td><td>D</td><td>K</td><td>R</td><td>Y</td><td>F</td><td>M</td>
                        <td>T</td><td>A</td><td>H</td><td>O</td><td>V</td><td>C</td><td>J</td><td>Q</td><td>X</td><td>E</td><td>L</td><td>S</td><td>Z</td>
                    </tr>
                    <tr>
                        <td>I</td><td>R</td><td>A</td><td>J</td><td>S</td><td>B</td><td>K</td><td>T</td><td>C</td><td>L</td><td>U</td><td>D</td><td>M</td>
                        <td>V</td><td>E</td><td>N</td><td>W</td><td>F</td><td>O</td><td>X</td><td>G</td><td>P</td><td>Y</td><td>H</td><td>Q</td><td>Z</td>
                    </tr>
                    <tr>
                        <td>K</td><td>V</td><td>G</td><td>R</td><td>C</td><td>N</td><td>Y</td><td>J</td><td>U</td><td>F</td><td>Q</td><td>B</td><td>M</td>
                        <td>X</td><td>I</td><td>T</td><td>E</td><td>P</td><td>A</td><td>L</td><td>W</td><td>H</td><td>S</td><td>D</td><td>O</td><td>Z</td>
                    </tr>
                    <tr>
                        <td colspan="26">X = 6の場合、暗号を復号することはできない。</td>
                    </tr>
                    <tr>
                        <td>O</td><td>D</td><td>S</td><td>H</td><td>W</td><td>L</td><td>A</td><td>P</td><td>E</td><td>T</td><td>I</td><td>X</td><td>M</td>
                        <td>B</td><td>Q</td><td>F</td><td>U</td><td>J</td><td>Y</td><td>N</td><td>C</td><td>R</td><td>G</td><td>V</td><td>K</td><td>Z</td>
                    </tr>
                    <tr>
                        <td>Q</td><td>H</td><td>Y</td><td>P</td><td>G</td><td>X</td><td>O</td><td>F</td><td>W</td><td>N</td><td>E</td><td>V</td><td>M</td>
                        <td>D</td><td>U</td><td>L</td><td>C</td><td>T</td><td>K</td><td>B</td><td>S</td><td>J</td><td>A</td><td>R</td><td>I</td><td>Z</td>
                    </tr>
                    <tr>
                        <td>S</td><td>L</td><td>E</td><td>X</td><td>Q</td><td>J</td><td>C</td><td>V</td><td>O</td><td>H</td><td>A</td><td>T</td><td>M</td>
                        <td>F</td><td>Y</td><td>R</td><td>K</td><td>D</td><td>W</td><td>P</td><td>I</td><td>B</td><td>U</td><td>N</td><td>G</td><td>Z</td>
                    </tr>
                    <tr>
                        <td>U</td><td>P</td><td>K</td><td>F</td><td>A</td><td>V</td><td>Q</td><td>L</td><td>G</td><td>B</td><td>W</td><td>R</td><td>M</td>
                        <td>H</td><td>C</td><td>X</td><td>S</td><td>N</td><td>I</td><td>D</td><td>Y</td><td>T</td><td>O</td><td>J</td><td>E</td><td>Z</td>
                    </tr>
                    <tr>
                        <td>W</td><td>T</td><td>Q</td><td>N</td><td>K</td><td>H</td><td>E</td><td>B</td><td>Y</td><td>V</td><td>S</td><td>P</td><td>M</td>
                        <td>J</td><td>G</td><td>D</td><td>A</td><td>X</td><td>U</td><td>R</td><td>O</td><td>L</td><td>I</td><td>F</td><td>C</td><td>Z</td>
                    </tr>
                    <tr>
                        <td>Y</td><td>X</td><td>W</td><td>V</td><td>U</td><td>T</td><td>S</td><td>R</td><td>Q</td><td>P</td><td>O</td><td>N</td><td>M</td>
                        <td>L</td><td>K</td><td>J</td><td>I</td><td>H</td><td>G</td><td>F</td><td>E</td><td>D</td><td>C</td><td>B</td><td>A</td><td>Z</td>
                    </tr>
                </table>
                <h3>解法 — ステップ3A: アトバシュ暗号</h3>
                <p><strong>ステップ3において、Xが整数nを使って13n+6の形で表すことができない場合は、このステップを利用しない。</strong></p>
                <p>暗号化するメッセージにおいて、それぞれの文字をアルファベットの位置が(27-P)である文字に置き換える。ただし、Pは暗号化する文字のアルファベットでの位置である。</p>
                <p><em>復号</em>するには、それぞれの文字をアルファベットの位置が(27-E)である文字に置き換える。ただし、Eは復号する文字のアルファベットでの位置である。</p>
            </div>
            <div class="page-footer relative-footer">5</div>
        </div>

        <div class="page page-bg-06 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">アンフェアの逆襲</span>
            </div>
            <div class="page-content">
                <h3>解法 — ステップ4: プレイフェア暗号</h3>
                <p>これまでのステップで復号された暗号を、鍵Cを使ったプレイフェア暗号で復号する。</p>
                <p>詳細の方法については、<i>付録：PL4YF4112 101</i>を参照する。</p>
                <p><strong>ここで得られた文字列が原文である。</strong></p>
                <h3>解法 — ステップ5: 命令の実行</h3>
                <p>メッセージは4つの命令からなる。それぞれの命令を左から順に実行する。</p>
                <p>小さいディスプレーを押すことで、モジュールIDとミスの回数の表示で切り替えられる。ミスの回数は赤で表示される。どちらもローマ数字で表記されている。</p>
                <h4>命令:</h4>
                <p>「%」は剰余算 (左の数を右の数で割った時のあまり)を示している。</p>
                <p><strong>内心</strong>とは、中心にある白い円を表す。</p>
                <p><strong>外心</strong>とは、色のついたボタンの外にある、灰色の円形の枠を示す。</p>
                <p>色のついたボタンは常に同じ順番で配置されている。左上から時計回りに、赤、黄、緑、シアン、青、マゼンタの順である。</p>
                <p>素数のリストについては、<i>付録：PR1M3</i>を参照する。</p>
                <ul>
                    <li><strong><em>PCR</em></strong>: 赤のボタンを押す。</li>
                    <li><strong><em>PCG</em></strong>: 緑のボタンを押す。</li>
                    <li><strong><em>PCB</em></strong>: 青のボタンを押す。</li>
                    <li><strong><em>SCC</em></strong>: シアンのボタンを押す。</li>
                    <li><strong><em>SCM</em></strong>: マゼンタのボタンを押す。</li>
                    <li><strong><em>SCY</em></strong>: 黄のボタンを押す。</li>
                    <li><strong><em>SUB</em></strong>: タイマーの秒を表す2つの数字が一致する時に、<strong>外心</strong>を押す。</li>
                    <li>
                        <strong><em>MIT</em></strong>: タイマーの秒数の一の位が<i>(m + c + s) % 10</i>と一致するときに、<strong>内心</strong>を押す。ただし、<i>m</i>はモジュールID、<i>c</i>は最後にミスが記録されたとき(ミスが記録されていない場合は初期状態)から色のついた(赤、緑、青、シアン、マゼンタ、黄のいずれか)ボタンが押された回数、<i>s</i>は現在のステージ(1から開始)の番号を表す。
                    </li>
                </ul>
            </div>
            <div class="page-footer relative-footer">6</div>
        </div>

        <div class="page page-bg-07 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">アンフェアの逆襲</span>
            </div>
            <div class="page-content">
                <ul>
                    <li><strong><em>PRN</em></strong>: モジュールID % 20が素数である場合、<strong>内心</strong>を押す。そうでない場合、<strong>外心</strong>を押す。</li>
                    <li><strong><em>CHK</em></strong>: モジュールID % 20が素数である場合、<strong>外心</strong>を押す。そうでない場合、<strong>内心</strong>を押す。</li>
                    <li>
                        <strong><em>BOB</em></strong>: <strong>内心</strong>を押す。
                        <ul>
                            <li>点灯したBOBのインジケーターが爆弾の唯一のインジケーターで、バッテリーホルダーがちょうど2つかつバッテリーがちょうど4つある場合、これを押すと<strong>即座にモジュールが解除される</strong>。</li>
                        </ul>
                    </li>
                    <li>
                        <strong><em>REP</em></strong>または<strong><em>EAT</em></strong>: 最後の入力を繰り返す。これが最初の命令である場合、<strong>内心</strong>を押す。時間による制約は無視しても良い。
                    </li>
                    <li>
                        <strong><em>STR</em></strong>または<strong><em>IKE</em></strong>: <span style="color:red">赤</span>のボタンを0個目として、色のついたボタンを時計回りに記録されたミスの回数分だけ数え、その位置のボタンを押す。
                        <ul>
                            <li>これらの手順におけるミスの回数は、モジュールにある小さいディスプレーに表示される<span style="color:red">認識されたミスの回数</span>を参照する。</li>
                        </ul>
                    </li>

                    <li>
                        <em><strong>SIG</strong></em>: <strong>内心</strong>を押す。この命令が最後の命令ではなく、次の命令をスキップすることができる場合、さらにシアンのボタンを押して<strong>次の命令をスキップ</strong>する。そうでない場合、<strong>内心</strong>のみを押す。
                    </li>
                    <li>
                        <strong><em>PVP</em></strong>または<strong><em>NXP</em></strong>: 最後に押した色のついたボタンから開始する。(まだ一度も色のついたボタンを押していない場合は左上から開始する。)そのボタンから、反時計回り(PVP)/時計回り(NXP)に数えて、最初の原色(赤、緑、青)のボタンを押す。
                    </li>
                    <li>
                        <strong><em>PVS</em></strong>または<strong><em>NXS</em></strong>: 最後に押した色のついたボタンから開始する。(まだ一度も色のついたボタンを押していない場合は左上から開始する。)そのボタンから、反時計回り(PVS)/時計回り(NXS)に数えて、最初の二次色(シアン、マゼンタ、黄)のボタンを押す。
                    </li>
                    <li><em><strong>OPP</strong></em>: 最後に押したボタンと直径方向に正反対の位置のボタンを押す。最後に押したボタンが<strong>外心</strong>である場合、<strong>内心</strong>を押し、<strong>内心</strong>である場合、<strong>外心</strong>を押す。これが最初の命令である場合、<strong>外心</strong>を押す。</li>
                </ul>
            </div>
            <div class="page-footer relative-footer">7</div>
        </div>

        <div class="page page-bg-01 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">アンフェアの逆襲</span>
            </div>
            <div class="page-content">

                <table style="float: right">
                    <tr>
                        <th>三十六進数</th>
                        <th>十進数</th>
                        <th>三十六進数</th>
                        <th>十進数</th>
                    </tr>
                    <tr>
                        <td>0 - 9</td><td>0 - 9</td><td>O</td><td>24</td>
                    </tr>
                    <tr>
                        <td>A</td><td>10</td><td>P</td><td>25</td>
                    </tr>
                    <tr>
                        <td>B</td><td>11</td><td>Q</td><td>26</td>
                    </tr>
                    <tr>
                        <td>C</td><td>12</td><td>R</td><td>27</td>
                    </tr>
                    <tr>
                        <td>D</td><td>13</td><td>S</td><td>28</td>
                    </tr>
                    <tr>
                        <td>E</td><td>14</td><td>T</td><td>29</td>
                    </tr>
                    <tr>
                        <td>F</td><td>15</td><td>U</td><td>30</td>
                    </tr>
                    <tr>
                        <td>G</td><td>16</td><td>V</td><td>31</td>
                    </tr>
                    <tr>
                        <td>H</td><td>17</td><td>W</td><td>32</td>
                    </tr>
                    <tr>
                        <td>I</td><td>18</td><td>X</td><td>33</td>
                    </tr>
                    <tr>
                        <td>J</td><td>19</td><td>Y</td><td>34</td>
                    </tr>
                    <tr>
                        <td>K</td><td>20</td><td>Z</td><td>35</td>
                    </tr>
                    <tr>
                        <td>L</td><td>21</td><td>10</td><td>36</td>
                    </tr>
                    <tr>
                        <td>M</td><td>22</td><td>11</td><td>37</td>
                    </tr>
                    <tr>
                        <td>N</td><td>23</td><td>...</td><td>...</td>
                    </tr>
                </table>
                <h3>付録：三十六進数からの変換</h3>
                <p>右の表は三十六進数と十進数変換の早見表である。以下のステップを参照して整数を十六進数に変換する。</p>
                <ol>
                    <li>一番左の桁から、初期値0で開始する。</li>
                    <li>現在の桁の三十六進数での値を加算する。</li>
                    <li>これが最後の桁でなければ、数字に36を掛け、次の桁に移動する。</li>
                    <li>全ての桁についてステップ2、3を繰り返す。</li>
                    <li>得られた結果が十進数の数字である。</li>
                </ol>
            </div>
            <div class="page-footer relative-footer">8</div>
        </div>
        <div class="page page-bg-02 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">アンフェアの逆襲</span>
            </div>
            <div class="page-content">
                <table class='floating-table'>
                    <tr>
                        <th>十進数</th>
                        <th>十六進数</th>
                    </tr>
                    <tr>
                        <th>0 - 9</th>
                        <th>0 - 9</th>
                    </tr>
                    <tr>
                        <th>10</th>
                        <th>A</th>
                    </tr>
                    <tr>
                        <th>11</th>
                        <th>B</th>
                    </tr>
                    <tr>
                        <th>12</th>
                        <th>C</th>
                    </tr>
                    <tr>
                        <th>13</th>
                        <th>D</th>
                    </tr>
                    <tr>
                        <th>14</th>
                        <th>E</th>
                    </tr>
                    <tr>
                        <th>15</th>
                        <th>F</th>
                    </tr>
                    <tr>
                        <th>16</th>
                        <th>10</th>
                    </tr>
                    <tr>
                        <th>26</th>
                        <th>1A</th>
                    </tr>
                    <tr>
                        <th>...</th>
                        <th>...</th>
                    </tr>
                </table>
                <h3>付録：D3K2H3X</h3>
                <p>以下のステップを参照して整数を十六進数に変換する</p>
                <ol>
                    <li>数字を16で割り、その商と余剰を計算する。</li>
                    <li>以下のテーブルを利用して、余剰を十六進数で利用される数字に変換する。</li>
                    <li>同様のステップを、商を新しい数字として繰り返す。これを余剰が0になるまで行う。</li>
                    <li>得られた十六進数で利用される数字の列の順番を逆転させる。</li>
                    <li>先頭に0がある場合、それらを消す。</li>
                </ol>

                <h3>付録：PR1M3</h3>
                <ul>
                    <li>素数(20以下): 2, 3, 5, 7, 11, 13, 17, 19</li>
                </ul>

                <h3>付録：PL4YF4112 101</h3>
                <ul class='spaced'>
                    <li>
                        次の手順により、5×5の英字からなる行列を作成する。まず<b>鍵</b>の英字を左上から読み順に埋め、残りの使われていないアルファベットをアルファベット順で埋める。全ての英字は、<b>一度しか</b>行列に利用することができないため、1回目の出現時のみ行列を埋める。「J」と「I」は同一の英字として扱う。
                    </li>
                    <li>以下の手順で(D)と書かれた手順は<em>復号</em>するときのみ適用し、(E)と書かれた手順は<em>暗号化</em>するときのみ適用する。</li>
                    <li><b>メッセージ</b>を2文字ずつのペアに分ける。メッセージが奇数個である場合、メッセージの最後に「<strong>X</strong>」を付け足す。ペアの文字が<strong>同じ</strong>である場合、二つ目の文字を「<strong>X</strong>」に変換する。それぞれのペアについて:
                        <ul>
                            <li>文字が行列の同じ行に出現する場合、それぞれの文字を<em>左</em>(D)/<em>右</em>(E)に隣接する文字に変換する。その位置に文字が存在しない場合は、反対側の列にループする。</li>
                            <li>文字が行列の同じ列に出現する場合、それぞれの文字を<em>上</em>(D)/<em>下</em>(E)に隣接する文字に変換する。その位置に文字が存在しない場合は、反対側の行にループする。</li>
                            <li>文字が行列の異なる行・列に出現する場合、それぞれの文字を同じ行で、もう片方の文字の列にある文字に変換する。</li>
                        </ul>
                    </li>
                    <li>必要があれば、「X」をペアのもう片方の文字に置き換えるか削除し、「I」を「J」に置き換える。
                    </li>
                </ul>
            </div>
            <div class="page-footer relative-footer">9</div>
        </div>
    </div>
</body>
</html>
