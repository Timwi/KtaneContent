<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Many Poly — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.7.0.min.js"></script>
    <style>
        .dark table, table {
            float: right;
            margin: auto;
        }
        th:nth-child(2) { text-align: left; }
        .dark a, a {
            display: inline-block;
            margin-right: .5em;
            text-decoration: none;
            color: white;
            font-size: 80%;
            transition: color .1s;

            background: #008;
            border-radius: 50%;
            width: 1.5em;
            height: 1.5em;
            text-align: center;
            padding-left: .1em;
            box-sizing: border-box;
            font-family: monospace;
        }

        a:hover:not(.failed):not(.playing) {
            color: #ff8;
        }

        a.playing {
            color: #8f8;
        }

        a.failed {
            cursor: not-allowed;
            color: red;
        }
    </style>
    <script>
    $(function() {
        $("th:nth-child(2)").each(function() {
            let elem = $(this);
            let curTxt = elem.text();
            let audio = $("<audio>")
                .on("error", function() {
                    button.addClass("failed");
                })
                .attr("src", "../HTML/audio/Many Poly/" + curTxt + ".mp3")
                .on("ended", function() {
                    button.removeClass("playing");
                })
                .appendTo(elem);

            let button = $("<a href='#' class='play-button'>▶</a>")
                .click(function() {
                    if (button.hasClass("playing")) {
                        audio[0].pause();
                        audio[0].currentTime = 0;
                        audio[0].play();
                    } else {
                        button.addClass("playing");
                        audio[0].play();
                    }
                    return false;
                })
                .prependTo(elem);
        });
    });
    </script>
    <style>
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Many Poly</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Many Poly.svg" class="diagram">
                <h2>On the Subject of Many Poly</h2>
                <p class="flavour-text">Metronomic beats to fall asleep / lose your sense of rhythm to.</p>
                <ul>
                    <li>Selecting the module will make the five sounds it plays audible.</li>
                    <li>Each sound corresponds to the color of one of the buttons on the module.</li>
                </ul>
                <table>
                    <tr><th style = "background-color:#2f9a1f"></th><th>Kick Drum</th></tr>
                    <tr><th style = "background-color:#ff6d57"></th><th>Hi-hat</th></tr>
                    <tr><th style = "background-color:#e0c989"></th><th>Bamboo</th></tr>
                    <tr><th style = "background-color:#ffea51"></th><th>Glass Tap</th></tr>
                    <tr><th style = "background-color:#baa3b5"></th><th>Finger Snap</th></tr>
                    <tr><th style = "background-color:#d6a347"></th><th>Marimba</th></tr>
                    <tr><th style = "background-color:#aa5ed8"></th><th>Tambourine</th></tr>
                    <tr><th style = "background-color:#3f99ba"></th><th>Bongo Drum</th></tr>
                    <tr><th style = "background-color:#ff7fe5"></th><th>Castanets</th></tr>
                    <tr><th style = "background-color:#9cef6c"></th><th>Triangle</th></tr>
                    <tr><th style = "background-color:#465bb3"></th><th>Steel Drum</th></tr>
                    <tr><th style = "background-color:#77c59b"></th><th>Clap</th></tr>
                    <tr><th style = "background-color:#bf1968"></th><th>Sleigh Bell</th></tr>
                    <tr><th style = "background-color:#af3fbf"></th><th>Maracas</th></tr>
                    <tr><th style = "background-color:#727272"></th><th>Cowbell</th></tr>
                </table>
                <ul>
                    <li>Each sound occurs a different number of times within a loop of random length that restarts once all five sounds play simultaneously.<br>This number is the sound's frequency.</li>
                    <li>Three of frequencies are coprime integers in the range 2≤x≤10.</li>
                    <li>One of the frequencies shares a factor with exactly one of the previous three frequencies and lies in the range 4≤x≤20.</li>
                    <li>The fifth frequency shares factors with at least two of the other four frequencies and lies in the range 30≤x≤60.</li>
                    <li>Use the arrow buttons to increment/decrement the displayed frequency.<br>Holding an arrow will rapidly alter the display until it is released.</li>
                    <li>Submit the displayed frequency by selecting a coloured button.<br>If the displayed frequency matches the frequency of the sound corresponding to the colour of the selected button, the submission is accepted.</li>
                    <li>Correctly submit all five frequencies to solve the module.</li>
                </ul>
            </div>
            <div class="page-footer relative-footer">Page 1 of 1</div>
        </div>
    </div>
</body>
</html>