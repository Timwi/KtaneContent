<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Unfair’s Forgotten Ciphers — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.7.0.min.js"></script>
    <script src="js/Utilities/svg-utils.js"></script>
    <script>
        $(function () {
            let names = [
                "BLUE", "AZURE", "CYAN", "VIOLET", "MAYA", "AQUA", "MAGENTA", "PINK", "WHITE",
                "INDIGO", "TEAL", "JADE", "PLUM", "GRAY", "MINT", "ROSE", "SALMON", "CREAM",
                "BLACK", "FOREST", "GREEN", "MAROON", "OLIVE", "LIME", "RED", "ORANGE", "YELLOW"
            ];
            let colors = [
                "#00F", "#08F", "#0FF", "#80F", "#88F", "#8FF", "#F0F", "#F8F", "#FFF",
                "#008", "#088", "#0F8", "#808", "#888", "#8F8", "#F08", "#F88", "#FF8",
                "#000", "#080", "#0F0", "#800", "#880", "#8F0", "#F00", "#F80", "#FF0"
            ];
            let tColor = [
                "w", "b", "b", "w", "b", "b", "b", "b", "b",
                "w", "w", "b", "w", "b", "b", "w", "b", "b",
                "w", "w", "b", "w", "w", "b", "w", "b", "b"
            ];
            let chart = $("svg.chart");
            let l = 14.5;
            for (let r = 0; r < 3; r++) {
                for (let c = 0; c < 9; c++) {
                    let idx = r * 9 + c;
                    let offset = c > 5 ? 10 : (c > 2 ? 5 : 0);
                    let box = MakeSvgElem("rect", {
                        x: (c * (l + 1.6) + offset + 32), y: (r * (l + 1.6) + 38),
                        width: l, height: l, fill: colors[idx]
                    });
                    chart[0].appendChild(box)
                    let text = MakeSvgElem("text", {
                        class: tColor[idx],
                        x: (l + c * (l + 1.6) + offset + 24.7), y: (l + r * (l + 1.6) + 32)
                    });
                    text.textContent = names[idx];
                    chart[0].appendChild(text);
                }
            }
            let box = MakeSvgElem("rect", {
                x: (8 * (l + 1.6) + 42.1), y: (0 * (l + 1.6) + 38.1),
                width: (l - 0.2), height: (l - 0.2), fill: "transparent", stroke: "#000", "stroke-width": "0.3"
            });
            chart[0].appendChild(box)
        });
    </script>
    <style>
        table {
            text-align: center;
        }

        .operators td, .operators th {
            width: 28px;
            height: 28px;
        }

        .hstack {
            align-items: center;
            flex-wrap: wrap
        }
        .hstack table {
            margin: 0 20px 20px;
            width: 20%;
        }
        .hstack table th { padding: .1em .4em 0; }
        
        .squeeze { margin:auto; }

        table:not(.exempt) {
            margin-left: auto;
            margin-right: auto;
        }

        td ul { margin: 0; }

        .smaller { width: 40%; }

        .page-footer::before { content: "Page "; }
        .page-footer::after { content: " of 14"; }
        .invert {
            color: white;
            background-color: black;
        }
        .dark .invert {
            color: black;
            background-color: lightgray;
        }

        .smallertext {
            font-size: 80%;
        }

        .sqz table td, .sqz table th {
            line-height: 1.1;
            padding: .3em .55em .1em;
        }
        
        svg { width: 80%; }
        svg text.w { fill: #FFF; }
        svg text.b { fill: #000; }
        .dark svg path { fill: #DDD; }
        .dark svg path.s { stroke: #DDD; }

        .dark .invertable { filter: invert(85%); }
        .page.strip { --strip-color: #555555; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Unfair’s Forgotten Ciphers</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Unfair's%20Forgotten%20Ciphers.svg" class="diagram">
                <h2>On the Subject of Unfair’s Forgotten Ciphers</h2>
                <p class="flavour-text"></p>

                <p>The display on the top shows an encrypted message. There is also a strip of LEDs underneath the display which will light up depending on what page the defuser is on.</p>
                <p>In this state, the buttons in the middle can be selected at any point to cycle between pages and toggle between submitting the words and viewing pages.</p>
                <p><strong>All ciphers mentioning the alphabet in this manual will correspond to the English alphabet: “ABCDEFGHIJKLMNOPQRSTUVWXYZ”, unless otherwise stated. Alphabetic position mentioned in this manual will correspond to the A1Z26 equivalents, unless otherwise stated.</strong></p>
                <p><strong>The right screen on page 1 will always have its strike counter in RED and its module ID in WHITE.</strong></p>
                <p>The functions for the buttons while the module is not in submission mode is the following, with the directional button representing the buttons in between Inner Center and Outer Center:</p>
                <ul>
                    <li><strong>Left:</strong> Go to page 1 on the module.</li>
                    <li><strong>Up:</strong> Go to page 2 on the module.</li>
                    <li><strong>Right:</strong> Go to page 3 on the module.</li>
                    <li><strong>Down:</strong> Go to page 4 on the module.</li>
                    <li><strong>Outer Center:</strong> Toggle between submission and viewing pages.</li>
                    <li><strong>Inner Center:</strong> If held, shows the names of the colors displayed on pages 3 and 4. <u>This can be used EVEN IF the user has colorblind mode disabled for this module.</u></li>
                    <li><strong>Right Screen:</strong> Swaps contents displayed on the right and top. The manual will refer to the instructions as if the right screen was not pressed at all.</li>
                </ul>
            </div>
            <div class="page-footer relative-footer">1</div>
        </div>
        <div class="page page-bg-02 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Unfair’s Forgotten Ciphers</span>
            </div>
            <div class="page-content">
                <h3>Decrypting — Step 1: Binary Code Retrieval and Obtaining Keys</h3>
                <p>On page 2, there will be a long string of characters on the top and right displays. The full binary string is obtained by the following procedure:</p>
                <ol>
                    <li>Concatenate the text on this page’s top and right displays in that order.</li>
                    <li>Convert this encoded string to binary by replacing each letter with its binary code using the table below.</li>
                    <table class="centered" style="border: none;">
                        <tr><th>A</th><td>0</td><th>B</th><td>1</td><th>C</th><td>00</td><th>D</th><td>10</td><th>E</th><td>01</td><th>F</th><td>11</td></tr>
                        <tr><th>G</th><td>000</td><th>H</th><td>001</td><th>I</th><td>100</td><th>J</th><td>101</td><th>K</th><td>010</td><th>L</th><td>011</td></tr>
                        <tr><th>M</th><td>110</td><th>N</th><td>111</td><th>O</th><td>0000</td><th>P</th><td>1000</td><th>Q</th><td>0001</td><th>R</th><td>1001</td></tr>
                        <tr><th>S</th><td>0100</td><th>T</th><td>1100</td><th>U</th><td>0101</td><th>V</th><td>1101</td><th>W</th><td>0010</td><th>X</th><td>1010</td></tr>
                        <tr><td colspan="4" style="border: none;"></td><th>Y</th><td>0011</td><th>Z</th><td>1011</td><td colspan="4" style="border: none;"></td></tr>
                    </table>
                    <li>On page 3, both screens consist of up to 9 keywords, which when concatenated and only accounting for the first occurrences of each letter, form a keystring that will be used to decrypt when the Huffman tree is completed.</li>
                    <ul>
                        <li>Concatenations should be done in reading order of the keywords obtained, starting with the top, then the right screen</li>
                        <li>Discard a keyword if it contains all of the letters previously encountered when concatenating.</li>
                    </ul>
                </ol>
            </div>
            <div class="page-footer relative-footer">2</div>
        </div>
        <div class="page page-bg-03 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Unfair’s Forgotten Ciphers</span>
            </div>
            <div class="page-content">
                <h3>Decrypting — Step 2: Red Huffman Cipher</h3>
                <p>Using the binary string obtained from step 1, perform the following procedure until 10 leafing nodes are obtained, where a leafing node is a node at the end of the tree. Binary digits are to be read once from left to right, and never traced back.</p>
                <ol>
                    <li>Start with the two leafing nodes: “0” and “1”.</li>
                    <li>Read binary digits in a sequence until the only node that matches that binary sequence is reached.</li>
                    <li>Split that node into two parts, with both entries starting with the binary sequence and ending with “0” and “1” respectively. Maintain the order of the leafing nodes when splitting.</li>
                    <li>Repeat the previous two steps.</li>
                </ol>
                <p>After obtaining a portion of the Huffman tree, the binary string must then be used to obtain numbers used for the 3×3 Hill Cipher. 18 digits should be obtained in this manner before continuing to construct the full Huffman tree.</p>
                <ol>
                    <li>Assign digits 0–9 in that order to each leafing node, prioritizing the nodes starting with 0 in the tree.</li>
                    <li>Read binary digits until a leafing node is encountered. Note down that digit and restart at the top.</li>
                    <li>Repeat the previous step until enough digits have been obtained.</li>
                </ol>
                <p>Once 18 digits have been obtained, resume constructing the Huffman tree until 16 more leafing nodes have been constructed, for a total of 26 leafing nodes. Assign each letter in the keystring to each leafing node, again prioritizing nodes starting with 0.</p>
                <p>Read through the rest of the binary string to get a 4-8 letter word and a string of repeated letters. The repeated letters at the end should be discarded. The rest of the string obtained is the keyword for the next step.</p>
            </div>
            <div class="page-footer relative-footer">3</div>
        </div>
        <div class="page page-bg-04 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Unfair’s Forgotten Ciphers</span>
            </div>
            <div class="page-content">
                <h3>Example — Red Huffman Cipher Construction</h3>
                <p>The first 8 iterations are shown here.</p>
                <p>Starting Binary String: <strong>0111100000110101</strong></p>
                <table>
                    <tr><td class="invert">[0]</td><td>[1]</td></tr>
                </table>
                <p>Binary String After Split #1: <strong>111100000110101</strong></p>
                <table>
                    <tr><td>[00]</td><td>[01]</td><td class="invert">[1]</td></tr>
                </table>
                <p>Binary String After Split #2: <strong>11100000110101</strong></p>
                <table>
                    <tr><td>[00]</td><td>[01]</td><td>[10]</td><td class="invert">[11]</td></tr>
                </table>
                <p>Binary String After Split #3: <strong>100000110101</strong></p>
                <table>
                    <tr><td>[00]</td><td>[01]</td><td class="invert">[10]</td><td>[110]</td><td>[111]</td></tr>
                </table>
                <p>Binary String After Split #4: <strong>0000110101</strong></p>
                <table>
                    <tr><td class="invert">[00]</td><td>[01]</td><td>[100]</td><td>[101]</td><td>[110]</td><td>[111]</td></tr>
                </table>
                <p>Binary String After Split #5: <strong>00110101</strong></p>
                <table>
                    <tr><td>[000]</td><td class="invert">[001]</td><td>[01]</td><td>[100]</td><td>[101]</td><td>[110]</td><td>[111]</td></tr>
                </table>
                <p>Binary String After Split #6: <strong>10101</strong></p>
                <table>
                    <tr><td>[000]</td><td>[0010]</td><td>[0011]</td><td>[01]</td><td>[100]</td><td class="invert">[101]</td><td>[110]</td><td>[111]</td></tr>
                </table>
                <p>Binary String After Split #7: <strong>01</strong></p>
                <table>
                    <tr><td>[000]</td><td>[0010]</td><td>[0011]</td><td class="invert">[01]</td><td>[100]</td><td>[1010]</td><td>[1011]</td><td>[110]</td><td>[111]</td></tr>
                </table>
                <p>Leafing Nodes After 8 Splits:</p>
                <table>
                    <tr><td>[000]</td><td>[0010]</td><td>[0011]</td><td>[010]</td><td>[011]</td><td>[100]</td><td>[1010]</td><td>[1011]</td><td>[110]</td><td>[111]</td></tr>
                </table>
            </div>
            <div class="page-footer relative-footer">4</div>
        </div>
        <div class="page page-bg-05 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Unfair’s Forgotten Ciphers</span>
            </div>
            <div class="page-content">
                <h3>Example — Red Huffman Cipher Binary Read</h3>
                <p>6 digits are read in this example.</p>
                <p class="centered">Starting Binary String: <strong>0001011001100110010111</strong></p>
                <table>
                    <tr><td class="invert">[000]</td><td>[0010]</td><td>[0011]</td><td>[010]</td><td>[011]</td><td>[100]</td><td>[1010]</td><td>[1011]</td><td>[110]</td><td>[111]</td></tr>
                    <tr><th class="invert">0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th></tr>
                </table>
                <p class="centered squeeze">“000”, 0</p>
                <p class="centered squeeze">Current Binary String After Digit #1: <strong>1011001100110010111</strong></p>
                <table>
                    <tr><td>[000]</td><td>[0010]</td><td>[0011]</td><td>[010]</td><td>[011]</td><td>[100]</td><td>[1010]</td><td class="invert">[1011]</td><td>[110]</td><td>[111]</td></tr>
                    <tr><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th class="invert">7</th><th>8</th><th>9</th></tr>
                </table>
                <p class="centered squeeze">“1011”, 7</p>
                <p class="centered squeeze">Current Binary String After Digit #2: <strong>001100110010111</strong></p>
                <table>
                    <tr><td>[000]</td><td>[0010]</td><td class="invert">[0011]</td><td>[010]</td><td>[011]</td><td>[100]</td><td>[1010]</td><td>[1011]</td><td>[110]</td><td>[111]</td></tr>
                    <tr><th>0</th><th>1</th><th class="invert">2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th></tr>
                </table>
                <p class="centered squeeze">“0011”, 2</p>
                <p class="centered squeeze">Current Binary String After Digit #3: <strong>00110010111</strong></p>
                <table>
                    <tr><td>[000]</td><td>[0010]</td><td class="invert">[0011]</td><td>[010]</td><td>[011]</td><td>[100]</td><td>[1010]</td><td>[1011]</td><td>[110]</td><td>[111]</td></tr>
                    <tr><th>0</th><th>1</th><th class="invert">2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th></tr>
                </table>
                <p class="centered squeeze">“0011”, 2</p>
                <p class="centered squeeze">Current Binary String After Digit #4: <strong>0010111</strong></p>
                <table>
                    <tr><td>[000]</td><td class="invert">[0010]</td><td>[0011]</td><td>[010]</td><td>[011]</td><td>[100]</td><td>[1010]</td><td>[1011]</td><td>[110]</td><td>[111]</td></tr>
                    <tr><th>0</th><th class="invert">1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th></tr>
                </table>
                <p class="centered squeeze">“0010”, 1</p>
                <p class="centered squeeze">Current Binary String After Digit #5: <strong>111</strong></p>
                <table>
                    <tr><td>[000]</td><td>[0010]</td><td>[0011]</td><td>[010]</td><td>[011]</td><td>[100]</td><td>[1010]</td><td>[1011]</td><td>[110]</td><td class="invert">[111]</td></tr>
                    <tr><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th class="invert">9</th></tr>
                </table>
                <p class="centered squeeze">“111”, 9</p>
                <p class="centered">Digits obtained: <strong>072219</strong></p>
            </div>
            <div class="page-footer relative-footer">5</div>
        </div>
        <div class="page page-bg-06 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Unfair’s Forgotten Ciphers</span>
            </div>
            <div class="page-content">
                <h3 class="squeeze">Decrypting — Step 3: RGBA Decomposition Cipher</h3>
                <svg class="chart centered-img squeeze" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 200 118.92" font-family="NotoSans" font-size="3" font-weight="bold" text-anchor="middle">
                    <path d="M38.8 30.21v2.57h139.58V30.2z" />
                    <path class="s" d="m32.48 109.15 1.2-1.2-4.2 1.2 4.2 1.2zm144.81 0-1.2 1.2 4.2-1.2-4.2-1.2z" fill-rule="evenodd" stroke="#000" stroke-width="2" transform="matrix(.95427 0 0 1 8.5 -77.65)" />
                    <path d="M110.7 2.41q0 .76-.37 1.31t-1.08.82q.42.27.7.6.29.31.88 1.21l1.53 2.31h-1.48l-1.37-2.13q-.6-.97-1.06-1.3-.46-.34-.97-.34h-.56v3.77h-1.24V0h2.39q.82 0 1.42.34.6.32.9.88.3.55.3 1.2zm-1.27 0q0-.63-.38-.97-.37-.35-1.07-.35h-1.06V3.8h.8q.79 0 1.25-.29.46-.3.46-1.1z" aria-label="R" />
                    <path class="s" d="M25.72 191.69v-2.25h5.73v2.25z" transform="matrix(1.85685 0 0 .53855 3.2 -81.36)" aria-label="-" stroke="#000" stroke-width="1.5" />
                    <path class="s" d="M111.23 19.66q0 1.34-.38 2.36-.37 1-1.01 1.56-.63.54-1.4.54-.83 0-1.47-.56-.63-.56-.99-1.56-.35-1.01-.35-2.32 0-1.41.41-2.42.41-1 1.06-1.52.66-.5 1.38-.5.8 0 1.42.57.63.58.98 1.58t.35 2.27zm-2.81 3.32q.71 0 1.13-.87.43-.87.43-2.42 0-1.05-.2-1.8t-.56-1.13q-.36-.39-.8-.39-.44 0-.78.4-.35.38-.55 1.12-.2.74-.2 1.77 0 1.55.4 2.44.43.88 1.13.88z" stroke="#000" stroke-width=".8" aria-label="0" />
                    <path d="M161.06 13.68h2.27v4.8h4.8v2.3h-4.8v4.79h-2.27v-4.8h-4.81V18.5h4.8z" aria-label="+" />
                    <path d="M5.18 57.89q0 1.28-1.32 1.83.95.17 1.51.79.56.6.56 1.43 0 .81-.45 1.34-.45.54-1.17.78t-1.54.24H0v-8.66h2.5q1.28 0 1.98.62t.7 1.63zm-1.29.1q0-.66-.37-.96-.37-.3-1.23-.3H1.23v2.64h.88q.91 0 1.34-.39.44-.4.44-1zm.75 3.84q0-1.4-2.15-1.4H1.23v2.78h1.3q1.09 0 1.6-.34.52-.34.52-1.04z" aria-label="B" />
                    <path d="M28.61 41.75h-2.57V80.8h2.57z" />
                    <path class="s" d="m27.32 44.04 1.2 1.15-1.2-4.01-1.2 4zm0 34.47-1.2-1.14 1.2 4 1.2-4z" fill-rule="evenodd" stroke="#000" stroke-width="1.95" />
                    <path class="s" d="M25.72 191.69v-2.25h5.73v2.25z" transform="matrix(1.85685 0 0 .53855 -37.57 -25.86)" aria-label="-" stroke="#000" stroke-width="1.5" />
                    <path class="s" d="M18.47 60.7q0 1.35-.38 2.37-.37 1-1 1.55-.64.55-1.41.55-.83 0-1.47-.56-.63-.56-.98-1.56-.35-1.01-.35-2.32 0-1.41.4-2.42.42-1.01 1.07-1.52.65-.5 1.38-.5.8 0 1.42.57.62.58.97 1.58t.35 2.26zm-2.8 3.33q.7 0 1.13-.87.43-.87.43-2.42 0-1.05-.2-1.8-.21-.75-.57-1.13-.35-.39-.8-.39-.43 0-.78.4-.35.38-.55 1.12-.2.73-.2 1.76 0 1.56.41 2.45.42.88 1.12.88z" stroke="#000" stroke-width=".8" aria-label="0" />
                    <path d="M14.81 38.26h2.27v4.8h4.81v2.3h-4.8v4.79H14.8v-4.8h-4.8v-2.28h4.8z" aria-label="+" />
                    <path d="M75.03 90.63v-2.56H35.98v2.56z" />
                    <path class="s" d="m72.74 89.35-1.14 1.2 4-1.2-4-1.2zm-34.47 0 1.15-1.2-4.01 1.2 4 1.2z" fill-rule="evenodd" stroke="#000" stroke-width="1.95" />
                    <path d="M55.38 111.13q-.93 0-1.7.44-.77.44-1.22 1.2-.45.76-.45 1.7 0 .96.44 1.72t1.22 1.2q.78.44 1.76.44.48 0 .85-.08.37-.07 1.1-.3v-1.8h-1.66v-1.1h2.91v3.66q-1.55.7-3.17.7-1.57 0-2.63-.63-1.07-.64-1.6-1.64-.51-1.01-.51-2.09 0-1.22.58-2.26.59-1.03 1.66-1.65 1.08-.6 2.45-.6.75 0 1.42.15.67.16 1.62.58v1.26q-.73-.42-1.53-.66-.8-.24-1.54-.24z" aria-label="G" />
                    <path d="M70.01 94.25h2.27v4.81h4.81v2.29h-4.8v4.8H70v-4.8h-4.8v-2.29H70z" aria-label="+" />
                    <path class="s" d="M58.09 100.24q0 1.35-.38 2.36-.38 1.01-1.01 1.56-.64.54-1.41.54-.83 0-1.47-.55-.63-.56-.98-1.57-.35-1-.35-2.32 0-1.4.41-2.41.41-1.01 1.06-1.52.65-.51 1.38-.51.8 0 1.42.57.62.58.97 1.59.36 1 .36 2.26zm-2.82 3.32q.72 0 1.14-.86.43-.87.43-2.42 0-1.06-.2-1.8-.21-.76-.57-1.14-.35-.38-.8-.38-.43 0-.78.39-.34.39-.55 1.12-.2.74-.2 1.77 0 1.56.41 2.44.43.88 1.13.88z" stroke="#000" stroke-width=".8" aria-label="0" />
                    <path class="s" d="M25.72 191.69v-2.25h5.73v2.25z" transform="matrix(1.85685 0 0 .53855 -13.58 -2.51)" aria-label="-" stroke="#000" stroke-width="1.5" />
                </svg>
                <p>The diagram provided shows all 27 colours that can appear on this module. On page 3, 6 LEDs are coloured, such that when used on each letter and operator, will correspond to a decrypted letter’s position.</p>
                <p>Take the keyword obtained from step 2, remove any duplicate letters while retaining the first occurrences of each. Take the alphabet and remove any letters present in the keyword.</p>
                <p>If “MODULE ID:” is present on the first line on the right screen of page 1, place the alphabet at the end of the keyword. Otherwise, place the alphabet at the start of the keyword. The order of placing letters starts at - and ends at +, according to the diagram provided.</p>
                <p class="squeeze">On page 4, 3 LEDs will be shown in different shades of R, G, and B, though they may not be in that order. The 3 LEDs dictate the channel order that the letters in the keystring should be placed in (e.g. GBR would mean that all Green channels must be placed first, then all Blue, then all Red), and when rearranged in RGB order, will correspond to a colour that should be skipped over when placing the keystring.</p>
                <ul>
                    <li>Each LED is the result of a primary colour (Red, Green, or Blue), averaged with itself, Black, or White</li>
                    <li>If the LED is the result of a primary colour averaged with</li>
                    <ul class="squeeze">
                        <li>Black, the primary colour’s representation is -.</li>
                        <li>Itself, the primary colour’s representation is 0.</li>
                        <li>White, the primary colour’s representation is +.</li>
                    </ul>
                </ul>
            </div>
            <div class="page-footer relative-footer">6</div>
        </div>
        <div class="page page-bg-07 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Unfair’s Forgotten Ciphers</span>
            </div>
            <div class="page-content">
                <h3>Decrypting — Step 3: RGBA Decomposition Cipher (Continued)</h3>
                <p class="squeeze">Also on page 4, there are 3 lines of strings showing transformations for each channel. Convert letters from the top screen of page 1 to their corresponding colours, resulting in 6 triplets. rearrange these triplets into a right triangle, where the first line has three triplets, the second has two, and the last has the remaining triplet. The 3 strings displayed on the top screen will be in RGB order from top to bottom, shifted to the right by the number of ports, in RGB order (R -> G -> B), wrapping around to R if on B. The transformations are then applied to this triangle for each channel in the order shown on the module. If a channel has “NONE”, that means no transformations were applied to that channel. Then, grab the displayed colours and rearrange them into a right triangle as above. This forms 6 pairs of triplets.</p>
                <ul class="squeeze">
                    <li><strong>“TL”:</strong> Flip individual rows horizontally of that channel.</li>
                    <li><strong>“TR”:</strong> Flip individual columns vertically of that channel.</li>
                    <li><strong>“BL”:</strong> Swap rows and columns of that channel. (B1 &lt;-&gt; A2)</li>
                    <li><strong>“BR”:</strong> That channel is inverted. In other words, <code>-</code> -&gt; <code>+</code> and vice versa for that channel; channels with a value of <code>0</code> should not be modified with this.</li>
                </ul>
                <p class="squeeze">The operators to be applied are displayed on the right screen of page 4. The operations are applied in order of the formed pairs of triplets, wrapping around to the first operator once the end is reached. The module will describe the symbols for the operations due to how some symbols are improperly rendered. Each description will only correspond to exactly 1 operator’s symbol.</p>
                <div class="hstack">
                    <table class="exempt operators" style="border: none">
                        <tr><th style="border: none">+</th><th>-</th><th>0</th><th>+</th></tr>
                        <tr><th>-</th><td>-</td><td>-</td><td>0</td></tr>
                        <tr><th>0</th><td>-</td><td>0</td><td>+</td></tr>
                        <tr><th>+</th><td>0</td><td>+</td><td>+</td></tr>
                    </table>
                    <table class="exempt operators" style="border: none">
                        <tr><th style="border: none">×</th><th>-</th><th>0</th><th>+</th></tr>
                        <tr><th>-</th><td>+</td><td>0</td><td>-</td></tr>
                        <tr><th>0</th><td>0</td><td>0</td><td>0</td></tr>
                        <tr><th>+</th><td>-</td><td>0</td><td>+</td></tr>
                    </table>
                    <table class="exempt operators" style="border: none">
                        <tr><th style="border: none">&#x25cb;</th><th>-</th><th>0</th><th>+</th></tr>
                        <tr><th>-</th><td>-</td><td>+</td><td>0</td></tr>
                        <tr><th>0</th><td>+</td><td>0</td><td>-</td></tr>
                        <tr><th>+</th><td>0</td><td>-</td><td>+</td></tr>
                    </table>
                    <table class="exempt operators" style="border: none">
                        <tr><th style="border: none">m</th><th>-</th><th>0</th><th>+</th></tr>
                        <tr><th>-</th><td>-</td><td>-</td><td>-</td></tr>
                        <tr><th>0</th><td>-</td><td>0</td><td>0</td></tr>
                        <tr><th>+</th><td>-</td><td>0</td><td>+</td></tr>
                    </table>
                    <table class="exempt operators" style="border: none">
                        <tr><th style="border: none">M</th><th>-</th><th>0</th><th>+</th></tr>
                        <tr><th>-</th><td>-</td><td>0</td><td>+</td></tr>
                        <tr><th>0</th><td>0</td><td>0</td><td>+</td></tr>
                        <tr><th>+</th><td>+</td><td>+</td><td>+</td></tr>
                    </table>
                    <table class="exempt operators" style="border: none">
                        <tr><th style="border: none">&empty;</th><th>-</th><th>0</th><th>+</th></tr>
                        <tr><th>-</th><td>0</td><td>-</td><td>+</td></tr>
                        <tr><th>0</th><td>-</td><td>0</td><td>-</td></tr>
                        <tr><th>+</th><td>+</td><td>-</td><td>0</td></tr>
                    </table>
                </div>
                <p>Finally, convert each triplet back into a letter using the constructed keystring to obtain the decrypted string.</p>
            </div>
            <div class="page-footer relative-footer">7</div>
        </div>
        <div class="page page-bg-02 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Unfair’s Forgotten Ciphers</span>
            </div>
            <div class="page-content sqz">
                <h3>Example — RGBA Decomposition Cipher</h3>
                <p class="centered squeeze">Obtained from Page 1 Top Screen: <strong>AEIPAZ</strong></p>
                <p class="centered squeeze">Keyword: <strong>AMBITION</strong></p>
                <p class="centered squeeze">Displayed 6 LED Colors On Page 3: <strong>Mint, Plum, Indigo, Forest, Rose, Magenta</strong></p>
                <p class="centered squeeze">Displayed 3 LED Colors On Page 4: <strong>Mint, Red, Indigo</strong></p>
                <p class="centered squeeze">Displayed Transformations: <strong>“TL, BR”; “BR, TR”; “BR, BL”</strong></p>
                <p class="centered squeeze">Port Count, Modulo 3: <strong>1</strong></p>
                <p class="centered squeeze">Interpreted Operators: <strong>+, ○</strong></p>
                <p class="centered squeeze"><strong>“Module ID” is shown.</strong></p>
                <p class="centered squeeze">Determined Color from 3 LEDs: <strong>0+- (Lime)</strong></p>
                <table class="smallertext squeeze">
                    <tr>
                        <th>G</th><td>-</td><td>0</td><td>+</td><td>-</td><td>0</td><td>+</td><td>-</td><td>0</td><td>+</td><td>-</td><td>0</td><td>+</td><td>-</td>
                        <td>0</td><td>+</td><td>-</td><td>0</td><td>+</td><td>-</td><td>0</td><td>+</td><td>-</td><td>0</td><td>+</td><td>-</td><td>0</td><td>+</td>
                    </tr>
                    <tr>
                        <th>R</th><td>-</td><td>-</td><td>-</td><td>0</td><td>0</td><td>0</td><td>+</td><td>+</td><td>+</td><td>-</td><td>-</td><td>-</td><td>0</td>
                        <td>0</td><td>0</td><td>+</td><td>+</td><td>+</td><td>-</td><td>-</td><td>-</td><td>0</td><td>0</td><td>0</td><td>+</td><td>+</td><td>+</td>
                    </tr>
                    <tr>
                        <th>B</th><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>0</td><td>0</td><td>0</td><td>0</td>
                        <td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>+</td><td>+</td><td>+</td><td>+</td><td>+</td><td>+</td><td>+</td><td>+</td><td>+</td>
                    </tr>
                    <tr>
                        <th class="empty"></th><td>A</td><td>M</td><td>B</td><td>I</td><td>T</td><td>!</td><td>O</td><td>N</td><td>C</td><td>D</td><td>E</td><td>F</td>
                        <td>G</td><td>H</td><td>J</td><td>K</td><td>L</td><td>P</td><td>Q</td><td>R</td><td>S</td><td>U</td><td>V</td><td>W</td><td>X</td><td>Y</td><td>Z</td>
                    </tr>
                </table>
                <p class="centered squeeze">Rearranged to RGB Order:</p>
                <table class="smallertext squeeze">
                    <tr>
                        <th>R</th><td>-</td><td>-</td><td>-</td><td>0</td><td>0</td><td>0</td><td>+</td><td>+</td><td>+</td><td>-</td><td>-</td><td>-</td><td>0</td>
                        <td>0</td><td>0</td><td>+</td><td>+</td><td>+</td><td>-</td><td>-</td><td>-</td><td>0</td><td>0</td><td>0</td><td>+</td><td>+</td><td>+</td>
                    </tr>
                    <tr>
                        <th>G</th><td>-</td><td>0</td><td>+</td><td>-</td><td>0</td><td>+</td><td>-</td><td>0</td><td>+</td><td>-</td><td>0</td><td>+</td><td>-</td>
                        <td>0</td><td>+</td><td>-</td><td>0</td><td>+</td><td>-</td><td>0</td><td>+</td><td>-</td><td>0</td><td>+</td><td>-</td><td>0</td><td>+</td>
                    </tr>
                    <tr>
                        <th>B</th><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>0</td><td>0</td><td>0</td><td>0</td>
                        <td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>+</td><td>+</td><td>+</td><td>+</td><td>+</td><td>+</td><td>+</td><td>+</td><td>+</td>
                    </tr>
                    <tr>
                        <th class="empty"></th><td>A</td><td>M</td><td>B</td><td>I</td><td>T</td><td>!</td><td>O</td><td>N</td><td>C</td><td>D</td><td>E</td><td>F</td>
                        <td>G</td><td>H</td><td>J</td><td>K</td><td>L</td><td>P</td><td>Q</td><td>R</td><td>S</td><td>U</td><td>V</td><td>W</td><td>X</td><td>Y</td><td>Z</td>
                    </tr>
                </table>
                <br>
                <table class="squeeze">
                    <tr>
                        <th colspan="5">R Channel Transforms</th>
                    </tr>
                    <tr>
                        <td class="nohighlight"><table><tr><td>-</td><td>-</td><td>0</td></tr><tr><td>+</td><td>-</td></tr><tr><td>+</td></tr></table></td>
                        <td class="nohighlight">BR</td>
                        <td class="nohighlight"><table><tr><td>+</td><td>+</td><td>0</td></tr><tr><td>-</td><td>+</td></tr><tr><td>-</td></tr></table></td>
                        <td class="nohighlight">BL</td>
                        <td class="nohighlight"><table><tr><td>+</td><td>-</td><td>-</td></tr><tr><td>+</td><td>+</td></tr><tr><td>0</td></tr></table></td>
                    </tr>
                    <tr>
                        <th colspan="5">G Channel Transforms</th>
                    </tr>
                    <tr>
                        <td class="nohighlight"><table><tr><td>-</td><td>0</td><td>-</td></tr><tr><td>+</td><td>-</td></tr><tr><td>+</td></tr></table></td>
                        <td class="nohighlight">TL</td>
                        <td class="nohighlight"><table><tr><td>-</td><td>0</td><td>-</td></tr><tr><td>-</td><td>+</td></tr><tr><td>+</td></tr></table></td>
                        <td class="nohighlight">BR</td>
                        <td class="nohighlight"><table><tr><td>+</td><td>0</td><td>+</td></tr><tr><td>+</td><td>-</td></tr><tr><td>-</td></tr></table></td>
                    </tr>
                    <tr>
                        <th colspan="5">B Channel Transforms</th>
                    </tr>
                    <tr>
                        <td class="nohighlight"><table><tr><td>-</td><td>0</td><td>-</td></tr><tr><td>0</td><td>-</td></tr><tr><td>+</td></tr></table></td>
                        <td class="nohighlight">BR</td>
                        <td class="nohighlight"><table><tr><td>+</td><td>0</td><td>+</td></tr><tr><td>0</td><td>+</td></tr><tr><td>-</td></tr></table></td>
                        <td class="nohighlight">TR</td>
                        <td class="nohighlight"><table><tr><td>-</td><td>+</td><td>+</td></tr><tr><td>0</td><td>0</td></tr><tr><td>+</td></tr></table></td>
                    </tr>
                </table>
                <p class="centered squeeze">Rearranged: <strong>++-, -0+, -++, ++0, +-0, 0-+</strong></p>
                <p class="centered squeeze">Converted LED Colors: <strong>0+0, 0-0, --0, -0-, +-0, +-+</strong></p>
                <p class="centered squeeze">Result after using operators: <strong>++-, ++-, -0+, 0-+, +-0, --+</strong></p>
                <p class="centered">Decrypted: <strong>CCRUKQ</strong></p>
            </div>
            <div class="page-footer relative-footer">8</div>
        </div>
        <div class="page page-bg-03 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Unfair’s Forgotten Ciphers</span>
            </div>
            <div class="page-content">
                <h3>Decrypting — Step 4: 3×3 Hill Cipher</h3>
                <p class="flavour-text">There is approximately a 80% chance that people will use tools for this cipher.</p>
                <p class="squeeze">The 18 digits obtained from step 2 form 9 sets of 2-digit values that are part of a 3×3 matrix in reading order. These are labeled a - i in this manual. To decrypt, calculate X, the determinant of this 3×3 matrix, which is obtained as such</p>
                <img class="centered-img invertable" src="img/Unfair's%20Forgotten%20Ciphers/MatrixDet.svg" alt="3×3 Matrix Determinant">
                <p class="squeeze">Y, the multiplicative inverse of X, is then calculated such that it satisfies the following:</p>
                <img class="centered-img invertable" src="img/Unfair's%20Forgotten%20Ciphers/MultInv.svg" alt="Multiplicative Inverse">
            </div>
            <div class="page-footer relative-footer">9</div>
        </div>
        <div class="page page-bg-04 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Unfair’s Forgotten Ciphers</span>
            </div>
            <div class="page-content">
                <p class="squeeze">The adjugate of the original matrix is then found by obtaining the cofactor of the matrix, then flipping across the main diagonal (from top-left to bottom-right).</p>
                <img class="centered-img invertable" style="height:800px" src="img/Unfair's%20Forgotten%20Ciphers/MatrixAdj.svg" alt="3×3 Matrix Adjugate">
            </div>
            <div class="page-footer relative-footer">10</div>
        </div>
        <div class="page page-bg-05 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Unfair’s Forgotten Ciphers</span>
            </div>
            <div class="page-content">
                <h3>Decrypting — Step 4: 3×3 Hill Cipher (Continued)</h3>
                <p class="squeeze">Multiplying the adjugate matrix by the inverse of the original determinant, Y, then taking each entry modulo the length of the alphabet, will obtain the inverse matrix.</p>
                <img class="centered-img invertable" src="img/Unfair's%20Forgotten%20Ciphers/MatrixInv.svg" alt="3×3 Matrix Inverse">
                <p class="squeeze">To decrypt the word using this matrix, group the decrypted letters from step 3 into groups of 3 letters, and obtain the alphabetic positions of each, with Z being 0. Treat each triplet as a 1×3 vector, and multiply this vector by the inverse 3×3 matrix. The first value in the vector is multiplied to the first column, the same happens with the second value with the second column, and likewise the third value with the third column. This results in 3 1×3 vectors. Add each vector together, then take each entry modulo the length of the alphabet, and convert them back into their respective letters via alphabetic position again with 0 being Z.</p>
                <p><strong>This should result in an English word, which is the decrypted word to be submitted into the module.</strong></p>
            </div>
            <div class="page-footer relative-footer">11</div>
        </div>
        <div class="page page-bg-05 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Unfair’s Forgotten Ciphers</span>
            </div>
            <div class="page-content">
                <h3>Example — 3×3 Hill Cipher Obtaining Matrix Inverse</h3>
                <p class="centered">Obtained Matrix:</p>
                <table>
                    <tr><td>7</td><td>22</td><td>19</td></tr>
                    <tr><td>21</td><td>9</td><td>15</td></tr>
                    <tr><td>11</td><td>16</td><td>22</td></tr>
                </table>
                <p class="squeeze centered">Determinant: 7*9*22 + 22*15*11 + 19*21*16 - 7*15*16 - 22*21*22 - 19*9*11 = -2325</p>
                <p class="squeeze centered">-2325 mod 26 = 15</p>
                <p class="squeeze centered">15 * b = 1 mod 26, b = 7</p>
                <p class="squeeze centered">Adjugate:</p>
                <table>
                    <tr>
                        <td>
                            <table>
                                <tr><td>9</td><td>15</td></tr>
                                <tr><td>16</td><td>22</td></tr>
                            </table>
                        </td>
                        <td>
                            -
                            <table>
                                <tr><td>22</td><td>19</td></tr>
                                <tr><td>16</td><td>22</td></tr>
                            </table>
                        </td>
                        <td>
                            <table>
                                <tr><td>22</td><td>19</td></tr>
                                <tr><td>9</td><td>15</td></tr>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            -
                            <table>
                                <tr><td>21</td><td>15</td></tr>
                                <tr><td>11</td><td>22</td></tr>
                            </table>
                        </td>
                        <td>
                            <table>
                                <tr><td>7</td><td>19</td></tr>
                                <tr><td>11</td><td>22</td></tr>
                            </table>
                        </td>
                        <td>
                            -
                            <table>
                                <tr><td>7</td><td>19</td></tr>
                                <tr><td>21</td><td>15</td></tr>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <table>
                                <tr><td>21</td><td>9</td></tr>
                                <tr><td>11</td><td>16</td></tr>
                            </table>
                        </td>
                        <td>
                            -
                            <table>
                                <tr><td>7</td><td>22</td></tr>
                                <tr><td>11</td><td>16</td></tr>
                            </table>
                        </td>
                        <td>
                            <table>
                                <tr><td>7</td><td>22</td></tr>
                                <tr><td>21</td><td>9</td></tr>
                            </table>
                        </td>
                    </tr>
                </table>
                <p class="centered">Inverse:</p>
                <table class="centered">
                    <tr>
                        <td>7*(9*22-15*16)</td>
                        <td>-7*(22*22-19*16)</td>
                        <td>7*(22*15-19*9)</td>
                    </tr>
                    <tr>
                        <td>-7*(21*22-11*15)</td>
                        <td>7*(7*22-19*11)</td>
                        <td>-7*(7*15-19*21)</td>
                    </tr>
                    <tr>
                        <td>7*(21*16-9*11)</td>
                        <td>-7*(7*16-22*11)</td>
                        <td>7*(7*9-22*21)</td>
                    </tr>
                </table>
                <br>
                <table class="centered">
                    <tr><td>-294</td><td>-1260</td><td>1113</td></tr>
                    <tr><td>-2079</td><td>-385</td><td>2058</td></tr>
                    <tr><td>1659</td><td>910</td><td>-2793</td></tr>
                </table>
            </div>
            <div class="page-footer relative-footer">12</div>
        </div>
        <div class="page page-bg-06 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Unfair’s Forgotten Ciphers</span>
            </div>
            <div class="page-content">
                <h3>Example — 3×3 Hill Cipher Using The Inverse Matrix</h3>
                <p>Inverse Matrix Obtained (after mod 26):</p>
                <table class="centered">
                    <tr><td>18</td><td>14</td><td>21</td></tr>
                    <tr><td>1</td><td>5</td><td>4</td></tr>
                    <tr><td>21</td><td>0</td><td>15</td></tr>
                </table>
                <p class="centered">Encrypted: <strong>CCRUKQ</strong></p>
                <p class="centered">Alphabetic positions of each encrypted letter: <strong>3, 3, 18, 21, 11, 17</strong></p>
                <p class="centered squeeze">3*18 + 3*14 + 18*21 = 474, 474 mod 26 = 6, F</p>
                <p class="centered squeeze">3*1 + 3*5 + 18*4 = 90, 90 mod 26 = 12, L</p>
                <p class="centered squeeze">3*21 + 3*0 + 18*15 = 333, 333 mod 26 = 21, U</p>
                <p class="centered squeeze">21*18 + 11*14 + 17*21 = 889, 889 mod 26 = 5, E</p>
                <p class="centered squeeze">21*1 + 11*5 + 17*4 = 144, 144 mod 26 = 14, N</p>
                <p class="centered squeeze">21*21 + 11*0 + 17*15 = 696, 696 mod 26 = 20, T</p>
                <p class="centered">Decrypted: <strong>FLUENT</strong></p>
            </div>
            <div class="page-footer relative-footer">13</div>
        </div>
        <div class="page page-bg-07 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Unfair’s Forgotten Ciphers</span>
            </div>
            <div class="page-content">
                <h3>Final Step: Submitting The Word</h3>
                <p class="flavour-text">Please do not mess this up now</p>
                <p class="squeeze">Now that the decrypted word has been obtained, press Outer Center to enter submission. The 4 buttons in between the Inner and Outer center will now turn into different shades of gray. Outer Center can be pressed at any point in this state to exit submission.</p>
                <p class="squeeze">For all other presses (excluding the display), any press of those buttons will unlock the submission, but not pressing at the correct time will result in a strike. However, the submission will be unlocked regardless of striking.</p>
                <table>
                    <tr>
                        <td style="text-align:left" class="nohighlight">
                            <ul>
                                <li>Start with the last digit of the serial number, and add the module ID to it.</li>
                                <li>Add the number of letters that comes before N, excluding N, in all of the unlit indicators.</li>
                                <li>To the current value, if on line 2 of page 1, the strike counter has “STRIKE(S)” appended to the number, add the number of letters that comes before N, excluding N, in all of the lit indicators. Otherwise, if on line 2 of page 1, the strike counter has “STRIKE(S):” prepended to the number, add the number of batteries. Otherwise, add the sum of the number of battery holders and the number of port plates.</li>
                                <li>Subtract 3 times the amount of modules with “Fair” in its name, either as part of a word, or as its own word. This is <strong>case insensitive.</strong></li>
                                <li>Add 3, and modulo the result by 10. When the last seconds digit of the countdown timer is that digit, the module will not strike when unlocking.</li>
                            </ul>
                        </td>
                    </tr>
                </table>
                <p class="squeeze">Once submission has been unlocked, the right display will show indications of what buttons access which portion of the module.</p>
                <p class="squeeze">Pressing <strong>Left</strong>, <strong>Up</strong>, or <strong>Right</strong> will respectively input -, 0, or + into the right screen, which is then inputted into a letter to be displayed on the top screen.</p>
                <p class="squeeze">Pressing <strong>Down</strong> will delete the displayed inputs on the right screen if there has been any, or delete the last letter on the top screen otherwise.</p>
                <p class="squeeze">Pressing <strong>Inner Center</strong> will submit the letters on the top screen.</p>
                <p class="squeeze">Pressing <strong>Outer Center</strong> will clear the entire input and exit submission.</p>
                <p class="squeeze">If the submitted word is correct, the module will disarm. Otherwise the module will strike and exit submission as a result. The correct word will NOT change.</p>
                <p>For reference, for the first input displayed on the right, inputting -, 0, or + will enter to the sections of the alphabet A–I, J–R, S–Z respectively. The second input is a 3 letter subsection of the first input, with the third input being a letter. “?” will be used to denote invalid letters.</p>
            </div>
            <div class="page-footer relative-footer">14</div>
        </div>

    </div>
</body>
</html>
