<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Transposed Halved Polybius CM — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        .dark table, table {
            margin: 1em auto;
            border: none;
        }
        .nw {
            white-space: nowrap;
        }
        td.f, th.f, tr.f > td, tr.f > th {
            border: none;
        }
        table.big {
            margin-top: 0;
        }
        table.big svg {
            display: block;
        }
        table.big tr:not(.f) td:not(.f), table.big tr:not(.f) th:not(.f) {
            width: 1cm;
            height: 1cm;
            box-sizing: border-box;
            padding: 0;
            text-align: center;
        }
        span.p {
            display: inline-block;
            width:  .6cm;
            height: .6cm;
            background-repeat: no-repeat;
            background-size: cover;
            vertical-align: middle;
        }
        table.big span.p { display: block; margin: 0 auto; }

        span.p11 { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" stroke="black" stroke-width=".05" viewBox="-.5 -.5 2 2"><circle r=".3" fill="none"/><circle cx="1" r=".3" fill="none"/><circle cy="1" r=".3" fill="none"/><circle cx="1" cy="1" r=".3" fill="none"/></svg>'); }
        span.p21 { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" stroke="black" stroke-width=".05" viewBox="-.5 -.5 2 2"><circle r=".3" fill="black"/><circle cx="1" r=".3" fill="none"/><circle cy="1" r=".3" fill="none"/><circle cx="1" cy="1" r=".3" fill="none"/></svg>'); }
        span.p31 { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" stroke="black" stroke-width=".05" viewBox="-.5 -.5 2 2"><circle r=".3" fill="none"/><circle cx="1" r=".3" fill="black"/><circle cy="1" r=".3" fill="none"/><circle cx="1" cy="1" r=".3" fill="none"/></svg>'); }
        span.p41 { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" stroke="black" stroke-width=".05" viewBox="-.5 -.5 2 2"><circle r=".3" fill="black"/><circle cx="1" r=".3" fill="black"/><circle cy="1" r=".3" fill="none"/><circle cx="1" cy="1" r=".3" fill="none"/></svg>'); }
        span.p12 { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" stroke="black" stroke-width=".05" viewBox="-.5 -.5 2 2"><circle r=".3" fill="none"/><circle cx="1" r=".3" fill="none"/><circle cy="1" r=".3" fill="black"/><circle cx="1" cy="1" r=".3" fill="none"/></svg>'); }
        span.p22 { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" stroke="black" stroke-width=".05" viewBox="-.5 -.5 2 2"><circle r=".3" fill="black"/><circle cx="1" r=".3" fill="none"/><circle cy="1" r=".3" fill="black"/><circle cx="1" cy="1" r=".3" fill="none"/></svg>'); }
        span.p32 { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" stroke="black" stroke-width=".05" viewBox="-.5 -.5 2 2"><circle r=".3" fill="none"/><circle cx="1" r=".3" fill="black"/><circle cy="1" r=".3" fill="black"/><circle cx="1" cy="1" r=".3" fill="none"/></svg>'); }
        span.p42 { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" stroke="black" stroke-width=".05" viewBox="-.5 -.5 2 2"><circle r=".3" fill="black"/><circle cx="1" r=".3" fill="black"/><circle cy="1" r=".3" fill="black"/><circle cx="1" cy="1" r=".3" fill="none"/></svg>'); }
        span.p13 { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" stroke="black" stroke-width=".05" viewBox="-.5 -.5 2 2"><circle r=".3" fill="none"/><circle cx="1" r=".3" fill="none"/><circle cy="1" r=".3" fill="none"/><circle cx="1" cy="1" r=".3" fill="black"/></svg>'); }
        span.p23 { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" stroke="black" stroke-width=".05" viewBox="-.5 -.5 2 2"><circle r=".3" fill="black"/><circle cx="1" r=".3" fill="none"/><circle cy="1" r=".3" fill="none"/><circle cx="1" cy="1" r=".3" fill="black"/></svg>'); }
        span.p33 { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" stroke="black" stroke-width=".05" viewBox="-.5 -.5 2 2"><circle r=".3" fill="none"/><circle cx="1" r=".3" fill="black"/><circle cy="1" r=".3" fill="none"/><circle cx="1" cy="1" r=".3" fill="black"/></svg>'); }
        span.p43 { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" stroke="black" stroke-width=".05" viewBox="-.5 -.5 2 2"><circle r=".3" fill="black"/><circle cx="1" r=".3" fill="black"/><circle cy="1" r=".3" fill="none"/><circle cx="1" cy="1" r=".3" fill="black"/></svg>'); }
        span.p14 { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" stroke="black" stroke-width=".05" viewBox="-.5 -.5 2 2"><circle r=".3" fill="none"/><circle cx="1" r=".3" fill="none"/><circle cy="1" r=".3" fill="black"/><circle cx="1" cy="1" r=".3" fill="black"/></svg>'); }
        span.p24 { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" stroke="black" stroke-width=".05" viewBox="-.5 -.5 2 2"><circle r=".3" fill="black"/><circle cx="1" r=".3" fill="none"/><circle cy="1" r=".3" fill="black"/><circle cx="1" cy="1" r=".3" fill="black"/></svg>'); }
        span.p34 { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" stroke="black" stroke-width=".05" viewBox="-.5 -.5 2 2"><circle r=".3" fill="none"/><circle cx="1" r=".3" fill="black"/><circle cy="1" r=".3" fill="black"/><circle cx="1" cy="1" r=".3" fill="black"/></svg>'); }
        span.p44 { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" stroke="black" stroke-width=".05" viewBox="-.5 -.5 2 2"><circle r=".3" fill="black"/><circle cx="1" r=".3" fill="black"/><circle cy="1" r=".3" fill="black"/><circle cx="1" cy="1" r=".3" fill="black"/></svg>'); }

    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Transposed Halved Polybius CM</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Cipher Machine.svg" class="diagram">
                <h2>On the Subject of the Transposed Halved Polybius CM</h2>
                <p>Create a key using the keyword on screen 1 and the Boolean Expression on screen A. Take the resulting key and enter it into the Halved Polybius Square, in reading order, filling the left half 1st. The Halved Polybius Square is laid out like the diagram below:</p>
                <div style='display: flex; justify-content: space-around; gap: 2cm'>
                    <table class = "big">
                    <tr class='f'><td></td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td></tr>
                    <tr><td class = 'f'>1</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                    <tr><td class = 'f'>2</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                    <tr><td class = 'f'>3</td><td></td><td></td><td></td><td>#</td><td>#</td><td></td><td></td><td></td><td>#</td><td>#</td></tr>
                    <tr><td class = 'f'></td><td colspan =  5>L</td><td colspan =  5>R</td></tr>
                    </table>
                </div>
                <p>Convert each letter of the encrypted word into 3 coordinates and write them out top to bottom in the order Half, Row, Column and to the right of any previous coordinates. This will be referred to as the Transposed Matrix.</p>
                <p>If the Submit Button is white, follow the instructions under Encrypt Instructions. Otherwise follow the instructions under Decrypt Instructions.</p>
                <h4 class="centered">Encrypt Instructions</h4>
                <ul>
                <li>For each letter <b>in backwards order</b> of the keyword on screen 2, take the Nth letter of the keyword and find it in the Halved Polybius Square, converting it into 3 coordinates.</li>
                <li>If N is odd, shift the row of that coordinate in the Transposed Matrix to the right by the column coordinate. When doing this, make sure to not move any 3s in the 2nd row and any 4s/5s in the 3rd row.</li>                
                <li>Otherwise, start at the column of the Transposed Matrix equal to the coordinate’s column, wrapping around if necessary (Column A). Then continue counting columns to the right equal to the coordinate’s row, wrapping around if necessary (Column B). Swap Column A with Column B.</li>
                <li>After processing each letter of the keyword, convert each coordinate back into a letter using the Transposed Matrix to get a decrypted word.</li>
                </ul>
                
            </div>
            <div class="page-footer relative-footer">Page 1 of 3</div>
        </div>
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Transposed Halved Polybius CM</span>
            </div>
            <div class="page-content">
            <h4 class="centered">Decrypt Instructions</h4>
                <ul>
                <li>For each letter of the keyword on screen 2, take the Nth letter of the keyword and find it in the Halved Polybius Square, converting it into 3 coordinates.</li>
                <li>If N is odd, shift the row of that coordinate in the Transposed Matrix to the left by the column coordinate. When doing this, make sure to not move any 3s in the 2nd row and any 4s/5s in the 3rd row.</li>                
                <li>Otherwise, start at the column of the Transposed Matrix equal to the coordinate’s column, wrapping around if necessary (Column A). Then continue counting columns to the right equal to the coordinate’s row, wrapping around if necessary (Column B). Swap Column A with Column B.</li>
                <li>After processing each letter of the keyword, convert each coordinate back into a letter using the Transposed Matrix to get a decrypted word.</li>
                </ul>
                <h4 class="centered">Example 1</h4>
                <p class="centered">Encrypted Word: OFOECB<br>Key: CDFGHIJKLMOPQRSUVWXYZBEATN<br>Keyword: FIDDLE<br>Using Encrypt Rules</p>
                <div style='display: flex; justify-content: space-around; gap: 2cm'>
                    <table class = "big">
                    <tr class='f'><td></td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td></tr>
                    <tr><td class = 'f'>1</td><td>C</td><td>D</td><td>F</td><td>G</td><td>H</td><td>R</td><td>S</td><td>U</td><td>V</td><td>W</td></tr>
                    <tr><td class = 'f'>2</td><td>I</td><td>J</td><td>K</td><td>L</td><td>M</td><td>X</td><td>Y</td><td>Z</td><td>B</td><td>E</td></tr>
                    <tr><td class = 'f'>3</td><td>O</td><td>P</td><td>Q</td><td>#</td><td>#</td><td>A</td><td>T</td><td>N</td><td>#</td><td>#</td></tr>
                    <tr><td class = 'f'></td><td colspan =  5>L</td><td colspan =  5>R</td></tr>
                    </table>
                </div>
                <table>
                <tr><td>LLLRLR<br>313212<br>131514</td><td>LLLRLR<br>113232<br>131514</td><td>LLLRLR<br>113232<br>131514</td><td>LLLRLR<br>131232<br>113514</td><td>LRLLLR<br>131232<br>113514</td><td>LRLLLR<br>131232<br>311514</td><td>LLRLRL<br>131232<br>311514</td></tr>
                </table>
                <p class="centered">Decrypted Word: FORMAL</p>
            </div>
            <div class="page-footer relative-footer">Page 2 of 3</div>
        </div>
        <div class="page page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Transposed Halved Polybius CM</span>
            </div>
            <div class="page-content">
            <h4 class="centered">Example 2</h4>
                <p class="centered">Encrypted Word: CWSHV<br>Key: ABCDEFGHJLMNOPQTUVWXYZRISK<br>Keyword: MASTERY<br>Using Decrypt Rules</p>
                <div style='display: flex; justify-content: space-around; gap: 2cm'>
                    <table class = "big">
                    <tr class='f'><td></td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td></tr>
                    <tr><td class = 'f'>1</td><td>A</td><td>B</td><td>C</td><td>D</td><td>E</td><td>P</td><td>Q</td><td>T</td><td>U</td><td>V</td></tr>
                    <tr><td class = 'f'>2</td><td>F</td><td>G</td><td>H</td><td>J</td><td>L</td><td>W</td><td>X</td><td>Y</td><td>Z</td><td>R</td></tr>
                    <tr><td class = 'f'>3</td><td>M</td><td>N</td><td>O</td><td>#</td><td>#</td><td>I</td><td>S</td><td>K</td><td>#</td><td>#</td></tr>
                    <tr><td class = 'f'></td><td colspan =  5>L</td><td colspan =  5>R</td></tr>
                    </table>
                </div>
                <table>
                <tr><td>LRRLR<br>12321<br>31235</td><td>LRRLR<br>12321<br>12335</td><td>RLRLR<br>21321<br>21335</td><td>RLRLR<br>21321<br>33215</td><td>RLLRR<br>21231<br>33125</td><td>RLLRR<br>21231<br>33125</td><td>RRLRL<br>21231<br>35123</td><td>RRLRL<br>12132<br>35123</td></tr>
                </table>
                <p class="centered">Decrypted Word: TRASH</p>
            </div>
            <div class="page-footer relative-footer">Page 3 of 3</div>
        </div>
    </div>
</body>
</html>