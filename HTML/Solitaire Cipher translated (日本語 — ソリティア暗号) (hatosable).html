<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>ソリティア暗号 — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        table {
            margin: 1em auto;
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">ソリティア暗号</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Solitaire Cipher.svg" class="diagram">
                <h2>モジュール詳細：ソリティア暗号</h2>
                <p class="flavour-text">これはもはやゲームじゃなくて、暗号だ。</p>
                <p>ディスプレーには、上部に6文字の暗号化された単語とその下部に送信用のカーソルが表示されている。</p>
                <p>青の丸いボタンを押すと、画面を新しいページに切り替える。このページには27個の文字があり、25文字はA~Y、残り2文字は1と2である。これは暗号化に使用されたキーである。再度ボタンを押すと、先程の画面に戻る。</p>
                <p>緑の丸いボタンは入力内容を送信し、赤の丸いボタンは入力内容を消去する。</p>
                <p>復号後の単語を送信すると、モジュールは解除される。</p>
                <h3>暗号の仕組み</h3>
                <p>単語内の各英字に対し、この暗号は「シャッフル」と「暗号化」の2つのステップを行っている。</p>
                <p>まず、いくつかの手順を用いてキーをシャッフルする。その後、ヴィジュネル暗号を主として英字を暗号化する。こうして、こランダムに見えるランニングキーが作成される。</p>
                <p>怖がらないで！以下の手順は、シャッフルと復号プロセスをどのように行うか説明している。</p>
                <h3>シャッフルステップ</h3>
                <ol>
                    <li>「1」の文字を右に1回移動させ、必要に応じてループする。</li>
                    <li>「2」の文字を右に2回移動させ、必要に応じてループする。</li>
                    <li>左側の数字の左にある文字列と、右側の数字の右にある文字列を交換する。</li>
                    <li>キーの最後の文字をアルファベット上の位置の数字にし、それと同じ数だけ左端から右に進み、それより左にある文字を除外する。</li>
                    <li>除外した文字列を取得し、キーの最後から2番目と一番最後の間に挿入する。</li>
                </ol>
                <p>上記のステップは覚えやすくするために、「1と2をシフト、三等分、左をカット」と簡略化する。</p>
            </div>
            <div class="page-footer relative-footer">ページ 1/2</div>
        </div>
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">ソリティア暗号</span>
            </div>
            <div class="page-content">
            <h3>復号ステップ</h3>
            <p>最後に、以下のステップに従って復号された英字を取得する。</p>
                <ol>
                    <li>キーの最初の文字をアルファベット上の位置の数字にし、それと同じ数だけ左端から右に進む。</li>
                    <li>キー内を<b>進んだ後</b>に到達していた位置の文字を記録しておく。</li>
                    <li>暗号化された英字のアルファベット上の位置の数字から、上記のステップで取得した文字のアルファベット上の位置の数字を引く。</li>
                    <li>この数字を、1~26の範囲になるまで26を足し、アルファベット上の位置の数字を利用して英字に戻す。</li>
                </ol>
            <h3>追加事項</h3>
            <p>いずれかのステップで取得した文字が「1」の場合、シリアルナンバーの3番目の文字に1を足した数を使用する。</p>
            <p>いずれかのステップで取得した文字が「2」の場合、シリアルナンバーの6番目の文字に1を足した数を使用する。</p>
            <p>このモジュールにおける1と2のシフトは、実際に暗号が行った方法通りに行われていない。実際の暗号はキーを巨大な円のように扱っている。つまり、1や2が末尾にある場合、キーの1文字目に重なるように移動してしまう。より「一貫性」を持たせることにし、そうした些細な部分が発生するたびに、引っかかることがないようにしている。</p>
            <h4 style="text-align:center">例</h4>
            <table style="font-size: 13px">
            <tbody>
            <tr><th>D</th><th>V</th><th>T</th><th>G</th><th>X</th><th>B</th><th>Q</th><th>R</th><th>F</th><th>K</th><th>M</th><th>J</th><th>L</th><th>C</th><th>E</th><th>N</th><th>2</th><th>1</th><th>I</th><th>W</th><th>A</th><th>U</th><th>H</th><th>O</th><th>Y</th><th>S</th><th>P</th></tr>
            </tbody>
            </table>
            <p style="text-align:center">1と2をシフト</p>
            <table style="font-size: 13px">
            <tbody>
            <tr><th>D</th><th>V</th><th>T</th><th>G</th><th>X</th><th>B</th><th>Q</th><th>R</th><th>F</th><th>K</th><th>M</th><th>J</th><th>L</th><th>C</th><th>E</th><th>N</th><th>I</th><th>1</th><th>2</th><th>W</th><th>A</th><th>U</th><th>H</th><th>O</th><th>Y</th><th>S</th><th>P</th></tr>
            </tbody>
            </table>
            <p style="text-align:center">三等分</p>
            <table style="font-size: 13px">
            <tbody>
            <tr><th>W</th><th>A</th><th>U</th><th>H</th><th>O</th><th>Y</th><th>S</th><th>P</th><th>1</th><th>2</th><th>D</th><th>V</th><th>T</th><th>G</th><th>X</th><th>B</th><th>Q</th><th>R</th><th>F</th><th>K</th><th>M</th><th>J</th><th>L</th><th>C</th><th>E</th><th>N</th><th>I</th></tr>
            </tbody>
            </table>
            <p style="text-align:center">左をカット</p>
            <table style="font-size: 13px">
            <tbody>
            <tr><th>2</th><th>D</th><th>V</th><th>T</th><th>G</th><th>X</th><th>B</th><th>Q</th><th>R</th><th>F</th><th>K</th><th>M</th><th>J</th><th>L</th><th>C</th><th>E</th><th>N</th><th>W</th><th>A</th><th>U</th><th>H</th><th>O</th><th>Y</th><th>S</th><th>P</th><th>1</th><th>I</th></tr>
            </tbody>
            </table>
            <p style="text-align:center">最初の文字は2である。シリアルナンバーの6番目の文字は1とする。<br>
            右に2つ進み、到達した位置の文字はVである。<br>
            Q - V = -5 + 26 = 21 -> U</p>
            </div>
            <div class="page-footer relative-footer">ページ 2/2</div>
            
        </div>
    
    </div>
</body>
</html>