<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv = "Content-Type" content = "text/html; charset=UTF-8">    
		<meta http-equiv = "X-UA-Compatible" content = "IE=edge">
		<title>Figuras y Bombas — Keep Talking and Nobody Explodes Module</title>
		<meta name = "viewport" content = "initial-scale=1"> 
		<link rel="stylesheet" type="text/css" href="css/font.css">
		<link rel="stylesheet" type="text/css" href="css/normalize.css">
		<link rel="stylesheet" type="text/css" href="css/main.css">
		<script src="js/highlighter.js"></script>
		<script src="js/ruleseed.js"></script>
		<script>
			var moduleLetters = [ "A", "B", "D", "E", "G", "I", "K", "L", "N", "O", "P", "S", "T", "X", "Y" ];
			var moduleSequence = [
				"Valor de\nla letra\ndel módulo",
				"Número de\nmódulos",
				"Número\ntotal de\ncuadros prendidos",
				"Número\ntotal de\ncuadros apagados",
				"Usa el\nnúmero\n"
			];
			
			var nowElements = document.getElementsByClassName("moduleLetters");
		
			function setDefaultRules() {
				moduleSequence[4] = "Usa el\nnúmero\n";
				var originalTables = [
					"KEPTALINGDOBYXS",
					"KINGSLEDYOPXTAB",
					"ONSLYPKIDTXBAEG",
					"ABDEGIKLNOPSTXY",
					"YXTSPONLKIGEDBA"
				];
				
				for (var i = 0; i < nowElements.length; i++) {
					nowElements[i].innerText = moduleLetters[i];
				}
				
				moduleSequence[4] += "0";
				nowElements = document.getElementsByClassName("moduleSequence");
				
				for (var i = 0; i < nowElements.length; i++) {
					nowElements[i].innerText = moduleSequence[i];
				}
				
				for (var i = 0; i < 5; i++) {
					nowElements = document.getElementsByClassName(`letterTable${i + 1}`);
				
					for (var j = 0; j < nowElements.length; j++) {
						nowElements[j].innerText = originalTables[i][j];
					}
				}
				
				nowElements = document.getElementsByClassName("shapeImages");
				
				for (var i = 0; i < nowElements.length; i++) {
					nowElements[i].src = `img/Shapes And Bombs/shape${i}.png`;
				}
			}
		
			function setRules(rnd) {
				moduleSequence[4] = "Usa el\nnúmero\n";
				
				if (rnd.seed == 333) {
					for (var i = 0; i < nowElements.length; i++) {
						nowElements[i].innerText = moduleLetters[i];
					}
					
					Array.from(document.getElementsByClassName("moduleSequence")).forEach(x => { x.innerText = moduleSequence[4] + "3" });
				
					for (var i = 0; i < 5; i++) {
						Array.from(document.getElementsByClassName(`letterTable${i + 1}`)).forEach(x => { x.innerText = "K" });
					}
				
					Array.from(document.getElementsByClassName("shapeImages")).forEach(x => { x.src = "img/Shapes And Bombs/shape3.png" });
				} else {
					var pickedValues = [];
					
					function chooseUnique(maxVal) {
						var nowPicked = 0;
						
						do {
							nowPicked = rnd.nextMax(maxVal);
						} while (pickedValues.includes(nowPicked));
						
						pickedValues.push(nowPicked);
						
						return nowPicked;
					}
					
					Array.from(document.getElementsByClassName("moduleLetters")).forEach(x => { x.innerText = moduleLetters[chooseUnique(15)] });
					moduleSequence[4] += rnd.nextMax(15);
					pickedValues = [];
					Array.from(document.getElementsByClassName("moduleSequence")).forEach(x => { x.innerText = moduleSequence[chooseUnique(5)] });
					
					for (var i = 0; i < 5; i++) {
						pickedValues = [];
						Array.from(document.getElementsByClassName(`letterTable${i + 1}`)).forEach(x => { x.innerText = moduleLetters[chooseUnique(15)] });
					}
				
					pickedValues = [];
					Array.from(document.getElementsByClassName("shapeImages")).forEach(x => { x.src = `img/Shapes And Bombs/shape${chooseUnique(100)}.png` });
				}
			}
		</script>
		
		<style>
			.outer > li {
				margin: 1em 0;
			}
			
			.table-empty {
				border: none;
			}
			
			.cell-empty {
				border: none;
			}
			
			.vertical-text {
				padding: 5px;
				text-align: center;
				white-space: nowrap;
				vertical-align: middle;
				width: 1.5em;
			}
			
			.vertical-text div {
				-moz-transform: rotate(-90.0deg);  /* FF3.5+ */
				-o-transform: rotate(-90.0deg);  /* Opera 10.5 */
				-webkit-transform: rotate(-90.0deg);  /* Saf3.1+, Chrome */
				filter:  progid:DXImageTransform.Microsoft.BasicImage(rotation=0.083);  /* IE6,IE7 */
				-ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0.083)"; /* IE8 */
				margin-left: -10em;
				margin-right: -10em;
			}
			
			.bold {
				font-weight: bold;
			}
			
			.italics {
				font-style: italic;
			}
		</style>
	</head>

	<body>
		<div class="section">

			<!--Página 1-->
			<div class = "page page-bg-01">
				<div class = "page-header">
					<span class = "page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
					<span class = "page-header-section-title">Figuras y Bombas</span>
				</div>
				
				<div class = "page-content">
					<img src = "img/Component/Shapes And Bombs.svg" class = "diagram">
					<h2>En caso de Figuras y Bombas</h2>
					<p class = "flavour-text">Me pregunto qué figura usaré hoy...</p>
					
					<ul>
						<li>Tienes un set de cuadros que puedes presionar para encender/apagar.</li>
						<li>Los cuadros prendidos tendrán un color y formarán una letra.</li>
						<li>Con esta información, tienes que determinar qué figura usar basado en los pasos de abajo.</li>
					</ul>

					<h3>Valor de las letras (Tabla 1):</h3>
					
					<table align = "center">
						<tbody>
							<tr>
								<th class = "moduleLetters">A</th>
								<th class = "moduleLetters">B</th>
								<th class = "moduleLetters">D</th>
								<th class = "moduleLetters">E</th>
								<th class = "moduleLetters">G</th>
								<th class = "moduleLetters">I</th>
								<th class = "moduleLetters">K</th>
								<th class = "moduleLetters">L</th>
								<th class = "moduleLetters">N</th>
								<th class = "moduleLetters">O</th>
								<th class = "moduleLetters">P</th>
								<th class = "moduleLetters">S</th>
								<th class = "moduleLetters">T</th>
								<th class = "moduleLetters">X</th>
								<th class = "moduleLetters">Y</th>
							</tr>
							
							<tr>
								<td>0</td>
								<td>1</td>
								<td>2</td>
								<td>3</td>
								<td>4</td>
								<td>5</td>
								<td>6</td>
								<td>7</td>
								<td>8</td>
								<td>9</td>
								<td>10</td>
								<td>11</td>
								<td>12</td>
								<td>13</td>
								<td>14</td>
							</tr>
						</tbody>
					</table>
					
					</br>
					<h3>Tabla del número de la secuencia (Tabla 2):</h3>
					
					<table align = "center">
						<tbody>
							<tr>
								<th>Amarillo</th>
								<th>Verde</th>
								<th>Celeste</th>
								<th>Azul</th>
								<th>Morado</th>
							</tr>

							<tr>
								<td align = "center" class = "moduleSequence">Valor de&nbsp;la letra&nbsp;del módulo</td>
								<td align = "center" class = "moduleSequence">Número de&nbsp;módulos</td>
								<td align = "center" class = "moduleSequence">Número&nbsp;total de&nbsp;cuadros prendidos</td>
								<td align = "center" class = "moduleSequence">Número&nbsp;total de&nbsp;cuadros apagados</td>
								<td align = "center" class = "moduleSequence">Usa el&nbsp;número&nbsp;0</td>
							</tr>
						</tbody>
					</table>
					
					<ul>
						<li>Cuando uses esta tabla necesitas mantener el <span class="bold italics">Número inicial</span>.<br>
						Esto significa el número que obtuviste antes de aplicar el paso de abajo.</li>
						<li>Si el número es mayor o igual a 15, resta 15.</li>
					</ul>
					
					<h3>Tabla de letras (Tabla 3):</h3>
					
					<table align = "center" class = "table-empty">
						<tbody>
							<tr>
								<th colspan = "3">Amarillo</th>
								<th rowspan = "6" class = "cell-empty"></th>
								<th colspan = "3">Verde</th>
								<th rowspan = "6" class = "cell-empty"></th>
								<th colspan = "3">Celeste</th>
								<th rowspan = "6" class = "cell-empty"></th>
								<th colspan = "3">Azul</th>
								<th rowspan = "6" class = "cell-empty"></th>
								<th colspan = "3">Morado</th>
							</tr>
						
							<tr>
								<td class = "letterTable1">K</td>
								<td class = "letterTable1">E</td>
								<td class = "letterTable1">P</td>
								<td class = "letterTable2">K</td>
								<td class = "letterTable2">I</td>
								<td class = "letterTable2">N</td>
								<td class = "letterTable3">O</td>
								<td class = "letterTable3">N</td>
								<td class = "letterTable3">S</td>
								<td class = "letterTable4">A</td>
								<td class = "letterTable4">B</td>
								<td class = "letterTable4">D</td>
								<td class = "letterTable5">Y</td>
								<td class = "letterTable5">X</td>
								<td class = "letterTable5">T</td>
							</tr>
							
							<tr>
								<td class = "letterTable1">T</td>
								<td class = "letterTable1">A</td>
								<td class = "letterTable1">L</td>
								<td class = "letterTable2">G</td>
								<td class = "letterTable2">S</td>
								<td class = "letterTable2">L</td>
								<td class = "letterTable3">L</td>
								<td class = "letterTable3">Y</td>
								<td class = "letterTable3">P</td>
								<td class = "letterTable4">E</td>
								<td class = "letterTable4">G</td>
								<td class = "letterTable4">I</td>
								<td class = "letterTable5">S</td>
								<td class = "letterTable5">P</td>
								<td class = "letterTable5">O</td>
							</tr>
							
							<tr>
								<td class = "letterTable1">I</td>
								<td class = "letterTable1">N</td>
								<td class = "letterTable1">G</td>
								<td class = "letterTable2">E</td>
								<td class = "letterTable2">D</td>
								<td class = "letterTable2">Y</td>
								<td class = "letterTable3">K</td>
								<td class = "letterTable3">I</td>
								<td class = "letterTable3">D</td>
								<td class = "letterTable4">K</td>
								<td class = "letterTable4">L</td>
								<td class = "letterTable4">N</td>
								<td class = "letterTable5">N</td>
								<td class = "letterTable5">L</td>
								<td class = "letterTable5">K</td>
							</tr>
							
							<tr>
								<td class = "letterTable1">D</td>
								<td class = "letterTable1">O</td>
								<td class = "letterTable1">B</td>
								<td class = "letterTable2">O</td>
								<td class = "letterTable2">P</td>
								<td class = "letterTable2">X</td>
								<td class = "letterTable3">T</td>
								<td class = "letterTable3">X</td>
								<td class = "letterTable3">B</td>
								<td class = "letterTable4">O</td>
								<td class = "letterTable4">P</td>
								<td class = "letterTable4">S</td>
								<td class = "letterTable5">I</td>
								<td class = "letterTable5">G</td>
								<td class = "letterTable5">E</td>
							</tr>
							
							<tr>
								<td class = "letterTable1">Y</td>
								<td class = "letterTable1">X</td>
								<td class = "letterTable1">S</td>
								<td class = "letterTable2">T</td>
								<td class = "letterTable2">A</td>
								<td class = "letterTable2">B</td>
								<td class = "letterTable3">A</td>
								<td class = "letterTable3">E</td>
								<td class = "letterTable3">G</td>
								<td class = "letterTable4">T</td>
								<td class = "letterTable4">X</td>
								<td class = "letterTable4">Y</td>
								<td class = "letterTable5">D</td>
								<td class = "letterTable5">B</td>
								<td class = "letterTable5">A</td>
							</tr>
						</tbody>
					</table>
				</div>
				
				<div class = "page-footer relative-footer">Página 1 de 3</div>
			</div>
			
			<!--Página 2-->
			<div class = "page page-bg-05">
				<div class = "page-header">
					<span class = "page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
					<span class = "page-header-section-title">Figuras y Bombas</span>
				</div>
				
				<div class = "page-content">
					<h3>Si el color de los cuadros es blanco, sáltate estos pasos y ve al Paso 3.</h3>
					<h3>Paso 1 (Experto):</h3>
					
					<ul>
						<li>Usa la tabla correspondiente en la <span class="bold">Tabla 3</span> basado en el color de los cuadros.</li>
					
						<li>
							Después de eso, sigue estos pasos:
							
							<ul>
								<li>Empieza en la posición de la letra inicial del módulo.</li>
								
								<li>
									Basado en la secuencia de flechas del módulo, inicia desde el número que obtuviste en la <span class="bold">Tabla 2</span>
									
									<ul>
										<li>Sigue las direcciones indicadas por las flechas, si te sales de la tabla, rodéala por el otro lado.</li>
										<li>Necesitas hacer el paso de arriba hasta que la secuencia de flechas llegue a 0.</li>
									</ul>
								</li>
								
								<li>Una vez que hayas terminado los pasos de arriba, el número donde debes iniciar la secuencia de flechas en el módulo es el valor de la letra <span class="bold">(Tabla&nbsp;1)</span> en donde terminaste.</li>
							</ul>
						</li>
					</ul>			
						
					<h3>Paso 2 (Desactivador):</h3>
					
					<ul>
						<li>
							Ahora que obtuviste el número donde iniciar la secuencia de flechas en el módulo:
						
							<ul>
								<li>Necesitas iniciar en el cuadro del <span class="bold"><span class="italics">Número inicial</span> (Tabla 2)</span> más uno, izquierda-a-derecha y arriba-a-abajo empezando en 1 en la esquina arriba-izquierda.<br>Si el número es mayor a 40, déjalo en 40.</li>
								
								<li>
									En la secuencia de flechas, necesitas iniciar en el número que obtuviste al final del <span class="bold">Paso 1</span>.
									
									<ul>
										<li>Después de seguir una dirección de las flechas, necesitas encender/apagar el cuadro en el que estés.</li>
										<li>Si el cuadro en el que estás está apagado, sigue la dirección en el sentido opuesto.<br><span class="italics">Ejemplo: </span>Derecha-abajo sería izquierda-arriba.</li>
										<li>Haz estos pasos hasta que la secuencia llegue a 0.</li>
									</ul>
								</li>
							</ul>
						</li>
						
						<li>Después de hacer estos pasos, puedes ir al <span class="bold">Paso 3</span>.</li>
						<li>Presionando el número debajo de la pantalla de flechas aumenta el número.</li>
						<li>Presionando "Reset" regresas al estado inicial de la letra.</li>
						<li>Presionando "Empty" apagas todos los cuadros encendidos.</li>
					</ul>
					
					<h3>Paso 3 (Figura):</h3>
					
					<ul>
						<li>Si el último digito del número de serie es par, cuenta los cuadros encendidos; de lo contrario, cuenta los cuadros apagados.</li>
					</ul>
				</div>
				
				<div class = "page-footer relative-footer">Página 2 de 3</div>
			</div>
			
			<!--Página 3-->
			<div class = "page page-bg-04">
				<div class = "page-header">
					<span class = "page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
					<span class = "page-header-section-title">Figuras y Bombas</span>
				</div>
				
				<div class = "page-content">
					<ul>
						<li>Si el valor de la letra inicial del módulo <span class="bold">(Table 1)</span> es par, cuenta en la mitad de arriba; de lo contrario, cuenta en la mitad de abajo.</li>
						<li>Siguiente, usa la tabla correspondiente para ver qué número coincide:</li>
						<li>Si el número es menor a 5, déjalo en 5; de lo contrario, si es mayor a 14, déjalo en 14.</li>
						<li><span class="bold">NOTA:</span> Cuadros blancos son apagados y cuadros grises son prendidos.</li>
					</ul>
				
					<table align = "center" class = "table-empty">
						<tbody>
							<tr>
								<th rowspan = "4" class = "vertical-text"><div>Módulos resueltos es par</div></th>
								<th>5</th>
								<th>6</th>
								<th>7</th>
								<th>8</th>
								<th>9</th>
							</tr>
							
							<tr>
								<td align = "center"><img class = "shapeImages"></td>
								<td align = "center"><img class = "shapeImages"></td>
								<td align = "center"><img class = "shapeImages"></td>
								<td align = "center"><img class = "shapeImages"></td>
								<td align = "center"><img class = "shapeImages"></td>
							</tr>
							
							<tr>
								<th>10</th>
								<th>11</th>
								<th>12</th>
								<th>13</th>
								<th>14</th>
							</tr>
							
							<tr>
								<td align = "center"><img class = "shapeImages"></td>
								<td align = "center"><img class = "shapeImages"></td>
								<td align = "center"><img class = "shapeImages"></td>
								<td align = "center"><img class = "shapeImages"></td>
								<td align = "center"><img class = "shapeImages"></td>
							</tr>
							
							<tr>
								<td colspan = "7" class = "cell-empty"></td>
							</tr>
							
							<tr>
								<th rowspan = "4" class = "vertical-text"><div>Módulos resueltos es impar</div></th>
								<th>5</th>
								<th>6</th>
								<th>7</th>
								<th>8</th>
								<th>9</th>
							</tr>
							
							<tr>
								<td align = "center"><img class = "shapeImages"></td>
								<td align = "center"><img class = "shapeImages"></td>
								<td align = "center"><img class = "shapeImages"></td>
								<td align = "center"><img class = "shapeImages"></td>
								<td align = "center"><img class = "shapeImages"></td>
							</tr>
							
							<tr>
								<th>10</th>
								<th>11</th>
								<th>12</th>
								<th>13</th>
								<th>14</th>
							</tr>
							
							<tr>
								<td align = "center"><img class = "shapeImages"></td>
								<td align = "center"><img class = "shapeImages"></td>
								<td align = "center"><img class = "shapeImages"></td>
								<td align = "center"><img class = "shapeImages"></td>
								<td align = "center"><img class = "shapeImages"></td>
							</tr>
						</tbody>
					</table>
					
					<br>
					
					<ul>
						<li>Una vez que hayas determinado la figura, debes hacer esa figura en el módulo y presionar "Submit".</li>
					</ul>
				</div>
				
				<div class = "page-footer relative-footer">Página 3 de 3</div>
			</div>
		</div>
	</body>
</html>
