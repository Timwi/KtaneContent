<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Colorful Insanity — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/ruleseed.js"></script>
    <script>
        function setDefaultRules(rnd)
        {
            setRules(rnd);
        }

        function setRules(rnd)
        {
            var nowPatterns = rnd.shuffleFisherYates(Array.from(Array(25)).map((x, y) => y));
            var colorNames = ["", "R", "O", "Y", "G", "C", "A", "B", "M", "P"];
            var nowColors = [];

            for (var i = 0; i < 9; i++)
            {
                nowColors.push(Array.from(Array(9)).map((x, y) => uniqueString([colorNames[rnd.nextMax(10)], colorNames[rnd.nextMax(10)], colorNames[rnd.nextMax(10)]].join(""))));
            }

            for (var i = 0; i < 9; i++)
            {
                nowColors[i][i] = "X";
            }

            var nowElements = document.getElementsByClassName("patternImages");

            for (var i = 0; i < nowElements.length; i++)
            {
                nowElements[i].src = `img/Colorful Insanity/pattern${nowPatterns[i]}.png`;
            }

            nowElements = document.getElementsByClassName("patternColors");

            for (var i = 0; i < nowElements.length; i++)
            {
                nowElements[i].innerText = nowColors[i % 9][parseInt(i / 9)];
            }
        }

        function uniqueString(nowStr)
        {
            return [...new Set(nowStr.split(""))].join("");
        }
    </script>

    <style>
        table {
            margin: 1em auto;
        }

        td {
            text-align: center;
        }

        .outer > li {
            margin: 1em 0;
        }

        .table-empty {
            border: none;
        }

        .cell-empty {
            border: none;
        }

        .bold {
            font-weight: bold;
        }

        .italic {
            font-style: italic;
        }
    </style>
</head>

<body>
    <div class="section">

        <!--Page 1-->
        <div class="page page-bg-06">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Colorful Insanity</span>
            </div>

            <div class="page-content">
                <img src="img/Component/Colorful Insanity.svg" class="diagram">
                <h2>On the Subject of Colorful Insanity</h2>
                <p class="flavour-text">The madness can be even worse.</p>
                <p>
                    There’s a set of 35 buttons on the module.<br>
                    You need to press the correct buttons in order to disarm the module.<br>
                    First, you need to find 2 pairs of buttons:
                </p>

                <ol>
                    <li>2 buttons that have the same pattern, but one has reversed colors.</li>
                    <li>2 buttons that are exactly the same; they have the same pattern and colors.</li>
                </ol>

                <p>
                    With the pattern of the first pair, you can determine which patterns for the buttons are allowed for press.<br>
                    On <span class="bold">Table 1</span>; locate where is your pattern, and the allowed patterns will be the ones that are directly adjacent to it. This means up/left/right/down.
                </p>

                <p>
                    Use <span class="bold">Table 2</span> to determine the allowed colors, based on the colors of the second pair.<br>
                    The color for the columns is the one with black color on <span class="bold">Table 1</span>.<br>
                    The color for the rows is the other color.<br>
                </p>

                <h3>Color’s reference</h3>

                <ul>
                    <li><span class="bold italic">X</span>: No color</li>
                    <li><span class="italic">R</span>: Red</li>
                    <li><span class="italic">O</span>: Orange</li>
                    <li><span class="italic">Y</span>: Yellow</li>
                    <li><span class="italic">G</span>: Green</li>
                    <li><span class="italic">C</span>: Cyan</li>
                    <li><span class="italic">A</span>: Azure</li>
                    <li><span class="italic">B</span>: Blue</li>
                    <li><span class="italic">M</span>: Magenta</li>
                    <li><span class="italic">P</span>: Purple</li>
                    <li><span class="italic">Blank</span>: Any color</li>
                </ul>

                <p>
                    You need to press the buttons that have both any of the allowed patterns <span class="bold">AND</span> any of the allowed colors.<br>
                    If none of the buttons match, press the first and the second pair.
                </p>
            </div>

            <div class="page-footer relative-footer">Page 1 of 2</div>
        </div>

        <!--Page 2-->
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Colorful Insanity</span>
            </div>

            <div class="page-content">
                <h2>Pattern table (Table 1)</h2>

                <table>
                    <tbody>
                        <tr>
                            <td><img src="img/Colorful Insanity/pattern0.png" class="patternImages"></td>
                            <td><img src="img/Colorful Insanity/pattern1.png" class="patternImages"></td>
                            <td><img src="img/Colorful Insanity/pattern2.png" class="patternImages"></td>
                            <td><img src="img/Colorful Insanity/pattern3.png" class="patternImages"></td>
                            <td><img src="img/Colorful Insanity/pattern4.png" class="patternImages"></td>
                        </tr>

                        <tr>
                            <td><img src="img/Colorful Insanity/pattern5.png" class="patternImages"></td>
                            <td><img src="img/Colorful Insanity/pattern6.png" class="patternImages"></td>
                            <td><img src="img/Colorful Insanity/pattern7.png" class="patternImages"></td>
                            <td><img src="img/Colorful Insanity/pattern8.png" class="patternImages"></td>
                            <td><img src="img/Colorful Insanity/pattern9.png" class="patternImages"></td>
                        </tr>

                        <tr>
                            <td><img src="img/Colorful Insanity/pattern10.png" class="patternImages"></td>
                            <td><img src="img/Colorful Insanity/pattern11.png" class="patternImages"></td>
                            <td><img src="img/Colorful Insanity/pattern12.png" class="patternImages"></td>
                            <td><img src="img/Colorful Insanity/pattern13.png" class="patternImages"></td>
                            <td><img src="img/Colorful Insanity/pattern14.png" class="patternImages"></td>
                        </tr>

                        <tr>
                            <td><img src="img/Colorful Insanity/pattern15.png" class="patternImages"></td>
                            <td><img src="img/Colorful Insanity/pattern16.png" class="patternImages"></td>
                            <td><img src="img/Colorful Insanity/pattern17.png" class="patternImages"></td>
                            <td><img src="img/Colorful Insanity/pattern18.png" class="patternImages"></td>
                            <td><img src="img/Colorful Insanity/pattern19.png" class="patternImages"></td>
                        </tr>

                        <tr>
                            <td><img src="img/Colorful Insanity/pattern20.png" class="patternImages"></td>
                            <td><img src="img/Colorful Insanity/pattern21.png" class="patternImages"></td>
                            <td><img src="img/Colorful Insanity/pattern22.png" class="patternImages"></td>
                            <td><img src="img/Colorful Insanity/pattern23.png" class="patternImages"></td>
                            <td><img src="img/Colorful Insanity/pattern24.png" class="patternImages"></td>
                        </tr>
                    </tbody>
                </table>

                <h2>Color table (Table 2)</h2>

                <table class="table-empty">
                    <tbody>
                        <tr>
                            <th class="cell-empty"></th>
                            <th>Red</th>
                            <th>Orange</th>
                            <th>Yellow</th>
                            <th>Green</th>
                            <th>Cyan</th>
                            <th>Azure</th>
                            <th>Blue</th>
                            <th>Magenta</th>
                            <th>Purple</th>
                        </tr>

                        <tr>
                            <th>Red</th>
                            <th class="patternColors">X</th>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                        </tr>

                        <tr>
                            <th>Orange</th>
                            <td class="patternColors">R</td>
                            <th class="patternColors">X</th>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                        </tr>

                        <tr>
                            <th>Yellow</th>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <th class="patternColors">X</th>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                        </tr>

                        <tr>
                            <th>Green</th>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <th class="patternColors">X</th>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                        </tr>

                        <tr>
                            <th>Cyan</th>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <th class="patternColors">X</th>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                        </tr>

                        <tr>
                            <th>Azure</th>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <th class="patternColors">X</th>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                        </tr>

                        <tr>
                            <th>Blue</th>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <th class="patternColors">X</th>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                        </tr>

                        <tr>
                            <th>Magenta</th>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <th class="patternColors">X</th>
                            <td class="patternColors">R</td>
                        </tr>

                        <tr>
                            <th>Purple</th>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <td class="patternColors">R</td>
                            <th class="patternColors">X</th>
                        </tr>
                    </tbody>
                </table>

                <p>See <span class="bold">Color’s reference</span> for the color letters.</p>
            </div>

            <div class="page-footer relative-footer">Page 2 of 2</div>
        </div>
    </div>
</body>
</html>
