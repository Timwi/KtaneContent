<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>FizzBoss — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.7.0.min.js"></script>
    <script>
        $(function() {
            function primeFactorsTo(max) {
                let store  = [], i, j, primes = [];
                for (i = 2; i <= max; ++i) {
                    if (!store [i]) {
                        primes.push(i);
                        for (j = i << 1; j <= max; j += i) {
                            store[j] = true;
                        }
                    }
                } 
                return primes;
            }
            let letters = ["f", "b", "z", "i", "u"];
            let phrases = Array(125);
            let count = 0;
            for (let b of letters) {
                for (let m of letters) {
                    for (let e of letters) {
                        phrases[count] = `${b}${m}${e}${e}`;
                        count++;
                    }
                }
            }
            let primes = primeFactorsTo(750);
            let phrasesTable = $('#phrases-table');
            for (let n = 0; n < 25; n++) {
                let tr = $("<tr>").appendTo(phrasesTable);
                for (let i = 0; i < 5; i++) {
                    $("<th>").text(phrases[n + i*25]).appendTo(tr);
                    $("<td>").text(primes[n + i*25 + 1]).appendTo(tr);
                    if (i < 4) $("<td>").addClass("corner").appendTo(tr);
                }
            }
        });
    </script>
    <style>
        .dark table, table {
            margin: 1em auto;
            border: none;
        }
        .page-footer::before { content: 'Page '; }
        .page-footer::after { content: ' of 2'; }

        .hstack {
            display: flex;
            justify-content: space-between;
        }

        /* Credit: Hexicube's Forget Me Not manual */
        .red-line-wrap {
            width: 0;
            height: 0;
        }
        .red-line {
            width: 2em;
            height: 66em;
            opacity: 0.3;
            background-color: red;
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class='red-line-wrap'><div class='red-line'></div></div>
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">FizzBoss</span>
            </div>
            <div class="page-content">
                <img src="img/Component/FizzBoss.svg" class="diagram">
                <h2>On the Subject of FizzBoss</h2>
                <p class="flavour-text">She {0} on my {1} until I {2}.</p>

                <p>This module uses rules similar to <a href="FizzBuzz.html">FizzBuzz</a>.</p>
                <p>
                    The module has 2 displays and 7 buttons labeled f, b, z, i, u, S (Submit), and R (Reset). At the beginning of the bomb and after every <a href="../More/Ignore%20Table.html#mod=fizzBoss">non-ignored module</a>
                    is solved the top display will show a three digit number. After all non-ignored modules are solved, the buttons will light up to show you can submit phrases.
                </p>
                <h3>1. For the First Stage:</h3>

                <p>The number displayed is the first stage's real number.</p>

                <h3>2. For Each Other Stage:</h3>
                <p>Add up all the previous stages' real numbers. For every phrase in the Phrases Table whose number is a divisor of the sum, add 1 to the current stage's number. This will be the real number of that stage.</p>

                <h3>3. At the end:</h3>

                <p>Add up all the stages’ real numbers. Factorize this sum, and input each phrase corresponding to prime factors once, in order of the Phrases table (top to bottom, then left to right), and <b>ONLY</b> the first three characters, since character 4 will automatically be filled in for you.</p>
                <p>If none of the primes in the Phrases table are factors of the sum, just press submit without inputting anything.</p>
                <p>Once the defuser starts inputting a different phrase, the previously-inputted phrases wouldn’t be shown. Pressing R (Reset) will clear <b>the current input</b>, but pressing it on a clear screen will clear <b>all previous inputs.</b></p>
                <p>Once the defuser has inputted the required phrases to solve, press the S (Submit) button, if you were incorrect the module will strike and enter recovery mode. To see all of the stages again, press any button. After the replay is done, you can start inputting again.</p>
            </div>
            <div class="page-footer relative-footer">1</div>
        </div>

        <div class="page page-bg-02">
            <div class='red-line-wrap'><div class='red-line'></div></div>
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">FizzBoss</span>
            </div>
            <div class="page-content">
                <h3>Phrases Table:</h3>
                <table id="phrases-table"></table>
            </div>
            <div class="page-footer relative-footer">2</div>
        </div>
    </div>
</body>
</html>
