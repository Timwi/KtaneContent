<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>White Hole — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src='js/ruleseed.js'></script>
    <script>
        function setRules(rnd)
        {
            // Add extra randomness
            for (var i = rnd.next(0, 10); i > 0; i--)
                rnd.nextDouble();

            var dots2 = 'M45 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z';
            var dots3 = 'M35 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z';
            var dots4 = 'M25 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z';

            var alternative = [
                { dots: dots4, gest: 'M30 70v10h20V70M70 70v10' },  // • └─•─┘ • | •
                { dots: dots3, gest: 'M40 70v10h20V70' },           // • └─•─┘ •
            ];
            var pool = rnd.shuffleArray([
                { dots: dots3, gest: 'M40 70v10m20-10v10' },                    // • | • | •
                { dots: dots4, gest: 'M52.5 70v10H70V70m-40 0v10h17.5V70' },    // • └─•─┘└─•─┘ •
                { dots: dots4, gest: 'M30 70v10M50 70v10h20V70' },              // • | •  └─•─┘ •
                { dots: dots4, gest: 'M30 70v10h40V70' },                       // • └─•──•─┘ •
                alternative [ rnd.next(0, alternative.length) ],
                { dots: dots4, gest: 'M30 70v10M70 70v10' },                    // • | •   • | •
            ]);

            var c = [
                { dots: dots3, gest: 'M37.5 70v10h20V70M62.5 70v10' },          // • └─•─┘| •
                { dots: dots2, gest: 'M47.5 70v10M52.5 70v10' },                // • || •
                { dots: dots3, gest: 'M37.5 70v10M42.5 70v10h20V70' },          // • |└─•─┘ •
            ][ rnd.next(0, 3) ];

            console.log(rnd.count);

            var arr = [
                "The first numerical digit is the x-coordinate, the second numerical digit the y-coordinate.",
                "The second numerical digit is the x-coordinate, the first numerical digit the y-coordinate.",
                "The sixth character is the x-coordinate, the third character the y-coordinate.",
                "The third character is the x-coordinate, the sixth character the y-coordinate.",
                "The first numerical digit is the x-coordinate, the last numerical digit the y-coordinate.",
                "The last numerical digit is the x-coordinate, the first numerical digit the y-coordinate.",
            ];
            var elem = arr[rnd.next(0, arr.length)];

            var directions = [ "east", "south", "west", "north" ];
            rnd.next(0, 4);
            rnd.next(0, 2);

            var rotations = [ "counter-clockwise", "clockwise" ];
            var rotation2 = rotations [ rnd.next(0, 2) ];

            var widgets = [ "battery and port", "battery and indicator", "battery holder and port", "battery holder and indicator", "port and indicator", "port", "indicator", "battery", "battery holder" ];
            document.getElementById('link-1').href = 'Black%20Hole.html#' + rnd.seed;

            var dirs = ["right", "top", "left", "bottom"];
            var rots = ["clockwise", "counter-clockwise"];

            rnd.next(0,9);

            document.getElementById('seeded-dir').innerText = dirs [ rnd.next(0, dirs.length) ];
            document.getElementById('seeded-rot').innerText = rots [ rnd.next(0, rots.length) ];
        }

        function setDefaultRules(rnd) { setRules(rnd); }
    </script>
    <style>
        ul {
            padding-left: 1em;
        }

        li {
            margin: .8em 0;
        }

        .dark table, table {
            border: none;
        }

        table.grid {
            margin: 3em auto 0;
            font-size: 14pt;
        }

        table.grid col {
            width: 1.2cm;
        }

        table.grid td {
            text-align: center;
        }

        table.grid tr {
            height: 1.2cm;
        }

        .ruleseed-active .seedable {
            font-weight: bold;
            text-decoration: underline;
        }

        span.footnote-marker {
            vertical-align: super;
            font-size: 70%;
        }
        p.footnote {
            font-size: 70%;
        }
        div.footnotes {
            position: relative;
            margin-top: 2em;
            padding-top: 1em;
        }
        div.footnotes:before {
            border-top: 1px solid black;
            left: 0;
            top: 0;
            position: absolute;
            width: 50mm;
            content: '';
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">White Hole</span>
            </div>
            <div class="page-content">
                <img src="img/Component/White Hole.svg" class="diagram">
                <h2>On the Subject of White Holes</h2>
                <p class="flavour-text">Though I'm past one hundred thousand miles<br />I'm feeling very still</p>
                <ul>
                    <li>Each White Hole module is linked to a <a id="link-1" href='Black%20Hole.html'>Black Hole</a> module. If there are not enough Black Holes to form a link with every White Hole, some White Holes will remain unlinked.</li>
                    <li>Whenever a digit is thrown into a White Hole's linked Black Hole, that digit will come out of the linked White Hole.</li>
                    <li>Select a direction on a white hole to send the next digit that way. If a digit is sent in any other direction, or no direction at all, the White Hole will strike. Note: you cannot change the selected direction after entering it.</li>
                    <li>To solve a linked White Hole, simply select the hole itself after the final direction has been entered. Note: doing so prematurely will result in a strike.</li>
                    <li>Note: any digits from the “C” gesture are not counted at all for this module. However, they can be useful for identifying links.</li>
                    <li>Unlinked White Holes work differently than linked ones. To get a digit to come out of it, select the hole itself. The order of digits is found by taking the same starting position as Black Hole, in the same grid, and in the same starting direction, <strong>but turning the opposite direction</strong>.</li>
                    <li>Additionally, unlinked white holes continue the same sequence as each other, and the code can be shortened with intermittent module solves.</li>
                </ul>
            </div>
            <div class="page-footer relative-footer">Page 1 of 2</div>
        </div>
        <div class="page page-bg-04">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">White Hole</span>
            </div>
            <div class="page-content">
                <ul>
                    <li>In the table below, the column is the digit sent out of the white hole, and the row is the direction in which that digit was obtained.</li>
                    <li>Use these to find the correct direction in the table below.</li>
                    <li>Directions are ordered starting from the <span class='seedable' id='seeded-dir'>bottom</span> and going <span class='seedable' id='seeded-rot'>counter-clockwise</span>.</li>
                </ul>
                <table class='grid'>
                    <colgroup><col><col><col><col><col><col></colgroup>
                    <tr><th style="border: none;"></th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th></tr>
                    <tr><td>&rArr;</td><td>8</td><td>5</td><td>2</td><td>6</td><td>1</td></tr>
                    <tr><td>&neArr;</td><td>2</td><td>2</td><td>3</td><td>2</td><td>4</td></tr>
                    <tr><td>&uArr;</td><td>1</td><td>8</td><td>7</td><td>8</td><td>2</td></tr>
                    <tr><td>&nwArr;</td><td>3</td><td>6</td><td>1</td><td>5</td><td>6</td></tr>
                    <tr><td>&lArr;</td><td>6</td><td>3</td><td>5</td><td>1</td><td>5</td></tr>
                    <tr><td>&swArr;</td><td>4</td><td>1</td><td>8</td><td>7</td><td>3</td></tr>
                    <tr><td>&dArr;</td><td>5</td><td>7</td><td>6</td><td>4</td><td>8</td></tr>
                    <tr><td>&seArr;</td><td>7</td><td>4</td><td>4</td><td>3</td><td>7</td></tr>
                </table>
            </div>
            <div class="page-footer relative-footer">Page 2 of 2</div>
        </div>
    </div>
</body>
</html>
