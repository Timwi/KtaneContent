<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>偽赤色矢印 — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        .page-footer::before { content: "ページ "; }
        .page-footer::after { content: "/3"; }
        .strikethrough { text-decoration: line-through; }
        .dark table, table {
            margin-top: 3.5em;
            border: none;
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">偽赤色矢印</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Red Arrows.svg" class="diagram">
                <h2>モジュール詳細：偽赤色矢印</h2>
                <p class="flavour-text">ポイントポイントうるさいよ！</p>
                <p>モジュールには4つの方向ボタンと中央に小さなディスプレーがある。</p>
                <p>ボタンが赤ではない場合、またはディスプレーに2桁の数字が表示されていない場合、異なるモジュールを参照している。</p>
                <p>
                    ディスプレーには初期値が表示される。上と下ボタンは数値を1ずつ変更し、左と右は数値を10ずつ変更する。モジュールを解除するには以下のステップに従ってディスプレーを取得した数値に設定し、ディスプレーを押して入力を送信する。間違った数値を送信するとミスが記録され、モジュールが新しい初期値を生成する。
                </p>
                <h4>ステップ1：キー値Kの取得</h4>
                <p>以下の表に基づいて、キー値Kを取得する。</p>
                 <table>
                  <tr><td class="corner"></td><th>初期値が偶数</th><th>初期値が奇数</th></tr>
                  <tr><th>初期値の一の位 = シリアルナンバーの最後の数字</th><td>初期値 - シリアルナンバーの最後の数字▲</td><td>初期値 - シリアルナンバーの最後の数字●</td></tr>
                  <tr><th>初期値の一の位 &gt; シリアルナンバーの最後の数字</th><td>(シリアルナンバーの最後の数字 + 2) * 7●</td><td>(シリアルナンバーの最後の数字 - 2) * 5▲</td></tr>
                  <tr><th>それ以外</th><td>初期値 + シリアルナンバーの最後の数字●</td><td>50 - 初期値●</td></tr>
                  </table>

                  <h4>ステップ2：カウント値Ca,Coの取得</h4>
                  <p>以下の処理を行い、値Ca,Coを求める。</p>
                   <ol>
                    <li>Kの絶対値を取得する。</li>
                    <li>Kを2で割り、小数点以下を切り捨てる。新たなKはこの値になる。各Kの値をメモすること。</li>
                    <li>Kが1になるまで、手順2を繰り返す。</li>
                    <li>Caの値を、初期値を含めた全てのKの個数にする。</li>
                    <li>Coの値を、初期値を含めた奇数であるKの個数にする。</li>
                   </ol>
            </div>
            <div class="page-footer relative-footer">1</div>
        </div>

        <div class="page page-bg-01">
         <div class="page-header">
             <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
             <span class="page-header-section-title">偽赤色矢印</span>
         </div>
         <div class="page-content">
             <h4>ステップ3：キー値の修正</h4>
             <p>Kをステップ2実行前の値に戻し、以下の表に基づいてKを修正する。</p>
              <table>
               <tr><td class="corner"></td><th>最後に使った式に●が付いている</th><th>最後に使った式に▲が付いている</th></tr>
               <tr><th>Caが偶数</th><td>K * (Ca + 1)▲</td><td>K + Ca●</td></tr>
               <tr><th>Caが奇数</th><td>K + <br>(Ca * シリアルナンバーの最後の数字)●</td><td>K + 1▲</td></tr>
               </table>

               <h4>ステップ4：ステップの繰り返し</h4>
               <p>ステップ2~3の処理を追加で2回行う。ステップ2を開始するたびに、CaとCoの値は0に設定される。</p>
               <p>繰り返し完了後、Coを「3つのCoの総和」、Caを「3回目に行ったステップ2におけるCaの値」にする。</p>

               <h4>ステップ5：キー値の再修正</h4>

               <p>直前に実行した式に●が付いている場合、Kに1を足し、変数Aを「(Ca * シリアルナンバーの最後の数字) + 3」にする。そうでない場合、Kから10を引き、変数Aを「Co - シリアルナンバーの最後の数字 + 4」にする。その後、以下の手順を(32 - Co)回行う。手順は1回目、2回目、…とカウントする。</p>
               <ol>
               <li>初期値がAの倍数である場合、KにAを足す。</li>
               <li>Aに1を足す。</li>
               <li>Kに(A - 現在の実行回数 + 1)を足す。</li>
               </ol>

         </div>
         <div class="page-footer relative-footer">2</div>
     </div>

     <div class="page page-bg-01">
      <div class="page-header">
          <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
          <span class="page-header-section-title">偽赤色矢印</span>
      </div>
      <div class="page-content">
            <h4>ステップ6：キー値の再々修正</h4>
            <p>Kの絶対値を求める。それが0または1の場合、ステップ7に移動する。</p>
            <p>変数Bを1、N1を「(32 - Co)」、N2を「Co」、Vを「N1を(シリアルナンバーの最後の数字 + 1)で割った余り」にする。</p>
            <p>Kが合成数の場合、変数Bに1を足し、N1とN2を入れ替える。Vの値も変更されるため、再度計算する。</p>
            <p>その後、以下の手順をV回行う。手順は1回目、2回目、…とカウントする。</p>
            <ol>
            <li>bに(現在の実行回数 - 1)を足す。</li>
            <li>Kに(N2をbで割った余り)を足す。</li>
            </ol>

            <h4>ステップ7：回答の算出</h4>
            <p>以下の表に基づいて、回答を取得する。回答を100で割った余りが送信すべき値である。</p>
            <p></p>
            <table  style="font-size: small;">
             <tr><td class="corner"></td><th>最後に使った式が●付き<br>かつステップ6開始時のKが合成数</th><th>最後に使った式が●付き<br>かつステップ6開始時のKが合成数ではない</th><th>最後に使った式が▲付き<br>かつステップ6開始時のKが合成数</th><th>最後に使った式が▲付き<br>かつステップ6開始時のKが合成数ではない</th></tr>
             <tr><th>初期値の一の位 = シリアルナンバーの最後の数字</th><td>11 * (K - Co)</td><td>K + 11 - Co</td><td>K - 11</td><td>11 + Co</td></tr>
             <tr><th>初期値の一の位 &gt; シリアルナンバーの最後の数字</th><td>(2 * K) - Ca</td><td>K + 2</td><td>32 - Co + シリアルナンバーの最後の数字</td><td>K - 21</td></tr>
             <tr><th>それ以外</th><td>K</td><td>11 + K</td><td>11 + Co</td><td>11 + シリアルナンバーの最後の数字</td></tr>
            </table>

      </div>
      <div class="page-footer relative-footer">3</div>
  </div>
    </div>
</body>
</html>