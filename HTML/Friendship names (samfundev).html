<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Friendship â€” Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src='js/ruleseed.js'></script>
    <script src="js/jquery.3.7.0.min.js"></script>
    <style type="text/css">
        body {
            margin: 20px;
        }

        img.fs {
            width: 10mm;
             height: 10mm;
        }

        table {
            width: 100%;
            box-sizing: border-box;
        }

        td:not(.borderless), th:not(.borderless) {
            background-color: white;
        }
        .dark td:not(.borderless), .dark th:not(.borderless) {
            background-color: #222;
        }


    </style>
    <title>List of Friendship information</title>
    <script type="text/javascript">
        var friendshipSymbols = [
            "Starstreak", "Coloratura", "Pickpocket", "Lemon Zest", "Night Light", "Bow Hothoof", "Midnight Strike", "Amethyst Star", "Mayor Mare", "Non-pony 6", "Score", "Apple Flora",
            "Sandbar", "Joe", "Spitfire", "Lily", "Snips", "Suri Polomare", "Shoeshine", "Noteworthy", "Rainbow Swoop", "Lucky Clover", "Cherry Berry", "Meadow Song", "Tootsie Flute",
            "Sapphire Shores", "Pursey Pink", "Lemon Hearts", "Filthy Rich", "Snails", "Cherry Jubilee", "Cozy Glow", "Count Caesar", "Mr. Carrot Cake", "Cheerilee", "Cadance",
            "Strawberry Sunrise", "Silverstar", "Lily Lace", "Globe Trotter", "Royal Riff", "Horte Cuisine", "Sealed Scroll", "Granny Smith", "Non-pony 10", "Igneous Rock Pie", "Derpy",
            "Limestone Pie", "Apple Fritter", "Sunset Shimmer", "Daring Do", "Aria Blaze", "Pinny Lane", "Photo Finish", "Ms. Harshwhinny", "Starlight Glimmer", "Stellar Eclipse", "Fleetfoot",
            "Mrs. Cup Cake", "Caramel", "Hoops", "Open Skies", "Moon Dancer", "Minty", "Dr. Caballeron", "Non-pony 5", "Non-pony 9", "Featherweight", "Blossomforth", "Sunshower Raindrops",
            "Spoiled Rich", "Mr. Stripes", "Clear Skies", "Radiant Hope", "Apple Honey", "Sugarcoat", "Shooting Star", "Quibble Pants", "Lyra", "Coco Pommel", "Comet Tail", "Sweetie Belle",
            "Screwball", "Twist", "Starry Eyes", "Indigo Zap", "Trixie", "White Lightning", "Apple Split", "Cloudy Quartz", "Zephyr Breeze", "Leadwing", "Electric Sky", "Silver Shill",
            "Fleur Dis Lee", "Dr. Horse", "Cheese Sandwich", "Flash Sentry", "Apple Bumpkin", "Non-pony 3", "Flax Seed", "Hoity Toity", "Rose", "Scootaloo", "Thunderlane", "Red Gala",
            "Cloud Kicker", "Sour Sweet", "Hayseed Turnip Truck", "Prim Hemline", "Pinkie Pie", "Hondo Flanks", "Twilight Velvet", "Fancy Pants", "Dr. Fauna", "Firecracker Burst",
            "Tender Taps", "Inky Rose", "Screwy", "Golden Gavel", "Blow Dry", "Auntie Applesauce", "Torch Song", "All Aboard", "Emerald Green", "Non-pony 1", "Pear Butter", "Pixel Pizzaz",
            "Biff", "Davenport", "Peachy Sweet", "Peachy Pie", "Strike", "Violet Blurr", "Rarity", "Diamond Tiara", "Trouble Shoes", "Hughbert Jellius", "Babs Seed", "Aloe Blossom", "Flam",
            "Apple Leaves", "Apple Rose", "Lily Blossom", "Plaid Stripes", "Sweetie Drops", "Nurse Redheart", "Non-pony 12", "Sprinkle Medley", "Windy Whistles", "Celestia", "Adagio Dazzle",
            "Saffron Masala", "Non-pony 7", "Truffle", "Feather Bangs", "Twinkleshine", "Vapor Trail", "Non-pony 2", "Golden Harvest", "Octavia Melody", "Apple Bloom", "Unconditioner",
            "Sassaflash", "Magnet Bolt", "Rainbow Dash", "Meadow Flower", "Bright Mac", "Ms. Peachbottom", "Holly Dash", "Silver Spoon", "Rockhoof", "Apple Cobbler", "Mane Moon", "Fluttershy",
            "Apple Strudel", "Diamond Rose", "Luna", "Blue Bobbin", "Fluffy Clouds", "Flitter", "Non-pony 8", "Archer", "Cookie Crumbles", "Lickety Split", "Upper Crust", "Aunt Orange",
            "Withers", "Rogue", "Royal Pin", "Big McIntosh", "Flim", "Double Diamond", "Bumblesweet", "Jet Set", "Toola Roola", "Apple Cinnamon", "Neon Brush", "Clean Sweep", "Coriander Cumin",
            "Sea Swirl", "Compass Star", "Cloudchaser", "Comb Over", "Twilight Sparkle", "Banana Fluff", "Applejack", "Wild Fire", "Cherry Fizzy", "Sunny Daze", "Wheat Grass", "Non-pony 13",
            "Vinyl Scratch", "Maud Pie", "Sunburst", "Prince Blueblood", "Silver Spanner", "Crusoe Palm", "Quick Trim", "Lotus Blossom", "Sunshower", "Orange Swirl", "Daisy", "Sunny Rays",
            "Dumb-Bell", "Goldengrape", "Soarin", "Zipporwhill", "Toe Tapper", "Night Glider", "Star Swirl", "Beauty Brass", "Marble Pie", "Tree Hugger", "Bulk Biceps", "Uncle Orange",
            "Lightning Dust", "Non-pony 4", "Time Turner", "Berryshine", "Gladmane", "Timber Spruce", "Coconut Cream", "Rainbowshine", "Sonata Dusk", "Non-pony 14", "Equality", "Braeburn",
            "Parasol", "Shining Armor", "Trenderhoof"
        ];

        var Names = {
            // Original ponies
            "Amethyst Star": ["Three Diamonds on Pink"],
            "Apple Cinnamon": ["Cinnamon Apple"],
            "Apple Fritter": ["Apple Fritters", "Potatos"],
            "Babs Seed": ["(Apple) Scissors"],
            "Berryshine": ["Grape (and a Strawberry)"],
            "Big McIntosh": ["Green Apple"],
            "Bulk Biceps": ["Dumbbell", "Weight"],
            "Cadance": ["Diamond/Blue/Crystal Heart"],
            "Golden Harvest": ["Carrots"],
            "Celestia": ["Sun on White"],
            "Cheerilee": ["Three Flowers on Purple", "Happy Flowers"],
            "Cheese Sandwich": ["Cheese Sandwich", "Grilled Cheese", "Accordion"],
            "Cherry Jubilee": ["Cherry"],
            "Coco Pommel": ["(Fancy) Hat"],
            "Coloratura": ["Music Notes", "Notesplosion"],
            "Daisy": ["Two White Flowers", "Daisies"],
            "Daring Do": ["Compass"],
            "Derpy": ["Bubbles"],
            "Diamond Tiara": ["Tiara", "Crown"],
            "Double Diamond": ["Blue Flowers on White", "Snowflakes"],
            "Filthy Rich": ["Moneybags"],
            "Granny Smith": ["Pie"],
            "Hoity Toity": ["(Hand) Fan"],
            "Lightning Dust": ["Lightning (with Stars)"],
            "Lily": ["Three White Flowers on Pink"],
            "Luna": ["(Big) Moon"],
            "Lyra": ["Harp"],
            "Maud Pie": ["Rock"],
            "Mayor Mare": ["Diploma", "Scroll"],
            "Moon Dancer": ["Purple Moon"],
            "Ms. Harshwhinny": ["Trophy"],
            "Night Light": ["Double Moon"],
            "Nurse Redheart": ["Red Cross", "Hospital", "Nurse"],
            "Octavia Melody": ["Treble Clef", "Musical Clef"],
            "Rose": ["Rose"],
            "Screwball": ["Screwball"],
            "Shining Armor": ["Shield"],
            "Silver Shill": ["Contact Lenses", "Mirrors"],
            "Silver Spoon": ["Silver Spoon", "Cocktail Glass"],
            "Silverstar": ["Sheriff Badge", "Blue Star"],
            "Spoiled Rich": ["(Diamond) Ring"],
            "Starlight Glimmer": ["Wisp"],
            "Sunburst": ["Sunburst"],
            "Sunset Shimmer": ["Ying-Yang (Sun)"],
            "Suri Polomare": ["Buttons"],
            "Sweetie Drops": ["Candies", "Bon Bons"],
            "Thunderlane": ["Thunderstorm on Gray"],
            "Time Turner": ["Hourglass"],
            "Toe Tapper": ["White/Note Star"],
            "Tree Hugger": ["Tree Heart", "Heart Tree"],
            "Trenderhoof": ["Argyle Sweater"],
            "Trixie": ["Wand", "Star and Moon (on Blue)"],
            "Trouble Shoes": ["(Green) Horseshoe"],
            "Twilight Velvet": ["Purple Stars", "3 Purple Stars"],
            "Twist": ["Candy Canes", "Candy Cane Heart"],
            "Vinyl Scratch": ["Music Note", "Pair of (Beamed) Eighth Notes"],

            // New ponies
            "Mr. Carrot Cake": ["Three Cakes"],
            "Sunny Rays": ["Three Suns"],
            "Non-pony 1": ["Broom"],
            "Non-pony 2": ["Carrot in a Bun"],
            "Meadow Song": ["Guitar"],
            "Aunt Orange": ["Three Orange Slices"],
            "Hoops": ["Three Basket Balls"],
            "Lily Lace": ["Heart Ribbon"],
            "Ms. Peachbottom": ["Rooster"],
            "Plaid Stripes": ["Plaid Heart"],
            "Prim Hemline": ["Thread Scissors"],
            "Fleur Dis Lee": ["Three Fleurs-de-lis"],
            "Shooting Star": ["Constellation"],
            "Diamond Rose": ["(Big) Pink Diamond"],
            "Flim": ["Apple Slice"],
            "Non-pony 5": ["(Big) Fire"],
            "Banana Fluff": ["Three Diamonds on Yellow"],
            "Non-pony 8": ["Winged Box"],
            "Apple Strudel": ["Apple Strudel"],
            "Flax Seed": ["Blue Flower"],
            "Limestone Pie": ["Lime and Stones"],
            "Non-pony 4": ["Ripped Paper"],
            "Timber Spruce": ["Twigs and Compass Rose"],
            "Withers": ["Purple Explosion"],
            "Emerald Green": ["Four Emeralds"],
            "Cloud Kicker": ["Partially Cloudy", "Cloud and Sun"],
            "Pickpocket": ["(Blue) Sachel", "(Blue) Bag"],
            "Pinkie Pie": ["Three Balloons"],
            "Clear Skies": ["Clear Skies", "Sun and Two Clouds"],
            "Jet Set": ["Three Jets"],
            "Featherweight": ["Feather"],
            "Quick Trim": ["Locke and Scissors"],
            "Non-pony 10": ["Notepad"],
            "Horte Cuisine": ["Platter"],
            "Non-pony 13": ["Chess Pieces"],
            "Rockhoof": ["Three Triangles"],
            "Rogue": ["Four Symbols", "Swearing", "Censored"],
            "Twinkleshine": ["Three Stars"],
            "Sunshower": ["Rain", "Three Teardrops"],
            "Non-pony 9": ["Microphone"],
            "Fluffy Clouds": ["Three Clouds"],
            "Silver Spanner": ["Wrench", "Spanner"],
            "Bright Mac": ["(Green) Apple with Star"],
            "Sugarcoat": ["Firecracker"],
            "Non-pony 3": ["Peppermint"],
            "Gladmane": ["Coins"],
            "Beauty Brass": ["Bass Clef"],
            "Sunshower Raindrops": ["Curved Raindrops"],
            "All Aboard": ["Pocketwatch"],
            "White Lightning": ["Thunderstorm on White"],
            "Apple Bloom": ["Apple Shield"],
            "Screwy": ["Screw"],
            "Non-pony 6": ["Keychain"],
            "Sea Swirl": ["Dolphins"],
            "Noteworthy": ["Two Pairs of (Beamed) Eighth Notes"],
            "Mrs. Cup Cake": ["Three Cupcakes"],
            "Cozy Glow": ["Rook"],
            "": [""],
        };

        presumedModuleName = "Friendship";

        const nameSet = new Set();
        for (const symbolNames of Object.values(Names)) {
            for (const symbolName of symbolNames) {
                if (nameSet.has(symbolName)) {
                    console.warn("Duplicate symbol name:", symbolName);
                } else {
                    nameSet.add(symbolName);
                }
            }
        }

        var rows = [];
        function setRules(rnd)
        {
            var table = $("table");
            var row;

            for (const oldRow of rows) {
                oldRow.remove();
            }
            rows = [];

            // Add extra randomess
            for (var i = rnd.next(0, 10); i > 0; i--)
                rnd.nextDouble();

            var symbols = rnd.shuffleFisherYates(friendshipSymbols.slice(0));
            var currentSymbols = [];
            for (var index = 0; index < 56; index++) {
                currentSymbols.push(symbols[index]);
            }

            currentSymbols.sort();

            for (var index = 0; index < 56; index++) {
                var symbol = currentSymbols[index];
                if (index < 28) {
                    row = $("<tr>").appendTo(table);
                } else {
                    row = $("tr").eq(index - 27);
                    makeCell().addClass("borderless");
                }

                rows.push(row);

                function makeCell() {
                    return $("<td>").appendTo(row);
                }

                $(`<img class="fs" src="img/Friendship/${symbol}.png">`).appendTo(makeCell().attr("align", "center"));
                makeCell().html((Names[symbol] || ["Unknown"]).join("<br>"));
                makeCell().text(symbol);
            }
        }

        function setDefaultRules(rnd) { setRules(rnd); }
    </script>
</head>
<body><div class="section">
    <table class="borderless">
        <tr>
            <th>Cutie Mark</th>
            <th>Names</th>
            <th>Pony</th>
            <th class="borderless"></th>
            <th>Cutie Mark</th>
            <th>Names</th>
            <th>Pony</th>
        </tr>
    </table>
</div></body>
