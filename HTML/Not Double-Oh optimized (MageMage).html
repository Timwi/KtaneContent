<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Not Double-Oh — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src='js/ruleseed.js'></script>
    <script>
        function setDefaultRules(rnd)
        {
            setRules(rnd);
        }
        
        function setRules(rnd)
        {
            let pairs = [];
            for (let ix = 0; ix < 64; ix++) {
                pairs.push("ABCDEFGH".substring((ix / 8) | 0).substring(0, 1) + "ABCDEFGH".substring(ix % 8).substring(0, 1));
                console.log(pairs[ix]);
            }
            rnd.shuffleFisherYates(pairs);
            let num = "65455455";
            let tds = Array.from(document.querySelectorAll(`.not-double-oh td`));
            let tds2 = Array.from(document.querySelectorAll(`.numbers td`));
            for (let i = 0; i < 64; i++){
                tds[i].innerText = pairs[i];
                let charCode1 = pairs[i].charCodeAt(0)-65;
                let charCode2 = pairs[i].charCodeAt(1)-65;
                if (charCode1 == charCode2){
                  tds2[i].innerText = "!" + num.substring(charCode1, charCode1+1) + num.substring(charCode2, charCode2+1);
                }else{
                  tds2[i].innerText = num.substring(charCode1, charCode1+1) + num.substring(charCode2, charCode2+1);
                }
            }
        }
    </script>
    <style>
        .dark td img {
            filter: invert(87%);
        }
        .not-double-oh {
            font-size: 11.2pt;
            display: inline-block;
        }
        table.not-double-oh tr:nth-child(2n) td {
            border-bottom: 0.75mm solid;
        }
        table.not-double-oh td:nth-child(2n) {
            border-right: 0.75mm solid;
        }
        table.not-double-oh tr:nth-child(4n) td {
            border-bottom: 1.5mm solid;
        }
        table.not-double-oh td:nth-child(4n) {
            border-right: 1.5mm solid;
        }
        table.not-double-oh tr:nth-child(1) td {
            border-top: 1.5mm solid;
        }
        table.not-double-oh td:nth-child(1) {
            border-left: 1.5mm solid;
        }
        
        .numbers {
            font-size: 11pt;
        }
        table.numbers tr:nth-child(2n) td {
            border-bottom: 0.75mm solid;
        }
        table.numbers td:nth-child(2n) {
            border-right: 0.75mm solid;
        }
        table.numbers tr:nth-child(4n) td {
            border-bottom: 1.5mm solid;
        }
        table.numbers td:nth-child(4n) {
            border-right: 1.5mm solid;
        }
        table.numbers tr:nth-child(1) td {
            border-top: 1.5mm solid;
        }
        table.numbers td:nth-child(1) {
            border-left: 1.5mm solid;
        }

        .segment-diagram {
            float: right;
            clear: right;
            text-align: center;
            margin-left: 10px;
        }
        .segment-diagram img {
            width: 30px;
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Not Double-Oh</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Double-Oh.svg" class="diagram comp-diag">
                <h2>On the Subject of Not Double-Oh</h2>
                <p class="flavour-text">A module, please. Stirred, not shaken. Hang on...</p>
                <p>A Not Double-Oh module has four arrow buttons, a submit button, and a display which will initially appear blank. Pressing the submit button will activate the module.</p>
                <table class="segment-diagram">
                    <tr><th colspan='4'>Segment Appendix</th></tr>
                    <tr>
                        <td><img src="img/Not Double-Oh/SegA.svg"></td>
                        <td><img src="img/Not Double-Oh/SegB.svg"></td>
                        <td><img src="img/Not Double-Oh/SegC.svg"></td>
                        <td><img src="img/Not Double-Oh/SegD.svg"></td>
                    </tr>
                    <tr>
                        <td><img src="img/Not Double-Oh/SegE.svg"></td>
                        <td><img src="img/Not Double-Oh/SegF.svg"></td>
                        <td><img src="img/Not Double-Oh/SegG.svg"></td>
                        <td><img src="img/Not Double-Oh/SegH.svg"></td>
                    </tr>
                </table>
                <p>The display will then light up, and show a two-letter pair of letters A–H, indicating your position. The segments of the letters are scrambled.</p>
                <p>The four arrowed buttons have two functions each, based on whether the last digit of the timer is even or odd:</p>
                <ul>
                    <li>Toggling between the left or right half within the 2×2 subgrid</li>
                    <li>Toggling between the top or bottom half within the 2×2 subgrid</li>
                    <li>Toggling between the left or right half within the 4×4 subgrid</li>
                    <li>Toggling between the top or bottom half within the 4×4 subgrid</li>
                    <li>Toggling between the left or right half of the entire 8×8 grid</li>
                    <li>Toggling between the top or bottom half of the entire 8×8 grid</li>
                    <li>Flipping your position across the X-axis in entire 8×8 grid</li>
                    <li>Flipping your position across the Y-axis in entire 8×8 grid</li>
                </ul>
                <p>In this phase, you are freely allowed to press the arrow buttons. After determining the functionalities of each button, press the submit button.</p>
                <p>The display will now unshuffle, and cycle between eight two-letter pairs.</p>
                <p>The first pair in the sequence will indicate your starting position, and the next seven pairs indicate the next seven positions you need to get to in order. Press the submit button to enter the final phase.</p>
                <p>The display will show your current position. Navigate to the seven goal positions <em>in order</em>. Navigating to a cell that is not a goal position will incur a strike and return to the initial phase. The functions of each button will not reset upon a strike. Successfully navigating to all seven goal positions will disarm the module.</p>
                </div>
            <div class="page-footer relative-footer">Page 1 of 2</div>
        </div>
        <div class="page page-bg-05">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Not Double-Oh</span>
            </div>
            <div class="page-content">
                <div class="hstack center gap3">
                    <table class="not-double-oh">
                        <tr><td>45</td><td>55</td><td>45</td><td>55</td><td>64</td><td>56</td><td>65</td><td>55</td></tr>
                        <tr><td>55</td><td>55</td><td>54</td><td>55</td><td>54</td><td>44</td><td>44</td><td>55</td></tr>
                        <tr><td>46</td><td>54</td><td>45</td><td>65</td><td>55</td><td>65</td><td>54</td><td>45</td></tr>
                        <tr><td>56</td><td>55</td><td>65</td><td>44</td><td>54</td><td>56</td><td>66</td><td>56</td></tr>
                        <tr><td>64</td><td>54</td><td>55</td><td>45</td><td>55</td><td>55</td><td>54</td><td>55</td></tr>
                        <tr><td>45</td><td>55</td><td>55</td><td>65</td><td>55</td><td>55</td><td>46</td><td>55</td></tr>
                        <tr><td>56</td><td>55</td><td>55</td><td>55</td><td>54</td><td>55</td><td>45</td><td>45</td></tr>
                        <tr><td>54</td><td>45</td><td>44</td><td>55</td><td>55</td><td>55</td><td>54</td><td>45</td></tr>
                    </table>
                    <table class="numbers">
                        <tr><td>45</td><td>55</td><td>45</td><td>55</td><td>64</td><td>56</td><td>65</td><td>55</td></tr>
                        <tr><td>55</td><td>55</td><td>54</td><td>55</td><td>54</td><td>44</td><td>44</td><td>55</td></tr>
                        <tr><td>46</td><td>54</td><td>45</td><td>65</td><td>55</td><td>65</td><td>54</td><td>45</td></tr>
                        <tr><td>56</td><td>55</td><td>65</td><td>44</td><td>54</td><td>56</td><td>66</td><td>56</td></tr>
                        <tr><td>64</td><td>54</td><td>55</td><td>45</td><td>55</td><td>55</td><td>54</td><td>55</td></tr>
                        <tr><td>45</td><td>55</td><td>55</td><td>65</td><td>55</td><td>55</td><td>46</td><td>55</td></tr>
                        <tr><td>56</td><td>55</td><td>55</td><td>55</td><td>54</td><td>55</td><td>45</td><td>45</td></tr>
                        <tr><td>54</td><td>45</td><td>44</td><td>55</td><td>55</td><td>55</td><td>54</td><td>45</td></tr>
                    </table>
                </div>
                <p>The table on the left shows the letter pairs and their positions. The table on the right shows the amount of lit segments for said position.</p>
                <p>Additionally, should both letters be the same on the left table, that spot will be marked with an exclamation mark before the numbers. Should the display be showing two of the same letters then both sides of the display will always look the same even after scrambling. Note though, that a pair that has the same amount of lit segments can be randomized so that both sides will show the same thing, while the letters might actually differ. In other words, if the two letters are the same both sides are forced to show the same thing, but just because the two letters on the display are shown the same way, doesn't mean they are necessarily equal.</p>
            </div>
            <div class="page-footer relative-footer">Page 2 of 2</div>
        </div>
    </div>
</body>
</html>