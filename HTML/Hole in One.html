<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Hole in One — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/ruleseed.js"></script>
    <script>
        let RuleOne = [4, 2, 3, 12, 1, 8];
        let RuleTwo = [6, 3, 1, 4, 2, 9];
        let RuleThree = [7, 1, 6, 8, 13, 5];
        let RuleFour = [4, 2, 3, 12, 1, 8];
        let RuleFive = [12, 10, 18, 5, 7, 3];
        let LetterTable = ["V", "W", "F", "R", "T", "E", "U", "X", "D", "I", "O", "M", "P", "B", "Q", "J", "H", "N", "L", "Z", "C", "G", "Y", "A", "S"];
        
        function setDefaultRules() { WriteTable(); }
        
        function setRules(rnd) {
            let ShuffledLetters = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"];
            rnd.shuffleFisherYates(ShuffledLetters);
            for (let x = 0; x < 25; x++)
                LetterTable[x] = ShuffledLetters[x];
            for (let y = 0; y < 6; y++)
                RuleOne[y] = rnd.next(1,21);
            for (let y = 0; y < 6; y++)
                RuleTwo[y] = rnd.next(1,21);
            for (let y = 0; y < 6; y++)
                RuleThree[y] = rnd.next(1,21);
            for (let y = 0; y < 6; y++)
                RuleFour[y] = rnd.next(1,21);
            for (let y = 0; y < 6; y++)
                RuleFive[y] = rnd.next(1,21);
            WriteTable();
        }
        
        function WriteTable() {
            for (let x = 0; x < 6; x++)
                document.getElementsByClassName('row1')[0].getElementsByTagName('td')[x+1].innerHTML = RuleOne[x];
            for (let x = 0; x < 6; x++)
                document.getElementsByClassName('row1')[1].getElementsByTagName('td')[x+1].innerHTML = RuleTwo[x];
            for (let x = 0; x < 6; x++)
                document.getElementsByClassName('row1')[2].getElementsByTagName('td')[x+1].innerHTML = RuleThree[x];
            for (let x = 0; x < 6; x++)
                document.getElementsByClassName('row1')[3].getElementsByTagName('td')[x+1].innerHTML = RuleFour[x];
            for (let x = 0; x < 6; x++)
                document.getElementsByClassName('row1')[4].getElementsByTagName('td')[x+1].innerHTML = RuleFive[x];
            for (let x = 0; x < 25; x++)
                document.getElementsByClassName('row2')[Math.floor(x/5)].getElementsByTagName('td')[x%5].innerHTML = LetterTable[x];
        }
    </script>
    <style>
        .dark table, table {
            margin: 1em auto;
            border: none;
        }
        h1 {
            text-align: center;
        }
        .tab1 td:nth-child(1) {
            font-weight: bold;
            width: 45%;
        }
        .centered-img { width:40%; }
        text.big { font-size: 11px; }
        text.small { font-size: 6px; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Hole in One</span>
            </div>
            <div class="page-content">
                <img src="./img/Component/Hole in One.svg" class="diagram">
                <h2>On the Subject of Hole in One</h2>
                <p class="flavour-text">Why are sports becoming modules now?</p>
                <p>On the module, there will be a selection of clubs to start the module out. Press the arrows to cycle the golf clubs. The initial golf club position will be randomized.</p>
                <p>To find the correct club, use the number of solved modules in Table 1 as the column and go through the list of conditions. Each condition has a number associated with it. Add up the numbers for each true condition, modulo 5. Add 1 to the result. The result is the position of the club you must select. To lock in the club shown, press the circle in between the arrows. After selecting, proceed to the next paragraph.</p>
                <p>When at the golf ball selection screen, you are presented with 5 balls, with colors that have RGB components. Gather the primary colors of each ball. Count the number of balls that have "Red" on their color. Do the same with "Green" and "Blue". If any of the numbers you gathered is 0, change it to 1. You should have 3 different numbers in total. Multiply the 3 numbers together and gather its product. Modulo this number by 5, then add 1. Select the ball within that position. After selecting, proceed to the next paragraph.</p>
                <p>Now you’re ready to swing for a hole in one! To do so, use both numbers you got from the previous 2 selections. Let the first number be the column and the second number be the row and use them in Table 2. The letter you get will be decrypted in the following way: </p>
                <ol>
                    <li>Take the letter you got from the table and apply a Caesar shift on the gathered letter. If the last digit of the <b>Serial Number</b> is even, perform the shift forwards. Otherwise, perform the shift backwards. Use the number you gathered from <b>Table 1</b> as the amount of shift you must perform.</li>
                    <li>Take the caeser shifted letter and apply an Atbash cipher to the letter.</li>
                    <li>Convert the letter to its alphabetic position.</li>
                </ol>
                <p>After you find the power for the hole in one, hold the ball in the center of the module until the <b>Power</b> level matches the gathered result.</p>
                <p>If anything on the previous steps was performed incorrectly, you will not get a hole in one and the module will strike and reset to the start.</p>
                <p>If you get a hole in one, the module will solve.</p>

            </div>
            <div class="page-footer relative-footer">Page 1 of 2</div>
        </div>
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Hole in One</span>
            </div>
            <div class="page-content">
                <h1><u>Table 1</u></h1>
                <table class="tab1">
                    <tr><th class="corner"></th><th>0–3</th><th>4–6</th><th>7–9</th><th>10–12</th><th>13–15</th><th>16+</th></tr>
                    <tr class="row1">
                        <td># of Lit indicators &gt; # of Unlit indicators.</td>
                        <td></td><td></td><td></td><td></td><td></td><td></td>
                    </tr>
                    <tr class="row1">
                        <td># of Ports &gt; # batteries.</td>
                        <td></td><td></td><td></td><td></td><td></td><td></td>
                    </tr>
                    <tr class="row1">
                        <td># of solved modules % 10 is part of the Serial Number.</td>
                        <td></td><td></td><td></td><td></td><td></td><td></td>
                    </tr>
                    <tr class="row1">
                        <td>Serial Number has a vowel</td>
                        <td></td><td></td><td></td><td></td><td></td><td></td>
                    </tr>
                    <tr class="row1">
                        <td>Nothing applies.</td>
                        <td></td><td></td><td></td><td></td><td></td><td></td>
                    </tr>
                </table>
                <h1><u>Table 2</u></h1>
                <table>
                    <tr><th class="corner"></th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th></tr>
                    <tr class="row2"><th>1</th><td></td><td></td><td></td><td></td><td></td></tr>
                    <tr class="row2"><th>2</th><td></td><td></td><td></td><td></td><td></td></tr>
                    <tr class="row2"><th>3</th><td></td><td></td><td></td><td></td><td></td></tr>
                    <tr class="row2"><th>4</th><td></td><td></td><td></td><td></td><td></td></tr>
                    <tr class="row2"><th>5</th><td></td><td></td><td></td><td></td><td></td></tr>
                </table>
                <p class="caption">Color Guide</p>
                <svg viewbox="0 -5 100 100" text-anchor="middle" class="centered-img">
                    <circle cx="50" cy="29.333" r="29.95" fill="#E84F4F"/>
                    <circle cx="67.898" cy="60.333" r="29.95" fill="#4FE85C"/>
                    <circle cx="32.102" cy="60.333" r="29.95" fill="#4868E8"/>
                    <path d="M20.2 32.795 A30 30 0 0 1 61.902 56.871 A30 30 0 0 1 20.2 32.795" fill="#D04FE7"/>
                    <path d="M79.8 32.795 A30 30 0 0 1 38.098 56.871 A30 30 0 0 1 79.8 32.795" fill="#E8E64F"/>
                    <path d="M50 84.409 A30 30 0 0 1 50 36.257 A30 30 0 0 1 50 84.409" fill="#4FE8D1"/>
                    <path d="M50 36.257 A30 30 0 0 1 61.902 56.871 A30 30 0 0 1 38.098 56.871 A30 30 0 0 1 50 36.257" fill="#F8F4EE"/>
                    <text class="big" x="50" y="18">Red</text>
                    <text class="big" x="20" y="70">Blue</text>
                    <text class="big" x="80" y="70">Green</text>
                    <text class="small" x="33.5" y="38">Magenta</text>
                    <text class="small" x="67" y="38">Yellow</text>
                    <text class="small" x="50" y="70">Cyan</text>
                    <text class="small" x="50" y="51">White</text>
                </svg>
            </div>
            <div class="page-footer relative-footer">Page 2 of 2</div>
        </div>
    </div>
</body>
</html>