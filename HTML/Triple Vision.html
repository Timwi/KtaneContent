<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Triple Vision — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.7.0.min.js"></script>
    <script src="js/Utilities/svg-utils.js"></script>
    <script>
    $(function() {
        $(".pale").click(function() {
            $(this).toggleClass("darker");
            $(".wash").toggleClass("active");
        });
        const rows = 12;
        const cols = 8;
        let h = 66.3;
        let w = 66.3;
        let svg = $(".img-holder svg");
        for (let yy = 0; yy < rows; yy++) {
            for (let xx = 0; xx < cols; xx++) {
                let cell = MakeSvgElem("rect", {
                    class: "highlightable", x:(xx*w + 4), y:(yy*h + (yy > 7 ? 26 : 4)),
                    width:w, height:h, fill:"transparent"
                });
                svg.append(cell);
            }
        }
    });
    </script>
    <style>
        .centered-img { width: 80%; }
        .img-holder {
            position: relative;
            width: 80%;
        }
        .img-holder img, .img-holder svg {
            position: absolute;
            left: 0; top: 0;
            width: 100%;
        }
        svg rect.wash.active { fill: #00000099; }
        button.pale:not(.darker)::after {
            content: "Full Color";
        }
        button.pale.darker::after {
            content: "Darker";
        }
        .bottom {
            position: absolute;
            bottom: 10px;
            left: 40%;
            width: 100%;
        }
        .page-content { position: relative; }
        button {
            font-family: Special Elite;
            background-color: white;
            color: black;
            font-size: 18px;
            width: 125px;
            border-radius: 5px;
            border: black 3px solid;
            padding: 7px 10px 5px;
            transition: color 1s, background-color 1s;
            margin: 2.5px;
        }
        button:hover {
            background-color: black;
            color: white;
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Triple Vision</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Triple Vision.svg" class="diagram">
                <h2>On the Subject of Triple Vision</h2>
                <p class="flavour-text">I went to my optometrist and he told me I have 20/20/20 vision. Is this that third eye I keep hearing about?</p>

                <p>On the module is an 8×8 grid of RGBCMYWK color panels. This “image” is actually an XOR of three of the images below. To solve the module, correctly identify all three images.</p>
                <p>To XOR two images, simply XOR the color channel values of each pixel on the first image with the pixel at the same position on the second image.</p>
                <p>Ex: A1 on image 1 is red; A1 on image 2 is magenta; 100 ⊻ 101 = 001; the resulting image is blue on A1. </p>
                <p>To XOR three images, simply XOR any two of the images, then XOR the result with the remaining image.</p>
                <p>Once all three images have been identified, take each image’s position in reading order in the chart below, add them together, and count that many cells on the module in reading order, wrapping around if necessary.</p>

            </div>
            <div class="page-footer relative-footer">Page 1 of 2</div>
        </div>
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Triple Vision</span>
            </div>
            <div class="page-content">
                <div class="img-holder centered-img">
                    <img src="img/Triple Vision/tripleVisionGrid8.png">
                    <svg viewbox="0 0 538 826" xmlns="http://www.w3.org/2000/svg">
                        <rect x="0" y="0" width="538" height="826" fill="transparent" class="wash"/>
                    </svg>
                </div>
                <div class="bottom">
                    <button class="pale"></button>
                </div>
            </div>
            <div class="page-footer relative-footer">Page 2 of 2</div>
        </div>
    </div>
</body>
</html>