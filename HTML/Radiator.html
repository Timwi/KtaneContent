<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Radiator â€” Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src='js/ruleseed.js'></script>
    <script>
        function setRules(rnd)
        {
            var LitIndicators = rnd.shuffleArray(["FRK", "BOB", "CAR", "CLR", "FRQ", "IND", "MSA", "NLL", "NSA", "SIG", "SND", "TRN"]);
            var UnlitIndicators = rnd.shuffleArray(["BOB", "NSA", "FRQ", "MSA", "FRK", "CAR", "CLR", "IND", "NLL", "SIG", "SND", "TRN"]);
            var SerialString;
            var possibleChars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split('');
            var chars = new Array(8);
            for (var i = 0; i < chars.length; i++)
            {
                var character = possibleChars[rnd.next(0, possibleChars.length)];
                while (chars.includes(character))
                {
                    character = possibleChars[rnd.next(0, possibleChars.length)];
                }
                chars[i] = character;
            }
            SerialString = chars.join('');
            var TempMultiplier = rnd.next(5, 16, true);
            var BatteryAddAmount = rnd.next(0, 8, true);
            var BatterySubtractAmount = rnd.next(0, 7, true);
            var UnicornTempAmount = rnd.next(0, 100, true);
            var DivideAmount = rnd.next(2, 6, true);
            var UnicornWaterAmount = rnd.next(1, 100, true);
            var BatteryOrder = rnd.shuffleArray(["D battery", "holder with two AA batteries", "holder with three AA batteries", "holder with four AA batteries", "empty battery holder"]);
            var PortOrder = rnd.shuffleArray(["an RJ-45", "an HDMI", "a Parallel", "an AC", "a Component Video", "a Composite Video", "a DVI-D", "a PCMCIA", "a PS/2", "a Serial", "a Stereo RCA", "a USB", "a VGA"]);
            var GeneralAmounts = rnd.shuffleArray([50, 20, 40, 10, 2, 25, 1]);

            document.getElementsByClassName('UnicornIndicator1')[0].innerText = LitIndicators[0];
            document.getElementsByClassName('UnicornIndicator2')[0].innerText = LitIndicators[1];
            document.getElementsByClassName('UnicornTempAmount')[0].innerText = UnicornTempAmount;
            document.getElementsByClassName('UnicornWaterAmount')[0].innerText = UnicornWaterAmount;
            document.getElementsByClassName('SerialChars')[0].innerText = SerialString;
            document.getElementsByClassName('TempMultiplier')[0].innerText = TempMultiplier;
            document.getElementsByClassName('Batteries1')[0].innerText = BatteryOrder[1];
            document.getElementsByClassName('BatteryAddAmount')[0].innerText = BatteryAddAmount;
            document.getElementsByClassName('Batteries2')[0].innerText = BatteryOrder[0];
            document.getElementsByClassName('BatterySubtractAmount')[0].innerText = BatterySubtractAmount;
            document.getElementsByClassName('DivideAmount')[0].innerText = DivideAmount;
            document.getElementsByClassName('Port1')[0].innerText = PortOrder[0];
            document.getElementsByClassName('GeneralAmount1')[0].innerText = GeneralAmounts[0];
            document.getElementsByClassName('GeneralAmount2')[0].innerText = GeneralAmounts[1];
            document.getElementsByClassName('GeneralAmount3')[0].innerText = GeneralAmounts[2];
            document.getElementsByClassName('GeneralAmount4')[0].innerText = GeneralAmounts[3];
            document.getElementsByClassName('GeneralAmount5')[0].innerText = GeneralAmounts[4];
            document.getElementsByClassName('GeneralAmount6')[0].innerText = GeneralAmounts[5];
            document.getElementsByClassName('GeneralAmount7')[0].innerText = GeneralAmounts[6];
            document.getElementsByClassName('UnlitIndicator1')[0].innerText = UnlitIndicators[0];
            document.getElementsByClassName('UnlitIndicator2')[0].innerText = UnlitIndicators[1];
            document.getElementsByClassName('UnlitIndicator3')[0].innerText = UnlitIndicators[2];
            document.getElementsByClassName('UnlitIndicator4')[0].innerText = UnlitIndicators[3];
            document.getElementsByClassName('UnlitIndicator5')[0].innerText = UnlitIndicators[4];
        }

        function setDefaultRules()
        {
            var list = document.getElementsByClassName('rule');
            for (var i = 0; i < list.length; i++)
                list[i].innerText = list[i].getAttribute('data-original');
        }
    </script>
    <style>
        table {
            margin-top: 1em;
        }
        .SerialChars { font-family: 'Roboto Mono'; }
        .sh td {
            padding: .2em .6em 0;
            line-height: 1.2;
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Radiator</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Radiator.svg" class="diagram">
                <h2>On the Subject of Radiator</h2>
                <p class="flavour-text">
                    Is it me or is it getting hot in here?
                </p>

                <p>This module has 2 stages. The temperature stage and the water stage. You will need to keep the value of the temperature stage to work out the value of the water stage.</p>
                <p>Submit the temperature stage before the water stage. If you make a mistake, press the reset button.</p>
                <p>If the number is not correct for that stage, a strike will be given, and the module must be started over.</p>
                <p><strong>HOWEVER</strong>, if a lit <span class='rule UnicornIndicator1' data-original='FRK'>FRK</span> indicator and a lit <span class='rule UnicornIndicator2' data-original='BOB'>BOB</span> indicator are present, submit <span class='rule UnicornTempAmount' data-original='13'>13</span> for the temperature and <span class='rule UnicornWaterAmount' data-original='37'>37</span> for the water.</p>
                <p>If a number is greater than 99, only use the last two digits of the number.</p>

                <table>
                    <tr>
                        <td>
                            <strong><em>Temperature</em></strong><br>
                            Starting at 0, if the serial number contains one or more of the letters and numbers: <span class='rule SerialChars' data-original='RADI4T07'>RADI4T07</span>, add <span class='rule TempMultiplier' data-original='10'>10</span> for every occurrence of each letter or number.<br>
                            For every <span class='rule Batteries1' data-original='pair of AA batteries'>pair of AA batteries</span>, add <span class='rule BatteryAddAmount' data-original='5'>5</span> to the number.<br>
                            For every <span class='rule Batteries2' data-original='D battery'>D battery</span>, take <span class='rule BatterySubtractAmount' data-original='5'>5</span> away from the number.<br>
                            If you end up with a negative number after you have applied these rules then multiply by -1.<br>
                            Submit the number and keep the answer for the water stage.<br>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong><em>Water</em></strong><br>
                            Take the number you got for the temperature and divide it by <span class='rule DivideAmount' data-original='3'>3</span>.<br>
                            If the number is not a whole number, only take the integer part of the number.<br>
                            If there is <span class='rule Port1' data-original='an RJ-45'>an RJ-45</span> port, add <span class='rule GeneralAmount1' data-original='50'>50</span> to the number.<br>
                            If there are any lit indicators, add <span class='rule GeneralAmount2' data-original='20'>20</span> to the number.<br>
                            If there are any unlit indicators, follow the table for unlit indicators below.<br>
                            At the end if you receive a negative number multiply by -1.<br>
                            Submit this number.<br>
                        </td>
                    </tr>
                </table>

                <table class="sh">
                    <tr>
                        <td>
                            <strong><em>Unlit indicators table</em></strong><br>
                            <span class='rule UnlitIndicator1' data-original='BOB'>BOB</span> --&gt; +<span class='rule GeneralAmount3' data-original='40'>40</span><br>
                            <span class='rule UnlitIndicator2' data-original='NSA'>NSA</span> --&gt; -<span class='rule GeneralAmount4' data-original='10'>10</span><br>
                            <span class='rule UnlitIndicator3' data-original='FRQ'>FRQ</span> --&gt; +<span class='rule GeneralAmount5' data-original='2'>2</span><br>
                            <span class='rule UnlitIndicator4' data-original='MSA'>MSA</span> --&gt; +<span class='rule GeneralAmount6' data-original='25'>25</span><br>
                            <span class='rule UnlitIndicator5' data-original='FRK'>FRK</span> --&gt; -<span class='rule GeneralAmount7' data-original='1'>1</span><br>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="page-footer relative-footer">Page 1 of 1</div>
        </div>
    </div>
</body>
</html>
