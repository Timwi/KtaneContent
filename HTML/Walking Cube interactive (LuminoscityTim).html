<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Walking Cube — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.1.1.min.js"></script>
    <script src="js/ruleseed.js"></script>
    <style>
        .hstack {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
        }
        .vstack {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .wrap {
            flex-wrap: wrap;
        }

        .dark .wc-color-table, .wc-color-table {
            min-width: 350px;
            border: 0;
        }
        .dark .wc-table, .wc-table {
            min-width: 300px;
            border: 0;
            transition: transform 0.5s;
            transform: scaleX(-1);
        }

        .wc-color-table td {
            border: 0;
            font-size: 30px;
            position: relative;
            width: 73.5px;
            height: 73.5px;
            text-align: center;
            padding: 0;
        }
        .wc-table td {
            border: 0;
            position: relative;
            width: 60px;
            height: 60px;
            text-align: center;
            padding: 0;
        }

        .obstruction {
            width: 100%;
            height: 100%;
            position: absolute;
            margin: auto;
            top: 0; bottom: 0;
            left: 0; right: 0;
        }
        .invisible {
            visibility: hidden;
        }

        div.netsquare {
            position: absolute;
            margin: auto;
            top: 0; bottom: 0;
            left: 0; right: 0;
            display: inline-block;
            vertical-align: bottom;
            width: 1.17cm;
            height: 1.17cm;
            border: none;
            transform: scaleX(-1);
        }
        .wc-table td .facediv > div {
            position: static;
            display: inline-block;
            vertical-align: bottom;
            width: 1.3cm;
            height: 1.3cm;
            border: none;
        }
        .wc-color-table td .facediv > div {
            position: static;
            display: inline-block;
            vertical-align: bottom;
            width: 1.6cm;
            height: 1.6cm;
            border: none;
        }

        .wc-table th, .wc-color-table th {
            font-size: 15px;
            border: 0;
        }
        .wc-table th {
            transform: scaleX(-1);
            transition: transform 0.5s;
        }
        .wc-table td.bordered {
            border: 1px solid black;
        }

        .wc-table .facediv, .wc-color-table .facediv {
            box-sizing: border-box;
            border: 0px solid red;
        }
        .wc-table .facediv {
            width: 60px;
            height: 60px;
        }
        .wc-color-table .facediv {
            width: 73.5px;
            height: 73.5px;
        }

        .wc-color-table .facediv.chosen {
            border-width: 6.5px;
            border-style: dashed;
            border-color: #200;
            border-radius: 0;
        }

        svg.net-img2, svg.net-img3 {
            transition: transform 0.5s;
        }
        svg.net-img2 {
            margin-top: 50px;
            height: 265px;
        }
        svg.net-img3 {
            transform-origin: 50% 50%;
            margin-top: 43px;
            width: 163px;
            height: 227px;
        }
        .colorbutton { color: black; }
        .square.red, td.red, .colorbutton.red, .bg-red { background-color: hsl(0, 75%, 75%); }
        .square.green, td.green, .colorbutton.green, .bg-green { background-color: hsl(120, 75%, 75%); }
        .square.blue, td.blue, .colorbutton.blue, .bg-blue { background-color: hsl(220, 75%, 75%); }
        .square.cyan, td.cyan, .colorbutton.cyan, .bg-cyan { background-color: hsl(180, 75%, 75%); }
        .square.magenta, td.magenta, .colorbutton.magenta, .bg-magenta { background-color: hsl(300, 75%, 75%); }
        .square.yellow, td.yellow, .colorbutton.yellow, .bg-yellow { background-color: hsl(60, 75%, 75%); }
        .square.white, td.white, .colorbutton.white, .bg-white { background-color: #ffffff; }
        .square.orange, td.orange, .colorbutton.orange, .bg-orange { background-color: hsl(31, 75%, 75%); }
        .square.black, td.black { background-color: black; }
        .colorbutton.black { background: black; color: white; }
        .bg-gray { background-color: hsl(0, 0%, 75%); }

        td.red > .facediv, td.green > .facediv, td.blue > .facediv, td.cyan > .facediv, td.magenta > .facediv,
        td.yellow > .facediv, td.white > .facediv, td.orange > .facediv, .wc-color-table td > .facediv {
            border: 1px solid black;
        }

        .obstruction.red { background-color: hsla(0, 75%, 75%, 81%); }
        .obstruction.green { background-color: hsla(120, 75%, 75%, 81%); }
        .obstruction.blue { background-color: hsla(220, 75%, 75%, 81%); }
        .obstruction.cyan { background-color: hsla(180, 75%, 75%, 81%); }
        .obstruction.magenta { background-color: hsla(300, 75%, 75%, 81%); }
        .obstruction.yellow { background-color: hsla(60, 75%, 75%, 81%); }
        .obstruction.white { background-color: hsla(0, 100%, 100%, 81%); }
        .obstruction.orange { background-color: hsla(31, 75%, 75%, 81%); }

        .netshape.red { fill: hsl(0, 75%, 75%); }
        .netshape.green { fill: hsl(120, 75%, 75%); }
        .netshape.blue { fill: hsl(220, 75%, 75%); }
        .netshape.cyan { fill: hsl(180, 75%, 75%); }
        .netshape.magenta { fill: hsl(300, 75%, 75%); }
        .netshape.yellow { fill: hsl(60, 75%, 75%); }
        .netshape.white { fill: #ffffff; }
        .netshape.orange { fill: hsl(31, 75%, 75%); }

        .face, .stamp {
            border-radius: .1cm;
        }
        .face {
            position: absolute;
            width: 1.8cm;
            height: 1.8cm;
            background-size: 16cm 19.2cm;
            margin: auto;
            right: 0;
            bottom: 0;
        }
        .stamp {
            background-size: 12.8cm 15.36cm;
        }
        .netsquare {
            background-size: 11.528cm 13.824cm;
        }

        .face, .stamp, .netsquare {
            left: 0;
            top: 0;
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1440"><path d="M175 10l-20 20v20l10 10v10l-30 30 10 10 30-30h20l30-30V30l-10-10h-10l-10-10zm20 10l20 20v10l-20 20h-10l-20-20h10l20-20zm504.8 949.9a10 10 0 0 0-8.1 4.6l-13.4 20A40 40 0 0 0 660 990a40 40 0 0 0-18.3 4.5l-13.4-20a10 10 0 0 0-8.4-4.6 10 10 0 0 0-8.2 15.6l15 22.5a40 40 0 0 0-6.7 22 40 40 0 0 0 40 40 40 40 0 0 0 40-40 40 40 0 0 0-6.6-22l15-22.5a10 10 0 0 0-8.6-15.6zM780 1090a50 50 0 0 0-50 50h50v20a10 10 0 0 1-15 8.7 10 10 0 0 1-5-8.7 10 10 0 1 0-20 0 30 30 0 0 0 60 0v-20h30a50 50 0 0 0-50-50zM20 1220v80h80v-80zm40 10h30v30H60zm140-20a30 30 0 0 0-27 43l-40 40a10 10 0 1 0 14 14l40-40a30 30 0 1 0 13-57zm20 220v-10h-30l40-40-50-50-50 50 40 40h-30v10zm80-220a20 20 0 0 0 0 40 20 20 0 0 0 0-40zm0 40a30 30 0 0 0 0 60 30 30 0 0 0 0-60zm0 10a20 20 0 0 1 0 40 20 20 0 0 1 0-40zM60 1090a50 50 0 0 0 0 100 50 50 0 0 0 0-100zm0 10a40 40 0 0 1 40 40H20a40 40 0 0 1 40-40zm190 230h100l-40 40v60h-20v-60zm-70-240l-50 100h100zM60 1330l-50 50h100zm0 50l-50 50h100zm320-160v30h50v50h30v-80zm40-130l-6.4 51.3-19.5-47.9 7.1 51.2-31.2-41.2c15 31.6 25 51.6 25 86.6h50c0-35 10-55 25-86.6l-31.2 41.3 7-51.3-19.4 48zm-119.1 0a30 30 0 0 0-30.9 30 30 30 0 0 0 60 0 30 30 0 0 0-29.1-30zm-40.9 70v30h80v-30zm-220-90h40c-10-5-15-10-15-30 0 0 0 10 15 10s25-10 25-25c0-20-40-35-45-55-5 20-45 35-45 55 0 15 10 25 25 25s15-10 15-10c0 20-5 25-15 30zm140-100a25 25 0 0 0-25 25 25 25 0 0 0 5.5 15.6 25 25 0 0 0-5.5-.6 25 25 0 0 0-25 25 25 25 0 0 0 25 25 25 25 0 0 0 19.3-9.1c-1.7 11.2-6.4 15.2-14.3 19.1h40c-7.9-4-12.6-7.9-14.3-19.1a25 25 0 0 0 19.3 9.1 25 25 0 0 0 25-25 25 25 0 0 0-25-25 25 25 0 0 0-5.5.7A25 25 0 0 0 205 995a25 25 0 0 0-25-25zm120 100c10-20 45-50 45-80 0-10-10-20-20-20-5 0-20 0-25 20-5-20-20-20-25-20-10 0-20 10-20 20 0 30 35 60 45 80zm158.3-17.9a50 50 0 0 1-55.4 14.9 50 50 0 0 1-32.9-47 50 50 0 0 1 32.9-47 50 50 0 0 1 55.4 14.9L420 1020zM60 850l-50 50h30v50h40v-50h30zm119.8.3a12 12 0 0 0-11.8 12.2v41l-35.6 20.6a12 12 0 1 0 12 20.8l35.6-20.6 35.6 20.6a12 12 0 1 0 12-20.8L192 903.5v-41a12 12 0 0 0-12.2-12.2zM250 860v40l20-10v60h60v-60l20 10v-40l-30-10a20 20 0 0 1-40 0zm170 470a40 40 0 0 0-40 40v45h20v-45a20 20 0 0 1 20-20 20 20 0 0 1 20 20v45h20v-45a40 40 0 0 0-40-40zm-40 90v10h20v-10zm60 0v10h20v-10zm-20-569.7l12.3 38h40L440 911.7l12.4 38-32.3-23.5-32.3 23.5 12.4-38-32.4-23.4h40zm120-.3l-50 50h20v50h30v-35h20v35h10v-50h20l-25-25v-20h-10v10zm-22.5 65h15v15h-15zm37.7 54.8a15 15 0 0 0-12.4 6.5l-50 70a15 15 0 1 0 24.4 17.4l50-70a15 15 0 0 0-12-23.9zm9.8 50.2a25 25 0 0 0-25 25 25 25 0 0 0 25 25 25 25 0 0 0 25-25 25 25 0 0 0-25-25zm-25 70a20 20 0 0 0-20 20 20 20 0 0 0 12.5 18.5v5.1l-23.7 4a7.5 7.5 0 1 0 2.4 14.8l21.3-3.5v3.8l-18.7 28.1a7.5 7.5 0 1 0 12.4 8.4l13.8-20.7 13.8 20.7a7.5 7.5 0 1 0 12.4-8.4l-18.7-28v-4l21.3 3.6a7.5 7.5 0 1 0 2.4-14.8l-23.7-4v-5A20 20 0 0 0 560 1110a20 20 0 0 0-20-20zm30 120a20 20 0 0 0-20 20 20 20 0 0 0 20 20 20 20 0 0 0 20-20 20 20 0 0 0-20-20zm-55 10a25 25 0 0 0-25 25 25 25 0 0 0 25 25 25 25 0 0 0 25-25 25 25 0 0 0-25-25zm-25 60v30h100v-30zm50 50a50 50 0 0 0-50 50 50 50 0 0 0 50 50 50 50 0 0 0 27.5-8.3l5.4 5.4a10 10 0 1 0 14.2-14.2l-5.4-5.3a50 50 0 0 0 8.3-27.6 50 50 0 0 0-50-50zm0 20a30 30 0 0 1 30 30 30 30 0 0 1-3 12.9l-10-10a10 10 0 0 0-7.1-3 10 10 0 0 0-7 17.2l10 10a30 30 0 0 1-12.9 2.9 30 30 0 0 1-30-30 30 30 0 0 1 30-30zm80-10h80l-80 80zm40-130l-25 50h50zm25 50l-25 50h50zm-25 50l-25-50-25 50zm-2.5-220a42 42 0 0 0-29.6 13 10 10 0 1 0 14.2 14c5.9-5.9 10.1-7 15.4-7a15 15 0 0 1 8.9 3.5c2.5 2.1 3.6 4.5 3.6 6.5 0 4-.8 6.6-2.4 8.8a19.3 19.3 0 0 1-9.5 6.2c-4.8 2-8 5.8-8.1 10v10a10 10 0 1 0 20 0v-3.3a36.8 36.8 0 0 0 13.7-11 34.6 34.6 0 0 0 6.3-20.7c0-9-4.7-16.6-10.7-21.8-6-5-13.6-8.2-21.8-8.2zm2.5 80a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm0-320l-43.3 25v50l43.3 25 43.3-25v-50zm-31.2 32l31.2 18 31.2-18v36L660 936l-31.2-18zM780 1330l-10 20 10 30 10-30zm0 50l31-6.3 12.3-18.7-22.3 1.3zm0 0l21 23.7 22.3 1.3-12.3-18.7zm0 0c-10 30-13.3 33.3-20 50h40l-20-50zm0 0l-31 6.3-12.3 18.7 22.3-1.3zm0 0l-21-23.7-22.3-1.3 12.3 18.7zm-30-170a20 20 0 0 0-20 20 20 20 0 0 0 20 20 20 20 0 0 0 20-20 20 20 0 0 0-20-20zm60 0a20 20 0 0 0-20 20 20 20 0 0 0 20 20 20 20 0 0 0 20-20 20 20 0 0 0-20-20zm-47.5 45a15 15 0 0 0-15 15 15 15 0 0 0 15 15 15 15 0 0 0 15-15 15 15 0 0 0-15-15zm35 0a15 15 0 0 0-15 15 15 15 0 0 0 15 15 15 15 0 0 0 15-15 15 15 0 0 0-15-15zm-17.5 35a10 10 0 0 0-10 10 10 10 0 0 0 10 10 10 10 0 0 0 10-10 10 10 0 0 0-10-10zm-50-310v10h100v-10zm0 20v20h100v-20zm0 30v30h100v-30zm10-170v66.3l69.3-26A80 80 0 0 0 740 860zm69.4 40.5L762 940h58a80 80 0 0 0-10.6-39.5zM850 1330v40h20v20h20v20h20v20h40v-20h-20v-20h-20v-20h-20v-20h-20v-20zm10-30h80l-20-80h-40zm5-210v100h20v-35h50v-65zm20 20h30v25h-30zm15-140a50 50 0 0 0-32.1 11.7L900 1020l32.1-38.3a50 50 0 0 0-32-11.7zm0 50l17.1 47a50 50 0 0 0 32.1-55.7zm0 0l-49.2-8.7a50 50 0 0 0 32.1 55.7zm-50-170v50a50 50 0 0 0 25 43.3 50 50 0 0 0 50 0 50 50 0 0 0 25-43.3v-50l-30 40-20-40-20 40zM180 730l30 30-10 40 20 30h-80l20-30-10-40zm170 0c-31 0-50 18-70.8 40H270l-20 20h10l30 30v10l20-20v-9.2c22-20.9 40-39.9 40-70.8zm-90 70c-10 10-10 20-10 30 10 0 20 0 30-10zm160-60a50 50 0 0 0-50 50h20v30h60v-30h20a50 50 0 0 0-50-50zm119.3-5.4a23 23 0 0 0-32.5 0l-8.2 8.1a23 23 0 0 0 0 32.5 23 23 0 0 0 32.6 0l32.5 32.6-8.1 8.1 16.2 16.3 16.3-16.3-48.8-48.8a23 23 0 0 0 0-32.5zM780 730l-30 40v60h20v-30a10 10 0 0 1 10-10 10 10 0 0 1 10 10v30h20v-60zm-130 0v40a10 10 0 0 0-10 10v50h40v-50a10 10 0 0 0-10-10v-40zm250 0a30 30 0 0 0-30 30 30 30 0 0 0 30 30 30 30 0 0 0 30-30 30 30 0 0 0-30-30zm-38 17.5a50 50 0 0 0-12 32.5 50 50 0 0 0 50 50 50 50 0 0 0 50-50 50 50 0 0 0-12-32.5 40 40 0 0 1 2 12.5 40 40 0 0 1-40 40 40 40 0 0 1-40-40 40 40 0 0 1 2-12.5zM140 610l-10 90h5a20 20 0 0 1 40 0h10a20 20 0 1 1 40 0h5l-10-90zm10 10h30v45h-35zm5 70a10 10 0 0 0-10 10 10 10 0 0 0 10 10 10 10 0 0 0 10-10 10 10 0 0 0-10-10zm50 0a10 10 0 0 0-10 10 10 10 0 0 0 10 10 10 10 0 0 0 10-10 10 10 0 0 0-10-10zm945-200c-22 0-40 18-40 40v1.8a30 30 0 0 0-20 28.2 30 30 0 0 0 30 30 30 30 0 0 0 30-30 30 30 0 0 0-20-28.3V530c0-11.2 8.8-20 20-20s20 8.8 20 20v60h20v-60c0-22-18-40-40-40zm-30 60a10 10 0 0 1 10 10 10 10 0 0 1-10 10 10 10 0 0 1-10-10 10 10 0 0 1 10-10zm20 180a30 30 0 0 0-30 30v10h-20v20h40v-30a10 10 0 0 1 20 0v30h40v-20h-20v-10a30 30 0 0 0-30-30zm-50 80v20h100v-20zM310 610v10h23l-18.5 18.4A40 40 0 0 0 290 630a40 40 0 0 0-40 40 40 40 0 0 0 40 40 40 40 0 0 0 40-40 40 40 0 0 0-8.4-24.5l18.4-18.4V650h10v-40h-10zm-20 30a30 30 0 0 1 30 30 30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30zM89.6 609.8a20 20 0 0 0-13.7 6l-46.5 46.5 28.3 28.3 46.4-46.5a20 20 0 0 0-14.5-34.3zm-67.3 59.6l-6.4 6.5A20 20 0 1 0 44 704l6.5-6.4zM970 250v100h20v-50h20v12.7a20 20 0 0 0-10 17.3 20 20 0 0 0 20 20 20 20 0 0 0 20-20 20 20 0 0 0-10-17.3V300h20v50h20V250h-20v30h-20v-30h-20v30h-20v-30zm50 70a10 10 0 0 1 10 10 10 10 0 0 1-10 10 10 10 0 0 1-10-10 10 10 0 0 1 10-10zM420 610a30 30 0 0 0-30 30 30 30 0 0 0 25 29.6V680h-20v10h20v20h10v-20h20v-10h-20v-10.5a30 30 0 0 0 25-29.5 30 30 0 0 0-30-30zm0 10a20 20 0 0 1 20 20 20 20 0 0 1-20 20 20 20 0 0 1-20-20 20 20 0 0 1 20-20zm550-250v30a50 50 0 0 0 40 49v21h20v-21a49.9 49.9 0 0 0 40-49v-30h-20v30a30 30 0 0 1-20 28.3V370h-20v58.3a30 30 0 0 1-20-28.3v-30zM660 610a50 50 0 0 0-50 50 50 50 0 0 0 50 50 50 50 0 0 0 50-50 50 50 0 0 0-50-50zm-25 50a15 15 0 0 1 15 15 15 15 0 0 1-15 15 15 15 0 0 1-15-15 15 15 0 0 1 15-15zm50 0a15 15 0 0 1 15 15 15 15 0 0 1-15 15 15 15 0 0 1-15-15 15 15 0 0 1 15-15zm95-50a50 50 0 0 0-50 50 50 50 0 0 0 50 50 50 50 0 0 0 50-50 50 50 0 0 0-50-50zm0 10a20 20 0 0 1 20 20 20 20 0 0 1-20 20 20 20 0 0 0-20 20 20 20 0 0 0 18 19.9 40 40 0 0 1-38-39.9 40 40 0 0 1 38.6-40 20 20 0 0 1 1.4 0zm0 10a10 10 0 0 0-10 10 10 10 0 0 0 10 10 10 10 0 0 0 10-10 10 10 0 0 0-10-10zm0 40a10 10 0 0 1 10 10 10 10 0 0 1-10 10 10 10 0 0 1-10-10 10 10 0 0 1 10-10zm120-55a20 20 0 0 0-20 20 20 20 0 0 0 5.8 14l-10.1 16.8a20 20 0 0 0-5.7-.8 20 20 0 0 0-20 20 20 20 0 0 0 20 20 20 20 0 0 0 20-20 20 20 0 0 0-5.8-14l10.1-16.8a20 20 0 0 0 5.7.8 20 20 0 0 0 5.7-.8l10 16.8a20 20 0 0 0-5.7 14 20 20 0 0 0 20 20 20 20 0 0 0 20-20 20 20 0 0 0-20-20 20 20 0 0 0-5.7.8l-10-16.8a20 20 0 0 0 5.7-14 20 20 0 0 0-20-20zm-360 0a50 35 0 0 0-50 35 50 35 0 0 0 50 35 50 35 0 0 0 6.7-.4 35 35 0 0 1-21.8 19 34.7 34.7 0 0 0 9.8 1.4 34.7 34.7 0 0 0 33.5-26.2A50 35 0 0 0 590 650a50 35 0 0 0-50-35zm480 715c-22 0-40 18-40 40a40.2 40.2 0 0 0 30 38.7v21.3h20v-21.3a40.2 40.2 0 0 0 30-38.7c0-22-18-40-40-40zm0 20c11.2 0 20 8.8 20 20s-8.8 20-20 20-20-8.8-20-20 8.8-20 20-20zm-20-140v30h-30v70h70v-30h30v-70zm-10 50h30v30h-30zm10-170a10 10 0 0 0-10 10v80a10 10 0 0 0 10 10h40a10 10 0 0 0 10-10v-80a10 10 0 0 0-10-10zm0 5h40a5 5 0 0 1 5 5v70a5 5 0 0 1-5 5h-40a5 5 0 0 1-5-5v-70a5 5 0 0 1 5-5zm20 82.5a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5zM973.5 970v100h10l83-46.3-10-17.4-45.7 26.4 26.4-45.6-17.3-10-26.4 45.6V970zm76.5-120l-41.6 39-28.4-19-10 5v50l10 5 28.4-19 41.6 39 20-10v-80zm0 33.3v33.4l-25-16.7zm-70 1l16.7 15.7-16.7 15.6zM970 745v70h100v-70zm10 10h80v50h-80zm60 10v30h10v-30zm-50 10a5 5 0 0 0-5 5 5 5 0 0 0 5 5 5 5 0 0 0 5-5 5 5 0 0 0-5-5zm20 0a5 5 0 0 0-5 5 5 5 0 0 0 5 5 5 5 0 0 0 5-5 5 5 0 0 0-5-5zm20 0a5 5 0 0 0-5 5 5 5 0 0 0 5 5 5 5 0 0 0 5-5 5 5 0 0 0-5-5zm-50-155a10 10 0 0 0-10 10v60a10 10 0 0 0 10 10h80a10 10 0 0 0 10-10v-50a10 10 0 0 0-10-10h-40a10 10 0 0 0-10-10zm40-130a50 50 0 0 0-50 50 50 50 0 0 0 50 50 50 50 0 0 0 50-50 50 50 0 0 0-50-50zm0 10a40 40 0 0 1 34.6 20H1020a20 20 0 0 0-17.3 10L992 511.5a40 40 0 0 1 28-11.5zm-34.6 20l17.3 30a20 20 0 0 0 17.3 10l-10.7 18.5A40 40 0 0 1 980 540a40 40 0 0 1 5.4-20zm34.6 10a10 10 0 0 1 10 10 10 10 0 0 1-10 10 10 10 0 0 1-10-10 10 10 0 0 1 10-10zm17.3 0h21.4a40 40 0 0 1 1.3 10 40 40 0 0 1-40 40l17.3-30a20 20 0 0 0 2.7-10 20 20 0 0 0-2.7-10zM850 130v100h20v-40h20v40h20v-40h20v40h20v-60h-80v-20h80v-20zm0 380v60h90v-10h10v-40h-10v-10zm10 30h70v20h-70zm-80-50a50 50 0 0 0-50 50 50 50 0 0 0 50 50 50 50 0 0 0 40-20h-13.6a40 40 0 0 1-26.4 10 40 40 0 0 1-40-40 40 40 0 0 1 40-40 40 40 0 0 1 40 40 40 40 0 0 1-1.3 10H800v-30h-10v2.7a20 20 0 0 0-10-2.7 20 20 0 0 0-20 20 20 20 0 0 0 20 20 20 20 0 0 0 10-2.7v2.7h35.8a50 50 0 0 0 4.2-20 50 50 0 0 0-50-50zm0 40a10 10 0 0 1 10 10 10 10 0 0 1-10 10 10 10 0 0 1-10-10 10 10 0 0 1 10-10zm-142.2-16.9A50 30 0 0 0 610 540a50 30 0 0 0 27.8 26.8 30 40 0 0 1-7.5-21.8H655v20h10v-20h24.7a30 40 0 0 1-7.5 21.9A50 30 0 0 0 710 540a50 30 0 0 0-27.8-26.8 30 40 0 0 1 7.5 21.8H675v-20h-10v20h-10v-20h-10v20h-14.7a30 40 0 0 1 7.5-21.9zM550 490c-30 30-40 45-40 70s15 30 30 30 30-15 30-25-5-15-20-25-10-30 0-50zm-162.5 0c-2.8 0-5 1.7-5 3.8 0 2 2.2 3.7 5 3.7h20c2.8 0 5-1.7 5-3.8 0-2-2.2-3.7-5-3.7zm45 0c-2.8 0-5 1.7-5 3.8 0 2 2.2 3.7 5 3.7s5-1.7 5-3.8c0-2-2.2-3.7-5-3.7zm25 0a12.5 12.5 0 0 0-12.5 12.5 12.5 12.5 0 0 0 12.5 12.5 12.5 12.5 0 0 0 12.5-12.5 12.5 12.5 0 0 0-12.5-12.5zm0 7.5a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5zm-75 2.5l-2.5 2.5v75l2.5 2.5h75l2.5-2.5v-55l-2.7-2.7a20 20 0 0 1-17.1-17.1l-2.7-2.7zm-8.8 2.5c-2 0-3.7 2.2-3.7 5v20c0 2.8 1.7 5 3.8 5 2 0 3.7-2.2 3.7-5v-20c0-2.8-1.7-5-3.8-5zm92.6 20c-2.1 0-3.8 2.2-3.8 5s1.7 5 3.8 5c2 0 3.7-2.2 3.7-5s-1.7-5-3.8-5zm-92.6 25c-2 0-3.7 2.2-3.7 5v20c0 2.8 1.7 5 3.8 5 2 0 3.7-2.2 3.7-5v-20c0-2.8-1.7-5-3.8-5zm92.6 0c-2.1 0-3.8 2.2-3.8 5v20c0 2.8 1.7 5 3.8 5 2 0 3.7-2.2 3.7-5v-20c0-2.8-1.7-5-3.8-5zm-78.8 35c-2.8 0-5 1.7-5 3.8 0 2 2.2 3.7 5 3.7h20c2.8 0 5-1.7 5-3.8 0-2-2.2-3.7-5-3.7zm45 0c-2.8 0-5 1.7-5 3.8 0 2 2.2 3.7 5 3.7h20c2.8 0 5-1.7 5-3.8 0-2-2.2-3.7-5-3.7zM280 490v10h-20v10h80v-10h-20v-10zm-15 30v70h70v-70zm-225.5-.5A101.5 101.5 0 0 0 9.8 590a101.5 101.5 0 0 0 70.7-29.6 101.5 101.5 0 0 0 29.7-70.6 101.5 101.5 0 0 0-70.7 29.6zm30.8-10.3a14.5 14.5 0 0 1 20.5 0 14.5 14.5 0 0 1 0 20.5 14.5 14.5 0 0 1-20.5 0 14.5 14.5 0 0 1 0-20.5zM180 490a15 15 0 0 0-5 29.1v50.5a30 30 0 0 1-25-29.6h10v-10h-30v10a50 50 0 0 0 45 49.7v.3h10v-.3a50 50 0 0 0 45-49.7v-10h-30v10h10a30 30 0 0 1-25 29.6V519a15 15 0 0 0-5-29.1zM10 370v20h20v-20zm20 20v20h20v-20zm20 0h20v-20H50zm0 20v20h20v-20zm20 20v20h20v-20zm20 0h20v-20H90zm0 20v20h20v-20zm-20 0H50v20h20zm-20 0v-20H30v20zm-20 0H10v20h20zm0-20v-20H10v20zm60-60v20h20v-20zm100 0a20 20 0 0 1-6.8 15 20 20 0 0 1 6.8 15 20 20 0 0 1-11.8 18.2A20 20 0 0 1 160 430a20 20 0 0 1-15-6.8 20 20 0 0 1-15 6.8v20a20 20 0 0 0 20 20h60a20 20 0 0 0 20-20v-60a20 20 0 0 0-20-20zm100 0a10 10 0 0 0-10 10 10 10 0 0 0 10 10 10 10 0 0 0 10-10 10 10 0 0 0-10-10zm35 10a15 15 0 0 0-15 15 15 15 0 0 0 15 15 15 15 0 0 0 15-15 15 15 0 0 0-15-15zm-40 20a35 35 0 0 0-35 35 35 35 0 0 0 35 35 35 35 0 0 0 35-35 35 35 0 0 0-35-35zm55 20a10 10 0 0 0-10 10 10 10 0 0 0 10 10 10 10 0 0 0 10-10 10 10 0 0 0-10-10zm123.3-35.5a18.9 63 60 0 0-24.8 5.8A35 35 0 0 0 420 385a35 35 0 0 0-35 35 35 35 0 0 0 0 1.2 18.9 63 60 0 0-19.6 30.3 18.9 63 60 0 0 36-1.8A35 35 0 0 0 420 455a35 35 0 0 0 35-35 35 35 0 0 0 0-1.2 18.9 63 60 0 0 19.6-30.3 18.9 63 60 0 0-11.3-4zm-7 6a15.8 52.5 60 0 1 9.2 3.2 15.8 52.5 60 0 1-37.6 40 15.8 52.5 60 0 1-53.4 12.6 15.8 52.5 60 0 1 11-20.6 35 35 0 0 0 1.2 5 12.6 42 60 0 0-3 10.3 12.6 42 60 0 0 42.6-10 12.6 42 60 0 0 30-32 12.6 42 60 0 0-10.4-2.4 35 35 0 0 0-3.7-3.6 15.8 52.5 60 0 1 14-2.6zM540 370c-22 0-40 18-40 40v10h-10v50h100v-50h-10v-10c0-22-18-40-40-40zm0 20c11.2 0 20 8.8 20 20v10h-40v-10c0-11.2 8.8-20 20-20zM645 372.5a35 35 0 0 0-10 68.5v-10.6a25 25 0 0 1-15-22.9 25 25 0 1 1 49.3-5.7l1.6 7 6-4a15 15 0 1 1 8.1 27.7v10a25 25 0 0 0 25-25 25 25 0 0 0-32.8-23.7 35 35 0 0 0-32.2-21.3zm-5 50v40h10v-40zm30 0v40h10v-40zm-15 5v40h10v-40zM823 369l-60 17.5v58.2a12.5 17.5 65 0 0-14.5 1.5 12.5 17.5 65 0 0-10.6 18.7 12.5 17.5 65 0 0 21.1 4 12.5 17.5 65 0 0 11.5-15v-53.1l45-12.9v39.3a12.5 17.5 65 0 0-14.5 1.5 12.5 17.5 65 0 0-10.6 18.7 12.5 17.5 65 0 0 21.1 4 12.5 17.5 65 0 0 11.5-15V374zm92 8.5a35 35 0 0 0-25 10.5 25 25 0 0 1 5-.5 25 25 0 0 1 25 25 25 25 0 0 1-25 25 25 25 0 0 1-5-.5 35 35 0 0 0 25 10.5 35 35 0 0 0 35-35 35 35 0 0 0-35-35zm-40 35a25 25 0 0 0-25 25 25 25 0 0 0 25 25 25 25 0 0 0 20.8-11.2 15 15 0 0 1-5.8 1.2 15 15 0 0 1-15-15 15 15 0 0 1 15-15 15 15 0 0 1 5.8 1.2 25 25 0 0 0-20.8-11.2zM625.3 8.4a115 115 0 0 0-5.3 64.3 20 20 0 1 0 9.6-2.7 93.4 93.4 0 0 1 1.2-44.9A93.1 93.1 0 0 0 670.3 67a20 20 0 1 0 4-9.1 83 83 0 0 1-38.4-46.1c10.5 18.9 34.7 28 54.1 18.3-10-19.9-34.8-20-54.7-20l-.6-1.6zM735 10c0 11.1 2.7 20 7 27.5a15 15 0 0 0-1.4 3.2A15 15 0 0 0 730 55a15 15 0 0 0 11 14.5 15 15 0 0 0-1 5.5 15 15 0 0 0 15 15 15 15 0 0 0 5.5-1 15 15 0 0 0 10.2 10.4A15 15 0 0 0 785 110a15 15 0 0 0 10-3.8 15 15 0 0 0 10 3.8 15 15 0 0 0 15-15 15 15 0 0 0-1-5.5A15 15 0 0 0 830 75a15 15 0 0 0-11-14.5 15 15 0 0 0 1-5.5 15 15 0 0 0-10.7-14.4A15 15 0 0 0 795 30a15 15 0 0 0-5.5 1A15 15 0 0 0 775 20a15 15 0 0 0-14.5 11 15 15 0 0 0-5.5-1 15 15 0 0 0-5.2 1c-3-5.6-4.8-12.2-4.8-21zM155 250v15c0 5.6-4.4 10-10 10h-15v20h15a30 30 0 0 0 30-30v-15zm30 0v20h15c5.6 0 10 4.4 10 10v15h20v-15a30 30 0 0 0-30-30zm-55 55v20h15c5.6 0 10 4.4 10 10v15h20v-15a30 30 0 0 0-30-30zm85 0a30 30 0 0 0-30 30v15h20v-15c0-5.6 4.4-10 10-10h15v-20zM10 250v100h100v-20H80v-30h30v-20H80v-30H60v30H30v-30zm20 50h30v30H30zm285-50a35 35 0 0 0-34.7 30.4A35 35 0 0 0 250 315a35 35 0 0 0 35 35 35 35 0 0 0 34.7-30.4A35 35 0 0 0 350 285a35 35 0 0 0-35-35zm-31.4 52.8a13.6 13.6 0 0 1 13.6 13.6 13.6 13.6 0 0 1-13.6 13.6 13.6 13.6 0 0 1-13.6-13.6 13.6 13.6 0 0 1 13.6-13.6zM540 250a35 35 0 0 0-35 35 35 35 0 0 0 15.1 28.8l-7 35.2 26.9-13.4 27 13.4-7.1-35.2A35 35 0 0 0 575 285a35 35 0 0 0-35-35zm10.6 68.3L553 331l-13.1-6.6-13 6.6 2.4-12.6A35 35 0 0 0 540 320a35 35 0 0 0 10.6-1.7zm-80.8-65.6l-48.5 19 3.6 9.3 27.1-10.6-27.8 41.8-19.9-20-38.4 55 8.2 5.7 31.6-45.2 20 20.1 34.7-51.8.6 29 10-.2zM645 250v70h-35v30h100v-30h-35v-70zm125 0v40h-40v20h100v-20h-40v-40zm-40 80v20h100v-20zm165-80a15 15 0 0 0-15 15 15 15 0 0 0 15 15 15 15 0 0 0 15-15 15 15 0 0 0-15-15zm-45 40v20h70c5.6 0 10 4.4 10 10s-4.4 10-10 10h-70v20h70c16.5 0 30-13.5 30-30s-13.5-30-30-30zM540 10a20 20 0 0 0-20 20 20 20 0 0 0 20 20 20 20 0 0 0 20-20 20 20 0 0 0-20-20zm-30 60a20 20 0 0 0-20 20 20 20 0 0 0 20 20 20 20 0 0 0 20-20 20 20 0 0 0-20-20zm60 0a20 20 0 0 0-20 20 20 20 0 0 0 20 20 20 20 0 0 0 20-20 20 20 0 0 0-20-20zM900 6l-4.2 6.2c-9.4 14.2-29.3 33.5-47 38l2.4 9.7A71 71 0 0 0 875 48.2V55h20v12.5h-30v10h30V100h-7l-8.5-17.2-9 4.4L877 100h-17v10h80v-10h-17l6.5-12.8-9-4.4L912 100h-7V77.5h30v-10h-30V55h20v-6.8A71 71 0 0 0 948.8 60l2.4-9.8c-17.7-4.4-37.6-23.7-47-37.9zm0 17.6A125 125 0 0 0 920.7 45h-41.4A125 125 0 0 0 900 23.6zM211 125.5l-41.8 83.7-20.6-34.3-17.2 10.2 30 50 17.5-.6 50-100zm48.3 1.9l-8.6 5.2 28.5 47.4-28.5 47.4 8.6 5.2 31.5-52.6zm30 0l-8.6 5.2 28.5 47.4-28.5 47.4 8.6 5.2 31.5-52.6zm30 0l-8.6 5.2 28.5 47.4-28.5 47.4 8.6 5.2 31.5-52.6zM370 130v100h100V130zm17 10h66l-20 20h-26zm-7 7l20 20v33h40v-33l20-20v73h-80zm734.2-137c-9.6 0-18.2 6.5-21.4 13.9a44.6 44.6 0 0 0-2.5 22c1.2 14.2 5.9 27.3 5.9 27.3l19-6.4s-4-11.9-5-22.7c-.4-5.4.2-10.3 1-12.3.6-1.4 1.5-1.8 2.5-1.8.8 0 1.2.1 2 1 1.1 1 2.7 3.5 4.2 7 3 7 5.4 17.6 7 28.4 3 21.6 3.1 43.6 3.1 43.6h20s0-22 3.1-43.6c1.6-10.8 4-21.4 7-28.4 1.5-3.5 3.1-6 4.2-7 .6-.7 1.1-1 1.9-1 1 0 2 .4 2.6 1.8.8 2 1.4 7 1 12.3a118 118 0 0 1-5 22.7l19 6.4s4.7-13.1 5.9-27.3c.6-7.1.6-14.7-2.5-22a24 24 0 0 0-21.4-13.9c-6.2 0-11.8 3-15.6 6.8a41.3 41.3 0 0 0-8.5 13.3l-1.7 4.6a41.3 41.3 0 0 0-10.2-17.9 22.6 22.6 0 0 0-15.6-6.8zm15.8 960v20h25.9l-35.9 35.9-13-13-14 14.2 12.9 12.9-13 13 14.2 14 12.9-12.9 13 13 14-14.2-12.9-12.9 35.9-35.9v25.9h20v-60zM490 130v100l30-20v-60zm100 0l-30 20v10h-30v40h30v10l30 20zm70 0l-43.3 25v50l43.3 25 43.3-25v-50zm0 10l17.3 10v20L660 180l-17.3-10v-20zM370 10v100h100V10zm10 10h80v40l-40 40-40-40zm0 40h80l-40-40zm360 70v45c0 30 40 55 40 55s40-25 40-55v-45zm10 10a25 25 0 0 1 25 25 25 25 0 0 1-25-25zm60 0a25 25 0 0 1-25 25 25 25 0 0 1 25-25zM66.9 6.8L17.4 92.6l7.1 4 10.3-17.8 21.5 12.4L46 109l7.1 4 49.5-85.7-7.1-4-2.1 3.5L72 14.5l2-3.6zm1 14.9L89.2 34l-4.1 7.2-21.5-12.4zM59.5 36L81 48.3l-4 7.2L55.5 43zm-8.3 14.2l21.5 12.4-4.1 7.2-21.5-12.4zM43 64.5L64.5 77l-4.1 7L39 71.7zM250 10v20h5a294 294 0 0 0-4.6 16.4A51.6 51.6 0 0 0 300 110c35 0 57-34 49.6-63.6a294 294 0 0 0-4.7-16.4h5.1V10h-45s10.2 22.5 15.4 43.6C323 64 315 80 300 80c-15 0-23-16-20.4-26.4C284.8 32.5 295 10 295 10h-33zM60 130a50 50 0 0 0-50 50 50 50 0 0 0 50 50 50 50 0 0 0 50-50 50 50 0 0 0-50-50zm0 10a30 30 0 0 1 30 30 30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30zm0 10a10 10 0 0 0-10 10 10 10 0 0 0 10 10 10 10 0 0 0 10-10 10 10 0 0 0-10-10zm1030-20v20c11.7 0 14.8 4.2 20.5 11.3 1.9 2.3 3.8 5 6.2 7.6A35 35 0 0 0 1105 195a35 35 0 0 0 35 35 35 35 0 0 0 35-35 35 35 0 0 0-11.7-26.1c2.4-2.6 4.3-5.3 6.2-7.6 5.7-7 8.8-11.3 20.5-11.3v-20a45.5 45.5 0 0 0-36 18.7c-3.2 4-5.8 7.2-7.8 9-2.1 1.7-3.2 2.3-6.2 2.3s-4-.6-6.2-2.3c-2-1.8-4.6-5-7.8-9a45.5 45.5 0 0 0-36-18.7zm50 50a15 15 0 0 1 15 15 15 15 0 0 1-15 15 15 15 0 0 1-15-15 15 15 0 0 1 15-15zm-5 190c-24.5 0-44.1 17.6-45 38.6v1.4c0 13.7 11.3 25 25 25s25-11.3 25-25c0-8-3.8-15-9.6-19.6a41.7 41.7 0 0 1 41.3 20.2l16.6-11.1A63.4 63.4 0 0 0 1135 370zm-20 35c2.9 0 5 2.1 5 5s-2.1 5-5 5-5-2.1-5-5 2.1-5 5-5zm50 15a25.2 25.2 0 0 0-24.5 30H1090v20h75c13.7 0 25-11.3 25-25s-11.3-25-25-25zm0 20c2.9 0 5 2.1 5 5s-2.1 5-5 5-5-2.1-5-5 2.1-5 5-5zm-74 174.5v72h18V637c0-2.6 2-4.5 4.5-4.5 2.6 0 4.5 2 4.5 4.5v49.5h18V637c0-2.6 2-4.5 4.5-4.5 2.6 0 4.5 2 4.5 4.5v18c0 10.9 3.6 20.2 8.7 27.8-4.9 3.8-9.8 7-13.8 9.8l10.2 14.8c3.8-2.6 9.5-6.3 15.6-11 5 4.4 10.3 8 14.8 11l10-14.9c-3.9-2.6-8-5.5-11.8-8.7A45.1 45.1 0 0 0 1190 655a22.6 22.6 0 0 0-27.4-22 22.7 22.7 0 0 0-22.1-18.5c-5 0-9.7 1.7-13.5 4.6a22.3 22.3 0 0 0-18-4.1v-.5zm76.5 36c2.6 0 4.5 2 4.5 4.5 0 5.3-2 10.2-5.2 14.9a30.2 30.2 0 0 1-3.8-14.9c0-2.6 2-4.5 4.5-4.5zm-77 200v72h18V873c0-2.6 2-4.5 4.5-4.5 2.6 0 4.5 2 4.5 4.5v49.5h18V873c0-2.6 2-4.5 4.5-4.5 2.6 0 4.5 2 4.5 4.5v18c0 6.8 0 13 1.3 19.4a39.1 39.1 0 0 0 10.3 18.5l2.7 2.6h-14.3v18h45v-45h-18v14.3l-2.6-2.7a17 17 0 0 1-5.5-9.6 79 79 0 0 1-.9-15.5v-18a22.6 22.6 0 0 0-22.5-22.5c-5 0-9.7 1.7-13.5 4.6a22.3 22.3 0 0 0-18-4.1v-.5zm5-598.8l-11 16.6a98.8 98.8 0 0 0 17.5 9.3c7.5 23.2 7.8 30.3.7 52.4H1090v20h100v-20h-12.7c-7-22.1-6.8-29.2.7-52.4 6.1-2.5 12-5.6 17.5-9.3l-11-16.6a81 81 0 0 1-89 0zm29 32.1c10.2 1.6 20.8 1.6 31 0a86.1 86.1 0 0 0 1 46.2h-33c4.5-17 4.8-29.7 1-46.2zM1090 1090v80h20v-50c0-5.6 4.4-10 10-10s10 4.4 10 10v26.5l-.5.4a314.5 314.5 0 0 0-27.8 37.6l16.6 11c5.5-8.2 10.5-15.5 15.2-21.8a30 30 0 0 0 26.5 16.3 30 30 0 0 0 0-60 29 29 0 0 0-10 1.9V1120a30.2 30.2 0 0 0-40-28.3v-1.7h-20zm70 60c4 0 10 5 10 10 0 5.6-4.4 10-10 10s-10-4.4-10-10v-5c4.4-3.5 7.8-5 10-5zm-10 53.8l-64.5 32.3 9 17.8 35.5-17.7v20l40-20v18.8h20v-51.2l-40 20zm0 55l-64.5 32.3 9 17.8 35.5-17.7v20l40-20v18.8h20v-51.2l-40 20zm-30.5 78l-19 6.4c2 6 3.6 11.6 4.8 16.8H1090v20h17.7a114 114 0 0 1-7.2 36.8l19 6.4a135 135 0 0 0 7.8-43.2h25.4a135 135 0 0 0 7.8 43.2l19-6.4a114.5 114.5 0 0 1-7.2-36.8h17.7v-20h-15.3c1.2-5.2 2.8-10.7 4.8-16.8l-19-6.4c-2.7 8.2-4.7 15.8-6 23.2h-29c-1.3-7.4-3.3-15-6-23.2zM990 130v10h-10v20h10v70h20v-35.1c3.7-2.3 10-4.9 15-4.9 5.3 0 8.2 1.4 10.6 4 2.4 2.8 4.4 7.7 4.4 16v20h20v-20c0-11.7-3-21.8-9.3-29-6.4-7.4-16-11-25.7-11a48 48 0 0 0-15 2.4V160h10v-20h-10v-10h-20zm10-120c-12 0-20 8.2-24.1 14.7-4 6.5-5.6 12.9-5.6 12.9l19.4 4.8s1-3.6 3.2-7.1c2.1-3.5 4-5.3 7.1-5.3 1.7 0 1.9.2 3 1.8 1 1.6 2 4.9 2 8.2 0 0-1.7 3.9-6.6 10-4.9 6.1-11.7 14.3-17.3 25.5L973.8 90h61.2v20h20V90h15V70h-15V10h-20v60h-26.8l5.9-7.5c5-6.4 10.9-12.5 10.9-22.5 0-6.7-1.5-13.4-5.4-19.3A24.1 24.1 0 0 0 1000 10zM60 730a50 50 0 0 0-50 50 50 50 0 0 0 50 50 50 50 0 0 0 50-50 50 50 0 0 0-50-50zm5 10.4a40 40 0 0 1 35 39.6 40 40 0 0 1-8.4 24.5L65 777.9v-37.5zm-10 0v37.5l-26.6 26.6A40 40 0 0 1 20 780a40 40 0 0 1 35-39.6zm0 51.7v27.5a40 40 0 0 1-19.5-8L55 792zm10 0l19.5 19.5a40 40 0 0 1-19.5 8v-27.5z"/></svg>');
            background-repeat: no-repeat;
            box-sizing: border-box;
        }

        .rules-list li {
            margin-bottom: 20px;
        }

        .face.symbol-0, .netsquare.symbol-0, .stamp.symbol-0 { background-position: -0cm -0cm; }
        .face.symbol-1, .netsquare.symbol-1, .stamp.symbol-1 { background-position: -1.6cm -0cm; }
        .face.symbol-2, .netsquare.symbol-2, .stamp.symbol-2 { background-position: -3.2cm -0cm; }
        .face.symbol-3, .netsquare.symbol-3, .stamp.symbol-3 { background-position: -4.8cm -0cm; }
        .face.symbol-4, .netsquare.symbol-4, .stamp.symbol-4 { background-position: -6.4cm -0cm; }
        .face.symbol-5, .netsquare.symbol-5, .stamp.symbol-5 { background-position: -8cm -0cm; }
        .face.symbol-6, .netsquare.symbol-6, .stamp.symbol-6 { background-position: -9.6cm -0cm; }
        .face.symbol-7, .netsquare.symbol-7, .stamp.symbol-7 { background-position: -11.2cm -0cm; }
        .face.symbol-8, .netsquare.symbol-8, .stamp.symbol-8 { background-position: -12.8cm -0cm; }
        .face.symbol-9, .netsquare.symbol-9, .stamp.symbol-9 { background-position: -14.4cm -0cm; }
        .face.symbol-10, .netsquare.symbol-10, .stamp.symbol-10 { background-position: -0cm -1.6cm; }
        .face.symbol-11, .netsquare.symbol-11, .stamp.symbol-11 { background-position: -1.6cm -1.6cm; }
        .face.symbol-12, .netsquare.symbol-12, .stamp.symbol-12 { background-position: -3.2cm -1.6cm; }
        .face.symbol-13, .netsquare.symbol-13, .stamp.symbol-13 { background-position: -4.8cm -1.6cm; }
        .face.symbol-14, .netsquare.symbol-14, .stamp.symbol-14 { background-position: -6.4cm -1.6cm; }
        .face.symbol-15, .netsquare.symbol-15, .stamp.symbol-15 { background-position: -8cm -1.6cm; }
        .face.symbol-16, .netsquare.symbol-16, .stamp.symbol-16 { background-position: -9.6cm -1.6cm; }
        .face.symbol-17, .netsquare.symbol-17, .stamp.symbol-17 { background-position: -11.2cm -1.6cm; }
        .face.symbol-18, .netsquare.symbol-18, .stamp.symbol-18 { background-position: -12.8cm -1.6cm; }
        .face.symbol-19, .netsquare.symbol-19, .stamp.symbol-19 { background-position: -14.4cm -1.6cm; }
        .face.symbol-20, .netsquare.symbol-20, .stamp.symbol-20 { background-position: -0cm -3.2cm; }
        .face.symbol-21, .netsquare.symbol-21, .stamp.symbol-21 { background-position: -1.6cm -3.2cm; }
        .face.symbol-22, .netsquare.symbol-22, .stamp.symbol-22 { background-position: -3.2cm -3.2cm; }
        .face.symbol-23, .netsquare.symbol-23, .stamp.symbol-23 { background-position: -4.8cm -3.2cm; }
        .face.symbol-24, .netsquare.symbol-24, .stamp.symbol-24 { background-position: -6.4cm -3.2cm; }
        .face.symbol-25, .netsquare.symbol-25, .stamp.symbol-25 { background-position: -8cm -3.2cm; }
        .face.symbol-26, .netsquare.symbol-26, .stamp.symbol-26 { background-position: -9.6cm -3.2cm; }
        .face.symbol-27, .netsquare.symbol-27, .stamp.symbol-27 { background-position: -11.2cm -3.2cm; }
        .face.symbol-28, .netsquare.symbol-28, .stamp.symbol-28 { background-position: -12.8cm -3.2cm; }
        .face.symbol-29, .netsquare.symbol-29, .stamp.symbol-29 { background-position: -14.4cm -3.2cm; }
        .face.symbol-30, .netsquare.symbol-30, .stamp.symbol-30 { background-position: -0cm -4.8cm; }
        .face.symbol-31, .netsquare.symbol-31, .stamp.symbol-31 { background-position: -1.6cm -4.8cm; }
        .face.symbol-32, .netsquare.symbol-32, .stamp.symbol-32 { background-position: -3.2cm -4.8cm; }
        .face.symbol-33, .netsquare.symbol-33, .stamp.symbol-33 { background-position: -4.8cm -4.8cm; }
        .face.symbol-34, .netsquare.symbol-34, .stamp.symbol-34 { background-position: -6.4cm -4.8cm; }
        .face.symbol-35, .netsquare.symbol-35, .stamp.symbol-35 { background-position: -8cm -4.8cm; }
        .face.symbol-36, .netsquare.symbol-36, .stamp.symbol-36 { background-position: -9.6cm -4.8cm; }
        .face.symbol-37, .netsquare.symbol-37, .stamp.symbol-37 { background-position: -11.2cm -4.8cm; }
        .face.symbol-38, .netsquare.symbol-38, .stamp.symbol-38 { background-position: -12.8cm -4.8cm; }
        .face.symbol-39, .netsquare.symbol-39, .stamp.symbol-39 { background-position: -14.4cm -4.8cm; }
        .face.symbol-40, .netsquare.symbol-40, .stamp.symbol-40 { background-position: -0cm -6.4cm; }
        .face.symbol-41, .netsquare.symbol-41, .stamp.symbol-41 { background-position: -1.6cm -6.4cm; }
        .face.symbol-42, .netsquare.symbol-42, .stamp.symbol-42 { background-position: -3.2cm -6.4cm; }
        .face.symbol-43, .netsquare.symbol-43, .stamp.symbol-43 { background-position: -4.8cm -6.4cm; }
        .face.symbol-44, .netsquare.symbol-44, .stamp.symbol-44 { background-position: -6.4cm -6.4cm; }
        .face.symbol-45, .netsquare.symbol-45, .stamp.symbol-45 { background-position: -8cm -6.4cm; }
        .face.symbol-46, .netsquare.symbol-46, .stamp.symbol-46 { background-position: -9.6cm -6.4cm; }
        .face.symbol-47, .netsquare.symbol-47, .stamp.symbol-47 { background-position: -11.2cm -6.4cm; }
        .face.symbol-48, .netsquare.symbol-48, .stamp.symbol-48 { background-position: -12.8cm -6.4cm; }
        .face.symbol-49, .netsquare.symbol-49, .stamp.symbol-49 { background-position: -14.4cm -6.4cm; }
        .face.symbol-50, .netsquare.symbol-50, .stamp.symbol-50 { background-position: -0cm -8cm; }
        .face.symbol-51, .netsquare.symbol-51, .stamp.symbol-51 { background-position: -1.6cm -8cm; }
        .face.symbol-52, .netsquare.symbol-52, .stamp.symbol-52 { background-position: -3.2cm -8cm; }
        .face.symbol-53, .netsquare.symbol-53, .stamp.symbol-53 { background-position: -4.8cm -8cm; }
        .face.symbol-54, .netsquare.symbol-54, .stamp.symbol-54 { background-position: -6.4cm -8cm; }
        .face.symbol-55, .netsquare.symbol-55, .stamp.symbol-55 { background-position: -8cm -8cm; }
        .face.symbol-56, .netsquare.symbol-56, .stamp.symbol-56 { background-position: -9.6cm -8cm; }
        .face.symbol-57, .netsquare.symbol-57, .stamp.symbol-57 { background-position: -11.2cm -8cm; }
        .face.symbol-58, .netsquare.symbol-58, .stamp.symbol-58 { background-position: -12.8cm -8cm; }
        .face.symbol-59, .netsquare.symbol-59, .stamp.symbol-59 { background-position: -14.4cm -8cm; }
        .face.symbol-60, .netsquare.symbol-60, .stamp.symbol-60 { background-position: -0cm -9.6cm; }
        .face.symbol-61, .netsquare.symbol-61, .stamp.symbol-61 { background-position: -1.6cm -9.6cm; }
        .face.symbol-62, .netsquare.symbol-62, .stamp.symbol-62 { background-position: -3.2cm -9.6cm; }
        .face.symbol-63, .netsquare.symbol-63, .stamp.symbol-63 { background-position: -4.8cm -9.6cm; }
        .face.symbol-64, .netsquare.symbol-64, .stamp.symbol-64 { background-position: -6.4cm -9.6cm; }
        .face.symbol-65, .netsquare.symbol-65, .stamp.symbol-65 { background-position: -8cm -9.6cm; }
        .face.symbol-66, .netsquare.symbol-66, .stamp.symbol-66 { background-position: -9.6cm -9.6cm; }
        .face.symbol-67, .netsquare.symbol-67, .stamp.symbol-67 { background-position: -11.2cm -9.6cm; }
        .face.symbol-68, .netsquare.symbol-68, .stamp.symbol-68 { background-position: -12.8cm -9.6cm; }
        .face.symbol-69, .netsquare.symbol-69, .stamp.symbol-69 { background-position: -14.4cm -9.6cm; }
        .face.symbol-70, .netsquare.symbol-70, .stamp.symbol-70 { background-position: -0cm -11.2cm; }
        .face.symbol-71, .netsquare.symbol-71, .stamp.symbol-71 { background-position: -1.6cm -11.2cm; }
        .face.symbol-72, .netsquare.symbol-72, .stamp.symbol-72 { background-position: -3.2cm -11.2cm; }
        .face.symbol-73, .netsquare.symbol-73, .stamp.symbol-73 { background-position: -4.8cm -11.2cm; }
        .face.symbol-74, .netsquare.symbol-74, .stamp.symbol-74 { background-position: -6.4cm -11.2cm; }
        .face.symbol-75, .netsquare.symbol-75, .stamp.symbol-75 { background-position: -8cm -11.2cm; }
        .face.symbol-76, .netsquare.symbol-76, .stamp.symbol-76 { background-position: -9.6cm -11.2cm; }
        .face.symbol-77, .netsquare.symbol-77, .stamp.symbol-77 { background-position: -11.2cm -11.2cm; }
        .face.symbol-78, .netsquare.symbol-78, .stamp.symbol-78 { background-position: -12.8cm -11.2cm; }
        .face.symbol-79, .netsquare.symbol-79, .stamp.symbol-79 { background-position: -14.4cm -11.2cm; }
        .face.symbol-80, .netsquare.symbol-80, .stamp.symbol-80 { background-position: -0cm -12.8cm; }
        .face.symbol-81, .netsquare.symbol-81, .stamp.symbol-81 { background-position: -1.6cm -12.8cm; }
        .face.symbol-82, .netsquare.symbol-82, .stamp.symbol-82 { background-position: -3.2cm -12.8cm; }
        .face.symbol-83, .netsquare.symbol-83, .stamp.symbol-83 { background-position: -4.8cm -12.8cm; }
        .face.symbol-84, .netsquare.symbol-84, .stamp.symbol-84 { background-position: -6.4cm -12.8cm; }
        .face.symbol-85, .netsquare.symbol-85, .stamp.symbol-85 { background-position: -8cm -12.8cm; }
        .face.symbol-86, .netsquare.symbol-86, .stamp.symbol-86 { background-position: -9.6cm -12.8cm; }
        .face.symbol-87, .netsquare.symbol-87, .stamp.symbol-87 { background-position: -11.2cm -12.8cm; }
        .face.symbol-88, .netsquare.symbol-88, .stamp.symbol-88 { background-position: -12.8cm -12.8cm; }
        .face.symbol-89, .netsquare.symbol-89, .stamp.symbol-89 { background-position: -14.4cm -12.8cm; }
        .face.symbol-90, .netsquare.symbol-90, .stamp.symbol-90 { background-position: -0cm -14.4cm; }
        .face.symbol-91, .netsquare.symbol-91, .stamp.symbol-91 { background-position: -1.6cm -14.4cm; }
        .face.symbol-92, .netsquare.symbol-92, .stamp.symbol-92 { background-position: -3.2cm -14.4cm; }
        .face.symbol-93, .netsquare.symbol-93, .stamp.symbol-93 { background-position: -4.8cm -14.4cm; }
        .face.symbol-94, .netsquare.symbol-94, .stamp.symbol-94 { background-position: -6.4cm -14.4cm; }
        .face.symbol-95, .netsquare.symbol-95, .stamp.symbol-95 { background-position: -8cm -14.4cm; }
        .face.symbol-96, .netsquare.symbol-96, .stamp.symbol-96 { background-position: -9.6cm -14.4cm; }
        .face.symbol-97, .netsquare.symbol-97, .stamp.symbol-97 { background-position: -11.2cm -14.4cm; }
        .face.symbol-98, .netsquare.symbol-98, .stamp.symbol-98 { background-position: -12.8cm -14.4cm; }
        .face.symbol-99, .netsquare.symbol-99, .stamp.symbol-99 { background-position: -14.4cm -14.4cm; }
        .face.symbol-100, .netsquare.symbol-100, .stamp.symbol-100 { background-position: -0cm -16cm; }
        .face.symbol-101, .netsquare.symbol-101, .stamp.symbol-101 { background-position: -1.6cm -16cm; }
        .face.symbol-102, .netsquare.symbol-102, .stamp.symbol-102 { background-position: -3.2cm -16cm; }
        .face.symbol-103, .netsquare.symbol-103, .stamp.symbol-103 { background-position: -4.8cm -16cm; }
        .face.symbol-104, .netsquare.symbol-104, .stamp.symbol-104 { background-position: -6.4cm -16cm; }
        .face.symbol-105, .netsquare.symbol-105, .stamp.symbol-105 { background-position: -8cm -16cm; }
        .face.symbol-106, .netsquare.symbol-106, .stamp.symbol-106 { background-position: -9.6cm -16cm; }
        .face.symbol-107, .netsquare.symbol-107, .stamp.symbol-107 { background-position: -11.2cm -16cm; }
        .face.symbol-108, .netsquare.symbol-108, .stamp.symbol-108 { background-position: -12.8cm -16cm; }
        .face.symbol-109, .netsquare.symbol-109, .stamp.symbol-109 { background-position: -14.4cm -16cm; }
        .face.symbol-110, .netsquare.symbol-110, .stamp.symbol-110 { background-position: -0cm -17.6cm; }
        .face.symbol-111, .netsquare.symbol-111, .stamp.symbol-111 { background-position: -1.6cm -17.6cm; }
        .face.symbol-112, .netsquare.symbol-112, .stamp.symbol-112 { background-position: -3.2cm -17.6cm; }
        .face.symbol-113, .netsquare.symbol-113, .stamp.symbol-113 { background-position: -4.8cm -17.6cm; }
        .face.symbol-114, .netsquare.symbol-114, .stamp.symbol-114 { background-position: -6.4cm -17.6cm; }
        .face.symbol-115, .netsquare.symbol-115, .stamp.symbol-115 { background-position: -8cm -17.6cm; }
        .face.symbol-116, .netsquare.symbol-116, .stamp.symbol-116 { background-position: -9.6cm -17.6cm; }
        .face.symbol-117, .netsquare.symbol-117, .stamp.symbol-117 { background-position: -11.2cm -17.6cm; }
        .face.symbol-118, .netsquare.symbol-118, .stamp.symbol-118 { background-position: -12.8cm -17.6cm; }
        .face.symbol-119, .netsquare.symbol-119, .stamp.symbol-119 { background-position: -14.4cm -17.6cm; }
        .netsquare.symbol-150, .stamp.symbol-150 { background-position: 18cm 18cm; }

        table.tab-cube-colors {
            width: 260px;
            height: 260px;
            border: none;
        }
        table.tab-cube-colors td {
            border: 1px solid gray;
        }

        .leftpad {
            margin-left: 30px;
        }
        .gridstack.leftpad, .gridstack .leftpad {.wc-table
            margin-left: 50px;
        }
        button {
            margin: 4px;
            border: black 2px solid;
            border-radius: 3px;
            transition: 1s;
            display: block;
            font-family: "Special Elite";
            padding-top: 3px;
        }
        button.reset-board, button.reset-all, button.reset-saves, button.save {
            padding-left: 2px;
            padding-bottom: 0px;
            padding-right: 2px;
        }
        .colorbutton {
            margin: 4px;
            border: 1px solid black;
            border-radius: 3px;
            font-size: 20px;
            width: 35px;
            height: 35px;
            box-sizing: border-box;
            padding-top: 5px;
        }
        .colorbutton.selected {
            border: 4px dashed red;
        }
        .wc-table .facediv.selected {
            border: 6px dashed red;
        }

        .symbol-row {
            height: 66px;
            margin: auto;
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
        }
        .symbol-row.letters {
            margin-left: 36px;
        }

        .grouptext {
            position: relative;
            text-align: right;
            width: 580px;
        }

        .net-rot-box {
            height: 30px;
            font-size: 18px;
            justify-content: left;
        }

        .net-rotation {
            width: 46px;
            text-align: right;
        }

        .square {
            width: 66px;
            height: 66px;
            float: left;
            font-size: 40px;
            user-select: none;
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
            text-align: center;
            position: relative;
            border: #808080 1px solid;
            box-sizing: border-box;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
        }
        .square.numbers, .letters .square {
            border-width: 0;
            width: 50px;
            height: 50px;
        }
        .letters .square {
            margin-left: 14px;
        }
        .netnumHolder {
            position: relative;
            width: 100%;
            height: 100%;
            transform-origin: 50% 50%;
        }
        .netnum {
            color: black;
            position: absolute;
            top: 0px;
            left: 1px;
            font-size: 13.5px;
            font-weight: bold;
        }
        .square.animate, .animate .netnumHolder {
            transition: transform 0.5s !important;
        }

        .stamp {
            cursor: pointer;
            border: 1px solid black;
        }
        .netmark {
            border: 4px solid black;
        }

        .square.net {
            border-left: 4px solid black !important;
            border-right: 4px solid black !important;
            border-top: 4px solid black !important;
            border-bottom: 4px solid black !important;
        }

        .net .netsquare {
            margin-bottom: 4px;
        }

        .netmark, .rotatetool {
            margin: 2px;
            font-size: 20px;
            display: flex;
            justify-content: center;
            align-content: center;
            flex-direction: column;
        }

        .rotatetool {
            font-size: 16px;
            border: 3px solid black;
            border-radius: 32px;
        }

        .dark .netmark, .dark .rotatetool {
            border-color: #DDD;
        }

        .stamp.selected {
            border: 3px dashed red;
        }
        .netmark.selected {
            border: 4px dashed red;
        }

        .copy-cube {
            height: 0;
        }
        .tcube {
            position: relative;
            top: 110px;
        }
        .bcube {
            position: relative;
            top: 230px;
        }
        .symbolboard {
            transform-origin: 50% 50%;
            transition: transform 0.5s;
        }
        .gridholder {
            width: 360px;
            margin-left: 0;
            margin-top: 10px;
        }

        .lWalkpath {
            margin-top: 0;
            margin-bottom: 0;
        }

        .net-rot-box button {
            height: 30px;
            width: 40px;
            background-size: 30px 64px;
            background-position: 2px -20px;
            background-repeat: no-repeat;
            position: relative;
            bottom: 2px;
            display: flex;
            justify-content: center;
            align-content: center;
            flex-direction: column;
        }

        button:hover {
            color: white;
            background-color: black;
        }
        button.flash {
            color: white;
            background-color: blue;
        }

        h4 {
            margin-top: 3mm;
            padding-left: 6mm;
        }

        .buttons {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
        }

        .page {
            background-repeat: repeat-y;
            background-position: top;
        }

        button.rotatenet, button.flipnet {
            background-repeat: no-repeat;
        }

        button.rotatenet.bg-ccw, button.rotatenet.bg-cw {
            height: 19px;
            width: 34px;
        }
        .bg-ccw {
            background-image: url('data:image/svg+xml,<svg viewBox="-1 -1.4 24.6 13.3" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="black" stroke-width="2.8" stroke-linecap="round"><path d="M0.6 5.2l2.1 4.5 4.8-3.1M3.2 7.8s1.2-7 9.5-6.8c8.1 0 8.9 8.1 8.9 7.5"/></svg>');
        }
        .bg-cw {
            background-image: url('data:image/svg+xml,<svg viewBox="-1 -.5 24 12.2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="black" stroke-width="2.8" stroke-linecap="round"><path d="M21.6 4.7l-3.2 5-4.2-3.3m4.2 1.4S18 .8 10 1C2 1 1.1 9.1 1.1 9.1"/></svg>');
        }
        button.rotatenet.bg-ccw {
            background-size: 27px 60px;
            background-position: 2px -23px;
        }
        button.rotatenet.bg-cw {
            background-size: 27px 57px;
            background-position: 2px -21px;
        }
        button.flipnet {
            height: 19px;
            width: 34px;
            background-image: url('data:image/svg+xml,<svg viewBox="0 0 22 10" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="black" stroke-width="2.1" stroke-linecap="round"><path d="M16.2 1.4L20 5l-3.8 3.6M2 5h18M6 1.4L2 5l4 3.7" /></svg>');
            background-size: 30px 25px;
            background-position: 0px -5.5px;
        }
        button.bg-ccw:hover {
            background-image: url('data:image/svg+xml,<svg viewBox="-1 -1.4 24.6 13.3" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="white" stroke-width="2.8" stroke-linecap="round"><path d="M0.6 5.2l2.1 4.5 4.8-3.1M3.2 7.8s1.2-7 9.5-6.8c8.1 0 8.9 8.1 8.9 7.5"/></svg>');
        }
        button.bg-cw:hover {
            background-image: url('data:image/svg+xml,<svg viewBox="-1 -.5 24 12.2" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="white" stroke-width="2.8" stroke-linecap="round"><path d="M21.6 4.7l-3.2 5-4.2-3.3m4.2 1.4S18 .8 10 1C2 1 1.1 9.1 1.1 9.1"/></svg>');
        }
        button.flipnet:hover {
            background-image: url('data:image/svg+xml,<svg viewBox="0 0 22 10" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="white" stroke-width="2.1" stroke-linecap="round"><path d="M16.2 1.4L20 5l-3.8 3.6M2 5h18M6 1.4L2 5l4 3.7" /></svg>');
        }
        .gridstack button, button.reset2 {
            border: black 3px solid;
            font-size: 18px;
        }

    </style>
    <script>
        const colorNames = ["RED", "GREEN", "BLUE", "CYAN", "MAGENTA", "YELLOW", "WHITE", "ORANGE"];

        const defaultColors = [[0, 0, 4, 6, 2], [2, 0, 3, 4, 0], [5, 5, 6, 7, 5], [1, 2, 4, 1, 6], [2, 2, 1, 4, 2]]
        const defaultSymbols = [[70, 80, 75, 117, 93], [10, 11, 12, 111, 14], [0, 112, 2, 105, 20], [62, 16, 103, 18, 19], [4, 21, 22, 23, 24]]
        const numSymbols = 120;
        const smallOff = [0.8, 0.8, 1, 0];
        const smallOff2 = [0.9, 0.9, 0, -1];
        const nosym = "18cm 18cm";

        function setDefaultRules() {
            showRules(defaultColors, defaultSymbols);
        }

        function setRules(rnd) {
            if (rnd.seed === 1) {
                setDefaultRules();
                return;
            }

            // Colors
            const colors = []
            for (let i = 0; i < colorNames.length; ++i) {
                colors.push(i);
            }
            rnd.shuffleFisherYates(colors);
            let newColors = [];
            for (let row of defaultColors) {
                const newRow = [];
                for (let val of row) {
                    if (val === -1) {
                        newRow.push(-1);
                    } else {
                        newRow.push(colors[val]);
                    }
                }
                newColors.push(newRow);
            }
            if (rnd.nextDouble() > 0.5) {
                newColors = mirrorHorizontal(newColors);
            }
            if (rnd.nextDouble() > 0.5) {
                newColors = mirrorVertical(newColors);
            }
            newColors = rotate(newColors, rnd.next(0, 4));

            // Symbols
            const symbols = [];
            for (let i = 0; i < numSymbols; i++) {
                symbols.push(i);
            }
            rnd.shuffleFisherYates(symbols);
            console.log(symbols)

            const symbolGrid = [];
            for (let i = 0; i < 5; i++) {
                const row = [];
                for (let j = 0; j < 5; j++) {
                    row.push(symbols[defaultSymbols[i][j]]);
                }
                symbolGrid.push(row);
            }

            // Show rules
            showRules(newColors, symbolGrid);
        }

        function removeAllChildNodes(parent) {
            while (parent.firstChild) {
                parent.removeChild(parent.firstChild);
            }
        }

        function noSpecialKeys(event) {
            return !(event.shiftKey || event.ctrlKey || event.altKey || event.metaKey);
        }

        function showRules(colors, symbols) {
            let table1 = $(".wc-color-table");
            if (table1.find("tr").length > 0) {
                location.reload();
            }
            let table2 = $(".wc-table");

            for (let r = 0; r < 6; r++) {
                let row1 = $("<tr>").appendTo(table1);
                let row2 = $("<tr>").appendTo(table2);
                if (r == 0) {
                    for (let c = 1; c <= 5; c++) {
                        $("<th>").text(`Page\n${c}`).addClass("pagenum").appendTo(row1);
                        $("<th>").text(`Page\n${c}`).addClass("pagenum").appendTo(row2);
                    }
                }
                else {
                    for (let c = 0; c < 5; c++) {
                        let td2 = $("<td>").click(function() {
                            let facediv = $(this).find(".facediv");
                            if (facediv) {
                                $(".selected").removeClass("selected");
                                selectedCol = selected = selectedBgPos = null;

                                facediv.addClass("selected");
                                let stamp = facediv.find(".stamp");
                                let st = hasWhichSymbolClass(stamp);
                                if (st >= 0) { selected = stamps[st]; }
                                selectedBgPos = stamp.css("background-position");
                                let col = hasWhichColor($(this));
                                if (col >= 0) { selectedCol = faceColors[col]; }
                            }
                        }).appendTo(row2);
                        let td1 = $("<td>").click(function(event) {
                            if (noSpecialKeys(event)) {
                                $(this).find(".facediv").toggleClass("chosen");
                                if ($(this).find(".facediv").hasClass("chosen")) {
                                    $(this).find(".obstruction").addClass("invisible");
                                    let copy = $(this).html();
                                    let col = hasWhichBgClass($(this));
                                    removeColorClass(td2);
                                    td2.html(copy).addClass(faceColors[col]); // + " bordered"
                                    td2.find(".facediv").removeClass("chosen");
                                    td2.find(".obstruction").remove();
                                    let f = td2.find(".face");
                                    f.removeClass("face").addClass("stamp");
                                    offBGPosition(f, smallOff[0], smallOff[1], smallOff[2], smallOff[3]);
                                }
                                else {
                                    $(this).find(".obstruction").removeClass("invisible");
                                    removeColorClass(td2);
                                    td2.html(""); //.removeClass("bordered")
                                    selectedCol = selected = selectedBgPos = null;
                                    updateSelection(null);
                                }
                            }
                        }).appendTo(row1);
                        let facediv = $("<div>").addClass("facediv vstack").appendTo(td1);
                        $("<div>").addClass("face symbol-0").appendTo(facediv);
                        $("<div>").addClass("obstruction").appendTo(td1);
                    }
                }
            }
            $(".wc-color-table td").each(function (i) {
                let color = colorNames[colors[Math.floor(i / 5)][i % 5]];
                $(this).removeClass("bg-gray " + colorNames.map(c => 'bg-' + c.toLowerCase()).join(" "));
                if (color) {
                    $(this).addClass('bg-' + color.toLowerCase());
                    $(this).find(".obstruction").addClass(color.toLowerCase());
                } else {
                    $(this).addClass("bg-gray");
                }
                // $(this).text("" + symbols[Math.floor(i / 5)][i % 5]);
            });
            $(".wc-color-table td .facediv div").each(function (i) {
                $(this).attr('class', $(this).attr('class').replace(/symbol-\d+/, "symbol-" + symbols[Math.floor(i / 5)][i % 5]));
                stamps.push("symbol-" + symbols[Math.floor(i / 5)][i % 5]);
            });
            completeSetup();
        }

        function reverse(arr) {
            const res = [];
            for (let i = arr.length - 1; i >= 0; --i) {
                res.push(arr[i]);
            }
            return res;
        }

        function mirrorVertical(arr) {
            const res = [];
            for (let row of arr) {
                res.push(reverse(row));
            }
            return res;
        }

        function mirrorHorizontal(arr) {
            return reverse(arr);
        }

        function rotate(arr, count) {
            count %= 4;
            let res = arr;
            while (true) {
                if (count < 0 || res.length < 1) {
                    console.error("uh oh");
                    return;
                }
                if (count === 0) {
                    return res;
                }

                const resultArr = [];
                for (let i = 0; i < res[0].length; ++i) {
                    const row = [];
                    for (let j = 0; j < res.length; ++j) {
                        row.push(res[res.length - j - 1][i]);
                    }
                    resultArr.push(row);
                }

                res = resultArr;
                --count;
            }
        }

        let faceColors = ["black", "white", "red", "green", "blue", "magenta", "orange", "yellow", "cyan"];
        let bgClass = ["bg-black", "bg-white", "bg-red", "bg-green", "bg-blue", "bg-magenta", "bg-orange", "bg-yellow", "bg-cyan"];
        let colorLetter = ["K", "W", "R", "G", "B", "M", "O", "Y", "C"];
        var stamps = [];
        function hasWhichColor(elem) {
            for (var i = 0; i < faceColors.length; i++) {
                if (elem.hasClass(faceColors[i])) { return i; }
            }
            return -1;
        }
        function hasWhichBgClass(elem) {
            for (var i = 0; i < bgClass.length; i++) {
                if (elem.hasClass(bgClass[i])) { return i; }
            }
            return -1;
        }
        function hasWhichSymbolClass(elem) {
            for (let i = 0; i < stamps.length; i++) {
                if (elem.hasClass(stamps[i])) { return i; }
            }
            return -1;
        }

        function nextColor(elem) {
            let c = hasWhichColor(elem);
            removeColorClass(elem);
            elem.addClass(faceColors[(c + 1) % faceColors.length]);
        }

        function removeColorClass(elem) {
            faceColors.forEach(function(val) {
                elem.removeClass(val);
            });
        }

        function hierHasClass(elem, classname) {
            if (elem.className && elem.className.split(' ').indexOf(classname)>=0) {return true;}
            return elem.parentNode && hierHasClass(elem.parentNode, classname);
        }

        function offBGPosition(elem, x, y, dx, dy) {
            let prop = elem.css("background-position").replace(/px/g, "").split(' ');
            let pos = [parseFloat(prop[0]),parseFloat(prop[1])];
            pos[0] = pos[0] * x + dx;
            pos[1] = pos[1] * y + dy;
            elem.css("background-position", `${pos[0]}px ${pos[1]}px`);
        }

        function updateSelection(elem) {
            $(".selected").removeClass("selected");
            if (elem && elem.length > 0) {
                elem.addClass("selected");
            }
        }

        function nextPathN() {
            pathN.sort(function(a, b) {
                return a - b;
            });
            let first = 1;
            for (let i = 1; i <= pathN.length; i++) {
                first = pathN[i-1];
                if (first !== i) {
                    first = i;
                    break;
                }
                first = i + 1;
            }
            pathN.push(first);
            return first;
        }

        function UMod(n, d) {
            return n - d * Math.floor(n / d);
        }

        let netRotation = [0,0,0];
        let netflipX = [1,1,1];
        let netflipY = [1,1,1];
        var selected = null;
        var selectedCol = null;
        var selectedBgPos = null;
        var pathN = [];

        function completeSetup() {
            let cubeColorTable = $(".tab-cube-colors");
            removeAllChildNodes(cubeColorTable[0]);
            let cbstacks = $(".vstack.colors .colorrow");
            removeAllChildNodes(cbstacks[0]);
            removeAllChildNodes(cbstacks[1]);

            for (let r = 0; r < 5; r++) {
                let row = $("<tr>").appendTo(cubeColorTable);
                for (let r = 0; r < 5; r++) {
                    $("<td>").click(function() {
                        if (faceColors.includes(selected)) {
                            let cell = $(this);
                            var whichColor = hasWhichColor(cell);
                            if (whichColor >= 0) {
                                cell.removeClass(faceColors[whichColor]);
                                if (faceColors[whichColor] != selected) {
                                    cell.addClass(selected);
                                } else {
                                    cell.addClass("black");
                                }
                            } else {
                                cell.removeClass("black");
                                cell.addClass(selected);
                            }
                        }
                    }).addClass("cube-color-cell black").appendTo(row);
                }
            }

            for (let c = 0; c < colorLetter.length; c++) {
                let cButtons = (c < 5 ? $(".vstack.colors .hstack.r1") : $(".vstack.colors .hstack.r2"));
                $("<div>").text(colorLetter[c]).click(function() {
                    selected = faceColors[c];
                    updateSelection($(this));
                }).addClass("colorbutton hstack " + faceColors[c]).appendTo(cButtons);
            }

            function rotateFlipNetShape(net, r, nfX, nfY) {
                $(`.net${net} svg.centered-img`).css("transform", `rotate(${90*r}deg) scale(${nfX}, ${nfY})`);
            }

            function flipNetShape(net) {
                let r = netRotation[net-1];
                if (r % 2 == 0) { netflipX[net-1] *= -1; }
                else { netflipY[net-1] *= -1; }
                rotateFlipNetShape(net, r, netflipX[net-1], netflipY[net-1]);
            }

            $("svg.centered-img").each((i) => {
                $("svg.centered-img").eq(i).dblclick(function(event) {
                    if (noSpecialKeys(event)) {
                        flipNetShape(i + 1);
                    }
                }).click(function(event) {
                    if (event.shiftKey) {
                        netRotation[i] += 1;
                    } else if (event.ctrlKey || event.metaKey) {
                        netRotation[i] -= 1;
                    }
                    rotateFlipNetShape(i + 1, netRotation[i], netflipX[i], netflipY[i]);
                });
            });


            $("button.rotatenet").click(function() {
                let b = $(this);
                let net = 3;
                if (hierHasClass(b[0], "net1")) { net = 1 }
                else if (hierHasClass(b[0], "net2")) { net = 2 }
                netRotation[net-1] += (b.hasClass("bg-cw") ? 1 : -1);
                rotateFlipNetShape(net, netRotation[net-1], netflipX[net-1], netflipY[net-1]);
            });

            $("button.flipnet").click(function() {
                let b = $(this);
                let net = 3;
                if (hierHasClass(b[0], "net1")) { net = 1 }
                else if (hierHasClass(b[0], "net2")) { net = 2 }
                flipNetShape(net);
            });

            $(".netshape").click(function(event) {
                if (faceColors.includes(selected) && noSpecialKeys(event)) {
                    let cell = $(this);
                    var whichColor = hasWhichColor(cell);
                    if (whichColor >= 0) {
                        cell.removeClass(faceColors[whichColor]);
                        if (faceColors[whichColor] != selected) {
                            cell.addClass(selected);
                        } else {
                            cell.addClass("black");
                        }
                    } else {
                        cell.removeClass("black");
                        cell.addClass(selected);
                    }
                }
            });

            var symbolboard = $(".symbolboard");
            var row = $(".net-rot-box");
            let tools = $(".tools");
            removeAllChildNodes(symbolboard[0]);
            removeAllChildNodes(row[0]);
            removeAllChildNodes(tools[0]);

            var start;
            let saveStates = [];
            let currentState = 0;

            $(document).click(function() {
                start = null;
            }).keydown(function(event) {
                if (event.key == "Escape") {
                    selectNet();
                }
            });

            var squares = 4;
            var rows = 4;
            var rotations = {};
            var gridRotation = 0;
            row = $(".net-rot-box");
            $("<span>").text(`Net\xa0Rotation:`).appendTo(row);
            $("<div>").addClass("net-rotation thenumber").text("0").appendTo(row);
            $("<div>").addClass("net-rotation").text("deg").appendTo(row);
            $("<div>").css("width", "5px").appendTo(row);
            $("<button>").addClass("bg-ccw").appendTo(row).click(function() {
                rotateNet(true);
            });
            $("<button>").addClass("bg-cw").appendTo(row).click(function() {
                rotateNet(false);
            });

            function rotateNet(ccw) {
                gridRotation = gridRotation + (ccw ? 1 : -1);
                $(".wc-table").css("transform", `scaleX(-1) rotate(${gridRotation * 90}deg)`);
                $(".wc-table th").css("transform", `scaleX(-1) rotate(${gridRotation * 90}deg)`);
                $(".net-rotation.thenumber").text(`${UMod(-gridRotation, 4) * 90}`);
            }

            row = $("<div>").addClass("symbol-row letters").appendTo(symbolboard);
            for (var i = 0; i < squares; i++) {
                $("<div>").addClass("square").text(String.fromCharCode(65 + i)).appendTo(row);
            }
            for (let y = 1; y <= rows; y++) {
                row = $("<div>").addClass("symbol-row").appendTo(symbolboard);
                $("<div>").addClass("square numbers").text(y).appendTo(row);
                for (let x = 0; x < squares; x++) {
                    let square = $("<div>").addClass("netsq square white").appendTo(row).each(function(_, e) {
                        rotations[`${squares*y + x}`] = 0;
                        var element = $(e);

                        element.mousedown(function(event) {
                            start = [x, y];
                            event.preventDefault();
                            event.stopPropagation();
                        });

                        element.mouseup(function(event) {
                            if (start) { // Just in case.
                                var changed = [];
                                var i, dist, dirx, diryi;
                                if (start[0] == x) {
                                    dist = Math.abs(start[1] - y);
                                    diry = (start[1] < y) ? 1 : -1;
                                    for (i = 0; i <= dist; i++) {
                                        changed.push([x, start[1] + i * diry]);
                                    }
                                } else if (start[1] == y) {
                                    dist = Math.abs(start[0] - x);
                                    dirx = (start[0] < x) ? 1 : -1;
                                    for (i = 0; i <= dist; i++) {
                                        changed.push([start[0] + i * dirx, y]);
                                    }
                                } else if (Math.abs(start[0] - x) == Math.abs(start[1] - y)) {
                                    dist = Math.abs(start[0] - x);
                                    dirx = (start[0] < x) ? 1 : -1;
                                    diry = (start[1] < y) ? 1 : -1;

                                    for (i = 0; i <= dist; i++) {
                                        changed.push([start[0] + i * dirx, start[1] + i * diry]);
                                    }
                                }

                                if (changed.length > 0) {
                                    let from = symbolboard.children().eq(start[1]).children().eq(start[0] + 1);
                                    let firstnet = from.hasClass("net");
                                    let firstcol = from.hasClass(selected);
                                    let toMove = hasWhichSymbolClass(from);
                                    let whichColor = hasWhichColor(from);
                                    changed.forEach(function(pos) {
                                        let elm = symbolboard.children().eq(pos[1]).children().eq(pos[0] + 1);
                                        if (event.ctrlKey || event.metaKey) {
                                            if (changed.length == 1) {
                                                var r = squares * y + x;
                                                elm.addClass("animate");
                                                rotate90(elm, r, false);
                                                setTimeout(function(){ elm.removeClass("animate"); }, 500);
                                            }
                                        } else if (event.shiftKey || selected == "rotating") {
                                            if (changed.length == 1) {
                                                var r = squares * y + x;
                                                elm.addClass("animate");
                                                rotate90(elm, r, true);
                                                setTimeout(function(){ elm.removeClass("animate"); }, 500);
                                            }
                                        } else if (selected == "netting") {
                                            let shouldChange = (elm.hasClass("net") != !firstnet);
                                            if (changed.length == 1) {
                                                elm.toggleClass("net");
                                            } else {
                                                if (shouldChange) {
                                                    elm.toggleClass("net");
                                                }
                                            }
                                            if (shouldChange && elm.hasClass("net")) {
                                                elm.find(".netnum").text(nextPathN());
                                            } else if (shouldChange) {
                                                let n = parseInt(elm.find(".netnum").text());
                                                pathN.splice(pathN.indexOf(n), 1);
                                                elm.find(".netnum").text("");
                                            }
                                        } else if (faceColors.includes(selected)) {
                                            if (whichColor >= 0) {
                                                removeColorClass(elm);
                                                let col = (faceColors[whichColor] != selected ? selected : "white");
                                                elm.addClass(col);
                                                if (!elm.hasClass(col)) { elm.addClass("white"); }
                                            }
                                        } else if (selectedCol && changed.length == 1) {
                                            let ns = elm.find(".netsquare");
                                            let whichSymbol = hasWhichSymbolClass(ns);
                                            if (whichSymbol >= 0) {
                                                ns.removeClass(stamps[whichSymbol]);
                                                elm.css("transform", "rotate(0)");
                                                elm.find(".netnumHolder").css("transform", "rotate(0)");
                                                rotations[squares * y + x] = 0;
                                                if (stamps[whichSymbol] != selected) {
                                                    ns.addClass(selected);
                                                    ns.css("background-position", selectedBgPos);
                                                    offBGPosition(ns, smallOff2[0], smallOff2[1], smallOff2[2], smallOff2[3]);
                                                    removeColorClass(elm);
                                                    elm.addClass(selectedCol);
                                                } else {
                                                    ns.addClass("symbol-150").css("background-position", nosym);
                                                    removeColorClass(elm);
                                                    elm.addClass("white");
                                                }
                                            } else {
                                                ns.removeClass("symbol-150");
                                                ns.addClass(selected);
                                                ns.css("background-position", selectedBgPos);
                                                offBGPosition(ns, smallOff2[0], smallOff2[1], smallOff2[2], smallOff2[3]);
                                                removeColorClass(elm);
                                                elm.addClass(selectedCol);
                                            }
                                        }
                                    });
                                }

                                start = null;
                            }
                            event.preventDefault();
                            event.stopPropagation();
                        });
                    });
                    let nnh = $("<div>").addClass("netnumHolder").appendTo(square);
                    $("<div>").addClass("netnum").appendTo(nnh);
                    $("<div>").addClass("netsquare symbol-150").appendTo(square);
                }
            }

            function removeSymbolClass(elem) {
                stamps.forEach(function(val) {
                    elem.removeClass(val);
                });
            }

            function hasWhichSymbolClass(elem) {
                for (let i = 0; i < stamps.length; i++) {
                    if (elem.hasClass(stamps[i])) {
                        return i;
                    }
                }
                return -1;
            }

            function rotate90(elem, r, cw) {
                rotations[r] = rotations[r] + (cw ? 1 : -1);
                elem.css("transform", `rotate(${rotations[r] * 90}deg)`);
                elem.find(".netnumHolder").css("transform", `rotate(${-rotations[r] * 90}deg)`);
            }

            function selectNet() {
                $(".selected").removeClass("selected");
                $(".netmark").addClass("selected");
                selected = selectedCol = "netting";
            }

            $("<div>").addClass("stamp square netmark symbol-150").text("Net").appendTo(tools).click(function() {
                selectNet();
            }).click();
            $("<div>").addClass("stamp square rotatetool symbol-150").text("Rotate").appendTo(tools).click(function() {
                $(".selected").removeClass("selected");
                $(this).addClass("selected");
                selected = selectedCol = "rotating";
            });

            $(".reset-board").click(function() {
                $(".netsq.square").each(function(_, e) {
                    removeColorClass($(e));
                }).addClass("white").css("transform", "rotate(0)");
                $(".netnumHolder").css("transform", "rotate(0)");

                $(".square .netsquare").each(function(_, e) {
                    removeSymbolClass($(e));
                }).addClass("symbol-150").css("background-position", nosym);

                for (var key in rotations){ rotations[key] = 0; }
            });

            $(".reset-saves").click(function() {
                saveStates.forEach(x => x.remove());
                saveStates = [];
                currentState = 0;
            });
            $(".reset-all").click(function() {
                $(".netsq.square").each(function(_, e) {
                    removeColorClass($(e));
                }).removeClass("net").addClass("white").css("transform", "rotate(0)");
                $(".netnumHolder").css("transform", "rotate(0)");

                $(".square .netsquare").each(function(_, e) {
                    removeSymbolClass($(e));
                }).addClass("symbol-150").css("background-position", nosym);

                $(".netnum").text("");
                pathN.splice(0, pathN.length);

                for (var key in rotations){ rotations[key] = 0; }
                saveStates.forEach(x => x.remove());
                saveStates = [];
                currentState = 0;
                selectNet();
            });
            $(".reset2").click(function() {
                $(".wc-color-table td .chosen").each(function(_, e){
                    e.parentNode.click();
                });
                for (let i = 0; i < netRotation.length; i++) { netRotation[i] = 0; };
                $("svg.centered-img").css("transform", "rotate(0)");
                removeColorClass($(".cube-color-cell"));
                $(".cube-color-cell").addClass("black");
            });

            function removeFutureSaves() {
                if (currentState < saveStates.length - 1) {
                    for (let i = currentState + 1; i < saveStates.length; i++) {
                        saveStates[i].remove();
                    }

                    saveStates.splice(currentState + 1, saveStates.length - currentState);
                }
            }

            $("button.save").click(function() {
                removeFutureSaves();

                let saveStateGrid = Array.from($(".symbolboard .square")).map(x => $(x)).map(x => x.attr("class") || "");
                let saveStateNetsq = Array.from($(".symbolboard .netsquare")).map(x => $(x)).map(x => x.attr("class") || "");
                let saveStateNsBg = Array.from($(".symbolboard .netsquare")).map(x => $(x)).map(x => x.css("background-position") || "");
                let saveStateTran = Array.from($(".square")).map(x => $(x)).map(x => x.css("transform") || "");
                let saveStateNTran = Array.from($(".square .netnumHolder")).map(x => $(x)).map(x => x.css("transform") || "");
                let saveStateN = Array.from($(".square .netnum")).map(x => $(x)).map(x => x.text() || "");
                console.log(saveStates);
                let stateNumber = saveStates.length;
                currentState = stateNumber;
                var rot = {};
                Object.assign(rot, rotations);
                let pathNums = [];
                Object.assign(pathNums, pathN);

                let button = $("<button>").text(stateNumber + 1).click(function() {
                    $(".symbolboard .square").each((i, x) => $(x).attr("class", saveStateGrid[i]));
                    $(".symbolboard .netsquare").each((i, x) => $(x).attr("class", saveStateNetsq[i]));
                    $(".symbolboard .netsquare").each((i, x) => $(x).css("background-position", saveStateNsBg[i]));
                    $(".square").each((i, x) => $(x).css("transform", saveStateTran[i]));
                    $(".square .netnumHolder").each((i, x) => $(x).css("transform", saveStateNTran[i]));
                    $(".square .netnum").each((i, x) => $(x).text(saveStateN[i]));
                    Object.assign(rotations, rot);
                    currentState = stateNumber;
                    Object.assign(pathN, pathNums);
                    pathN.splice(pathNums.length);
                }).addClass("flash").appendTo(".saves");
                setTimeout(() => {
                    button.removeClass("flash");
                }, 100);

                saveStates.push(button);
            });
        }
    </script>
</head>
<body>
    <div class="page page-bg-01">
        <div class="page-header">
            <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
            <span class="page-header-section-title">Walking Cube</span>
        </div>
        <div class="page-content">
            <img src="img/Component/Walking Cube.svg" class="diagram">
            <h2>On the Subject of Walking Cubes</h2>
            <p class="flavour-text">I mean, it's more of a "roll" if you think about it...</p>

            <ul class="rules-list">
                <li>
                    Present on the module is a cube which is "walking" around the module. The cube has several colored
                    faces. Take note of these faces and their relative orientations.
                </li>
                <li>
                    First, align one of the cube nets below over Table 1 in such a way that the colors covered by the
                    net, when folded back into a cube, would match the colors on the cube on the module. Note that the
                    nets may flipped or rotated in the table.
                </li>
                <li>
                    Once you determine the correct net to use, take note of the symbols (and their orientations) on each
                    face of the net. Aligning this net with the cube on the module will indicate which symbols are on
                    which faces of the cube. <em>Note: when re-folding the net, the symbols should be oriented
                    OUTWARD.</em>
                </li>
                <li>
                    As the cube moves around the 4×4 grid, use the symbol selectors to fill the grid squares that the
                    cube touches such that the placed symbols match (including orientation) the symbol on the cube face
                    which touched the grid square. In other words, answer the question of "if the cube left symbol
                    impressions on the grid below as it moved around, what would the grid look like?"
                </li>
                <li>
                    Tap a symbol in the selection bar to select it. Tap the symbol again to rotate it. A green frame
                    indicates which symbol is selected.
                </li>
                <li>
                    To change pages for the symbol selectors, press the page indicator button. For easy reference, Table
                    1 lists the page that each symbol is in.
                </li>
                <li>
                    Tap a square in the grid to place the selected symbol. Do not tap a square in the net when no symbol
                    is selected.
                </li>
                <li>
                    To disarm the module, all grid squares corresponding to spaces which the walking cube touches must
                    be
                    filled in with the proper symbol in the correct orientation
                </li>
                <li>
                    Attempting to place a symbol in an incorrect grid square or an incorrect orientation will incur a
                    strike.
                </li>
            </ul>
        </div>
        <div class="page-footer relative-footer">Page 1 of 3</div>
    </div>
    <div class="section">
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Walking Cube</span>
            </div>
            <div class="page-content">
                <div class="hstack wrap">
                    <div class="vstack">
                        <h3>Table 1</h3>
                        <table class="wc-color-table"></table>
                    </div>
                    <div class="vstack leftpad">
                        <div style="height: 7mm"></div>
                        <h3>Cube Face Colors</h3>
                        <table class="tab-cube-colors"></table>
                        <div class="vstack colors">
                            <div class="colorrow hstack r1"></div>
                            <div class="colorrow hstack r2"></div>
                        </div>
                        <div style="height: 2mm"></div>
                        <button class="reset2">Reset Page 2</button>
                    </div>
                </div>
                <div style="height: 5mm"></div>

                <div class="hstack wrap" style="align-items: baseline">
                    <div class="vstack net1" style="width: 62mm">
                        <div class="hstack">
                            <button class="rotatenet bg-ccw"></button>
                            <button class="flipnet"></button>
                            <button class="rotatenet bg-cw"></button>
                        </div>
                        <svg class="centered-img net-img2" viewBox="0 0 111 261">
                            <g transform="translate(5.5 5.5)" fill="#bbb" stroke="#000" stroke-width="1"
                               stroke-miterlimit="4" stroke-opacity="1">
                                <rect class="netshape" width="50" height="50" x="50" y="0"/>
                                <rect class="netshape" width="50" height="50" x="50" y="50"/>
                                <rect class="netshape" width="50" height="50" x="0" y="100"/>
                                <rect class="netshape" width="50" height="50" x="50" y="100"/>
                                <rect class="netshape" width="50" height="50" x="0" y="150"/>
                                <rect class="netshape" width="50" height="50" x="0" y="200"/>
                            </g>
                        </svg>
                    </div>
                    <div class="vstack net2" style="width: 65mm">
                        <div class="hstack">
                            <button class="rotatenet bg-ccw"></button>
                            <button class="flipnet"></button>
                            <button class="rotatenet bg-cw"></button>
                        </div>
                        <svg class="centered-img net-img3" viewBox="0 0 161 211">
                            <g transform="translate(5.5 5.5)" fill="#bbb" stroke="#000" stroke-width="1"
                               stroke-miterlimit="4" stroke-opacity="1">
                                <rect class="netshape" width="50" height="50" x="0" y="0"/>
                                <rect class="netshape" width="50" height="50" x="0" y="50"/>
                                <rect class="netshape" width="50" height="50" x="50" y="50"/>
                                <rect class="netshape" width="50" height="50" x="100" y="50"/>
                                <rect class="netshape" width="50" height="50" x="50" y="100"/>
                                <rect class="netshape" width="50" height="50" x="50" y="150"/>
                            </g>
                        </svg>
                    </div>
                    <div class="vstack net3" style="width: 48mm">
                        <div class="hstack">
                            <button class="rotatenet bg-ccw"></button>
                            <button class="flipnet"></button>
                            <button class="rotatenet bg-cw"></button>
                        </div>
                        <svg class="centered-img net-img3" viewBox="0 0 161 211">
                            <g transform="translate(5.5 5.5)" fill="#bbb" stroke="#000" stroke-width="1"
                               stroke-miterlimit="4" stroke-opacity="1">
                                <rect class="netshape" width="50" height="50" x="100" y="0"/>
                                <rect class="netshape" width="50" height="50" x="50" y="50"/>
                                <rect class="netshape" width="50" height="50" x="100" y="50"/>
                                <rect class="netshape" width="50" height="50" x="0" y="100"/>
                                <rect class="netshape" width="50" height="50" x="50" y="100"/>
                                <rect class="netshape" width="50" height="50" x="50" y="150"/>
                            </g>
                        </svg>
                    </div>
                </div>
                <h3>Interactive Grid</h3>
                <ul class="ul-short">
                    <li>Use one of the <b>color tools</b> to place/remove a color on the <b>face colors
                        grid</b> or on the gray <b>net shapes</b>.</li>
                    <li>Select the <b>symbols</b> to try to form one of the net shapes on the symbol grid.</li>
                    <li><em>Shift-click</em> a <b>net shape</b> or use the buttons to rotate clockwise,
                        <em>Ctrl-click</em> for counter-clockwise.</li>
                    <li><em>Double-click</em> a <b>net shape</b> or use the buttons to flip horizontally.</li>
                    <li><b>Selected symbols</b> will become <b>stamps</b> on the next page.</li>
                </ul>
            </div>
            <div class="page-footer relative-footer">Page 2 of 3</div>
        </div>
        <div class="page page-bg-05">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Walking Cube</span>
            </div>
            <div class="page-content">
                <div class="hstack wrap">
                    <div class="vstack">
                        <div class="net-rot-box hstack"></div>
                        <h3>Stamps</h3>
                        <table class="wc-table"></table>
                        <div style="height: 5mm"></div>
                        <div class="tools"></div>
                        <div style="height: 8mm"></div>
                    </div>
                    <div class="vstack leftpad gridstack" style="width: 70mm">
                        <h3 class="lWalkpath leftpad">Walking Path</h3>
                        <div class="gridholder"><div class="symbolboard"></div></div>
                        <div class="vstack colors" style="margin-top: 10px">
                            <div class="colorrow hstack r1"></div>
                            <div class="colorrow hstack r2"></div>
                        </div>
                        <div class="vstack" style="width: 80mm"><div class="saves buttons">
                            <button class="save">Save</button>
                        </div></div>
                        <div class="hstack wrap">
                            <button class="reset-saves">Reset Saves</button>
                            <button class="reset-board">Reset Grid</button>
                            <button class="reset-all">Reset All</button>
                        </div>
                    </div>
                </div>
                <h3>Interactive Net</h3>
                <ul class="ul-short">
                    <li>Note: <b>symbol stamps</b> are horizontally flipped on this page because
                        they are stamped on the <em>module surface</em> in this mirrored orientation compared
                        to how they would look <em>on a cube.</em></li>
                    <li>Select one of the <b>tools</b> or <b>symbol stamps</b>, then
                        click on the walking path net to use that tool or stamp.</li>
                    <li>Use one of the <b>symbol stamps</b> to place/remove a symbol.</li>
                    <li>Use the <b>Net Rotation</b> buttons to rotate the net of symbol stamps.</li>
                    <li>Use one of the <b>color tools</b> to place/remove a color on the
                        <b>walking path</b>.</li>
                    <li><b>Shift-click</b> a walking path square or use the <b>Rotate</b> tool to
                        rotate clockwise, <b>Ctrl-click</b> for counter-clockwise.</li>
                    <li>Use the <b>Net</b> tool to mark/unmark a square as part of the walking path
                        <em>in the order the cube walks</em> onto each.</li>
                    <li>Drag using the <b>Net</b> or <b>color tools</b> to mark/unmark several squares.</li>
                    <li>You can save the current state of the walking path, reset the squares, reset all saves,
                        or reset everything using the buttons below the walking path.</li>
                </ul>
            </div>
            <div class="page-footer relative-footer">Page 3 of 3</div>
        </div>
    </div>
</body>
</html>