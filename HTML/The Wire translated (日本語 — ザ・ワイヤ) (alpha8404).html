<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>ザ・ワイヤ — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        li.strong {
            font-weight: bold;
        }
        .page {
            background-repeat: repeat-y;
            background-position: top;
        }

        .flowchart :not(text, tspan) {
            stroke: #000;
        }
        .dark .flowchart :not(text, tspan) {
            stroke: #DDD;
        }
        .flowchart text {
            font-size: 10px;
            text-anchor: middle;
            user-select: none;
            pointer-events: none;
        }
        .dark .flowchart text { fill: #DDD; }
        .flow-box {
            stroke-width: 4;
            fill: transparent;
        }

        .set-dial-box {
            stroke-width: 1;
            fill: transparent;
            width: 60px; 
            height: 13px;
        }

        .start-box { fill: #DDD; }
        .dark .start-box { fill: #888; }
        .flowchart .arrow {
            stroke-width: 2;
            fill: none;
            marker-end: url(#arrowhead);
        }
        .dark #arrowhead { fill: #DDD; }
        .unset-dials-box {
            width: 110px;
            height: 80px;
        }

        .flowchart .arrow-text { font-size: 8px; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">ザ・ワイヤ</span>
            </div>
            <div class="page-content">
                <img src="img/Component/The Wire.svg" class="diagram">
                <h2>モジュール詳細：ザ・ワイヤ</h2>
                <p class="flavour-text">ワイヤが1本しかない？ならそれを切断すれば良いと思うよ。待って、ダイヤルはどうするんだ？</p>

                <ul>
                    <li>このモジュールは、３つの格納式ダイヤル(読み順に１～３)、格納式ワイヤ、数字が表示されるディスプレー、及び開始ボタンで構成されている。</li>
                    <li>モジュールを解除するには、ダイヤルを正しく設定し、指定された時間にワイヤを切断する必要がある。</li>
                    <li>開始ボタンを押してダイヤル／ワイヤを出し、カウントダウンを開始する。</li>
                    <li>カウントダウンの期限が切れると、ダイヤル／ワイヤが戻る。再初期化すると色がリセットされる。安全上の理由から、作動中はワイヤを切断できない。</li>
                    <li>フローチャートを使用して３つのダイヤルの正しい方向を決定する。ダイヤルを設定したら、そのダイヤルに関するそれ以上の指示は無視してよい。</li>
                    <li>ベン図を使用してワイヤを切断するタイミングを決定する。</li>
                    <li>ダイヤルの方向／ワイヤを切断するタイミングのいずれかが間違っているとミスが記録される。</li>
                    <li>赤=Red/青=Blue/緑=Green/橙=orange/紫=Purple/灰=Grey</li>
                </ul>
                <h3 class="">フローチャート</h3>
                <svg class="flowchart" viewBox="0 0 610 400" xmlns="http://www.w3.org/2000/svg">
                    <!-- <rect style="stroke:#00F8;fill:none;stroke-width:5;" x="0" y="0" width="600" height="400"></rect>
                    <path style="stroke:#00F8;stroke-width:3" d="M100 0 v400"></path>
                    <path style="stroke:#00F8;stroke-width:3" d="M200 0 v400"></path>
                    <path style="stroke:#00F8;stroke-width:3" d="M300 0 v400"></path>
                    <path style="stroke:#00F8;stroke-width:3" d="M400 0 v400"></path>
                    <path style="stroke:#00F8;stroke-width:3" d="M500 0 v400"></path>
                    <path style="stroke:#00F8;stroke-width:3" d="M0 100 h600"></path>
                    <path style="stroke:#00F8;stroke-width:3" d="M0 200 h600"></path>
                    <path style="stroke:#00F8;stroke-width:3" d="M0 300 h600"></path> -->
                    <defs>
                        <marker id="arrowhead" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5" orient="auto-start-reverse">
                          <path style="stroke:none" d="M 0 0 L 10 5 L 0 10 L 3 5z"/>
                        </marker>
                    </defs>

                    <path class="arrow" d="M170 45 H121"></path>
                    <text class="arrow-text" x="145" y="42">はい</text>

                    <path class="arrow" d="M190 70 V90 a10 10 0 0 1 -10 10 H70 a10 10 0 0 0 -10 10 V144"></path>
                    <text class="arrow-text" x="145" y="97">違う</text>

                    <path class="arrow" d="M250 150 h5 a10 10 0 0 0 10 -10 V76"></path>
                    <text class="arrow-text" x="-110" y="262" style="transform:rotate(-90deg)">はい</text>

                    <path class="arrow" d="M250 160 H340 a10 10 0 0 0 10 -10 V101"></path>
                    <rect class="set-dial-box highlightable" x="285" y="145"></rect>
                    <text class="arrow-text" x="299" y="155">いいえ：ダイヤル３＝Ｔ</text>

                    <path class="arrow" d="M145 280 h5 a10 10 0 0 0 10 -10 V216"></path>
                    <rect class="set-dial-box highlightable" x="97" y="240"></rect>
                    <text class="arrow-text" x="110" y="250">いいえ：ダイヤル２＝E</text>

                    <path class="arrow" d="M285 230 H190 a10 10 0 0 0 -10 10 V290 a10 10 0 0 1 -10 10 H151"></path>
                    <text class="arrow-text" x="235" y="228">はい</text>

                    <path class="arrow" d="M220 320 H151"></path>
                    <rect class="set-dial-box highlightable" x="155" y="323"></rect>
                    <text class="arrow-text" x="185" y="318">はい:</text>
                    <text class="arrow-text" x="185" y="333">ダイヤル１＝Ｑ</text>

                    <path class="arrow" d="M145 340 h5 a10 10 0 0 1 10 10 v23 a10 10 0 0 0 10 10 H420 a10 10 0 0 0 10 -10 a10 10 0 0 1 10 -10 H459"></path>
                    <text class="arrow-text" x="300" y="380">はい</text>

                    <path class="arrow" d="M412 260 V240 a10 10 0 0 0 -10 -10 H401"></path>
                    <text class="arrow-text" x="247" y="-414.5" style="transform:rotate(90deg)">違う</text>

                    <path class="arrow" d="M395 210 H470 a10 10 0 0 1 10 10 V224"></path>
                    <text class="arrow-text" x="435" y="219">違う</text>

                    <path class="arrow" d="M575 360 h5 a10 10 0 0 0 10 -10 V200 a10 10 0 0 0 -10 -10 H425 a10 10 0 0 1 -10 -10 V101"></path>
                    <rect class="set-dial-box highlightable" x="257" y="-607" style="transform:rotate(90deg)"></rect>
                    <text class="arrow-text" x="275" y="-597" style="transform:rotate(90deg)">はい：ダイヤル３＝Ｙ</text>

                    <path class="arrow" d="M520 230 V200 a10 10 0 0 0 -10 -10 h-30"></path>
                    <text class="arrow-text" x="210" y="-523" style="transform:rotate(90deg)">違う</text>

                    <path class="arrow" d="M500 230 V210 a10 10 0 0 0 -10 -10 H415 a10 10 0 0 1 -10 -10 v-5 a10 10 0 0 0 -10 -10 H256"></path>
                    <text class="arrow-text" x="375" y="172">はい</text>

                    <path class="arrow" d="M465 345 h-6 a10 10 0 0 1 -10 -10 V280 a10 10 0 0 1 10 -10"></path>
                    <rect class="set-dial-box highlightable" x="481" y="310"></rect>
                    <text class="arrow-text" x="495" y="320">いいえ：ダイヤル２＝Ｍ</text>

                    <path class="arrow" d="M430 45 H479"></path>
                    <text class="arrow-text" x="465" y="42">違う</text>

                    <path class="arrow" d="M430 45 h15 a10 10 0 0 1 10 10 v75 a10 10 0 0 0 10 10 H479"></path>
                    <text class="arrow-text" x="90" y="-458" style="transform:rotate(90deg)">はい</text>

                    <rect class="highlightable flow-box unset-dials-box" x="5" y="5"></rect>
                    <rect class="highlightable flow-box unset-dials-box" x="5" y="150"></rect>
                    <rect class="highlightable flow-box unset-dials-box" x="485" y="5"></rect>
                    <rect class="highlightable flow-box unset-dials-box" x="485" y="100"></rect>
                    <text><tspan x="60" y="22">セットされていない</tspan><tspan x="60" dy="13">ダイヤルについて、</tspan><tspan x="60" dy="13">ダイヤル１＝Q</tspan><tspan x="60" dy="13">ダイヤル２＝E</tspan><tspan x="60" dy="13">ダイヤル３＝Y</tspan></text>
                    <text><tspan x="60" y="167">セットされていない</tspan><tspan x="60" dy="13">ダイヤルについて、</tspan><tspan x="60" dy="13">ダイヤル１＝I</tspan><tspan x="60" dy="13">ダイヤル２＝M</tspan><tspan x="60" dy="13">ダイヤル３＝T</tspan></text>
                    <text><tspan x="540" y="22">セットされていない</tspan><tspan x="540" dy="13">ダイヤルについて、</tspan><tspan x="540" dy="13">ダイヤル１＝U</tspan><tspan x="540" dy="13">ダイヤル２＝S</tspan><tspan x="540" dy="13">ダイヤル３＝B</tspan></text>
                    <text><tspan x="540" y="117">セットされていない</tspan><tspan x="540" dy="13">ダイヤルについて、</tspan><tspan x="540" dy="13">ダイヤル１＝Z</tspan><tspan x="540" dy="13">ダイヤル２＝A</tspan><tspan x="540" dy="13">ダイヤル３＝O</tspan></text>

                    <rect class="highlightable flow-box" x="170" y="20" width="110" height="50" rx="10"></rect>
                    <rect class="highlightable flow-box" x="320" y="10" width="110" height="85" rx="10"></rect>
                    <rect class="highlightable flow-box" x="140" y="130" width="110" height="80" rx="10"></rect>
                    <rect class="highlightable flow-box" x="285" y="190" width="110" height="55" rx="10"></rect>
                    <rect class="highlightable flow-box" x="5" y="260" width="140" height="120" rx="10"></rect>
                    <rect class="highlightable flow-box" x="465" y="230" width="110" height="70" rx="10"></rect>
                    <rect class="highlightable flow-box" x="465" y="330" width="110" height="55" rx="10"></rect>
                    <text><tspan x="225" y="42">いずれかのダイヤルの</tspan><tspan x="225" dy="13">色同士が一致している</tspan></text>
                    <text><tspan x="375" y="28">ディスプレーの数字が</tspan><tspan x="375" dy="14">七または三？</tspan><tspan x="375" dy="14">もしくは赤がダイヤル</tspan><tspan x="375" dy="14">またはワイヤに</tspan><tspan x="375" dy="14">現れている？</tspan></text>
                    <text><tspan x="195" y="165">ディスプレーの数字に</tspan><tspan x="195" dy="13">１を足した数は素数？</tspan></text>
                    <text><tspan x="340" y="207">いずれかのダイヤルの</tspan><tspan x="340" dy="13">色がワイヤの色と</tspan><tspan x="340" dy="13">一致している？</tspan></text>
                    <text><tspan x="75" y="300">ディスプレーの数字と</tspan><tspan x="75" dy="13">バッテリーの本数の和は</tspan><tspan x="75" dy="13">ダイヤル２とワイヤの色の</tspan><tspan x="75" dy="13">文字数の和より大きい？</tspan></text>
                    <text><tspan x="520" y="255">ポートの数が</tspan><tspan x="520" dy="13">ディスプレーの</tspan><tspan x="520" dy="13">数字より大きい？</tspan></text>
                    <text><tspan x="520" y="360">緑と紫が存在する？</tspan></text>

                    <rect class="flow-box start-box" x="220" y="260" width="200" height="105"></rect>
                    <text><tspan x="320" y="277" font-weight="bold" font-size="12px">スタート</tspan><tspan x="320" dy="13">シリアルナンバーの数字の合計と</tspan><tspan x="320" dy="13">ディスプレーの数字の和は</tspan><tspan x="320" dy="13">シリアルナンバー内の英字に</tspan><tspan x="320" dy="13">相当する値か？</tspan><tspan x="320" dy="13">(a=1,b=2,...,27=a,28=bなど。</tspan><tspan x="320" dy="13">０に相当する値は無い)</tspan></text>
                </svg>
            </div>
            <div class="page-footer relative-footer">ページ 1/2</div>
        </div>

        <div class="page wire-page-2 page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">ザ・ワイヤ</span>
            </div>
            <div class="page-content">
                <h3>ベン図</h3>
                <img class="centered-img" src="img/The Wire/Venn_ja.png" width="600">

                <h4>カウントダウンタイマーの秒の1の桁が求めた数字の時にワイヤを切断する。</h4>
                <table class="condition-table">
                    <tr>
                        <th>I</th>
                        <td>(g + a)の最下位桁</td>
                        <th>IX</th>
                        <td>acf % 8</td>
                    </tr>
                    <tr>
                        <th>II</th>
                        <td>(j + e + f) % 10</td>
                        <th>X</th>
                        <td>(3h + g)最上位桁</td>
                    </tr>
                    <tr>
                        <th>III</th>
                        <td>((i + d + h) % 7) + 2</td>
                        <th>XI</th>
                        <td>(i + d - e) % 10</td>
                    </tr>
                    <tr>
                        <th>IV</th>
                        <td>(b + c) % 6</td>
                        <th>XII</th>
                        <td>4j % 5</td>
                    </tr>
                    <tr>
                        <th>V</th>
                        <td>(ja + c) % 9</td>
                        <th>XIII</th>
                        <td>((d % 7) + (i % 4)) % 10</td>
                    </tr>
                    <tr>
                        <th>VI</th>
                        <td>(fi + h)の最上位桁</td>
                        <th>XIV</th>
                        <td>cgの最下位桁</td>
                    </tr>
                    <tr>
                        <th>VII</th>
                        <td>(gb + b) % (e + 4)</td>
                        <th>XV</th>
                        <td>(j(f + h)) % 9</td>
                    </tr>
                    <tr>
                        <th>VIII</th>
                        <td>dの最下位桁</td>
                        <th>XVI</th>
                        <td>(b(e + a)) % 8</td>
                    </tr>
                </table>

                <h4>変数一覧：</h4>
                <table class="condition-table">
                    <tr>
                        <th>a</th>
                        <td>ディスプレーの数字</td>
                        <th>f</th>
                        <td>点灯していないインジケーターの総数</td>
                    </tr>
                    <tr>
                        <th>b</th>
                        <td>開始ボタンを押した総数</td>
                        <th>g</th>
                        <td>シリアルポート＋パラレルポート<br>＋RJ-45＋DVI-D</td>
                    </tr>
                    <tr>
                        <th>c</th>
                        <td>インジケーターの総数×2</td>
                        <th>h</th>
                        <td>モジュールの総数</td>
                    </tr>
                    <tr>
                        <th>d</th>
                        <td>ポートプレートの総数×4</td>
                        <th>i</th>
                        <td>ディスプレーの数字×6</td>
                    </tr>
                    <tr>
                        <th>e</th>
                        <td>ディスプレーの数字%3</td>
                        <th>j</th>
                        <td>点灯したインジケーターの総数</td>
                    </tr>
                </table>
                <ul>
                    <li>パーセント記号はモジュロ演算を示す。モジュロ演算とは左の数字を右の数字で除算した際の余りを求める演算である。</li>
                </ul>
            </div>
            <div class="page-footer relative-footer">ページ 2/2</div>
        </div>
    </div>
</body>
</html>