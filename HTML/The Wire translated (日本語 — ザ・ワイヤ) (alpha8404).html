<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>ザ・ワイヤ — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        li.strong { font-weight: bold; }
        table { font-size: 8.5pt; }

        .flowchart :not(text, tspan), .venn-diagram :not(text, tspan, .highlightable) { stroke: #000; }
        .dark .flowchart :not(text, tspan), .dark .venn-diagram :not(text, tspan, .highlightable) { stroke: #DDD; }
        svg text {
            text-anchor: middle;
            user-select: none;
            pointer-events: none;
        }
        .flowchart text { font-size: 9.5px; }
        .dark .flowchart text, .dark .venn-diagram text { fill: #DDD; }
        .flow-box {
            stroke-width: 4;
            fill: transparent;
        }
        .set-dial-box {
            stroke-width: 1;
            fill: transparent;
            width: 60px; 
            height: 13px;
        }
        .start-box { fill: #DDD; }
        .dark .start-box { fill: #444; }
        .flowchart .arrow {
            stroke-width: 2;
            fill: none;
            marker-end: url(#arrowhead);
        }
        .dark #arrowhead { fill: #DDD; }
        .unset-dials-box {
            width: 110px;
            height: 80px;
        }
        .venn-ellipse {
            transform-origin: 300px 150px;
            stroke-width: 2px;
            fill: transparent;
        }
        svg :not(.highlightable) {
            user-select: none;
            pointer-events: none;
        }
        svg .highlightable { fill: transparent; }
        .venn-diagram text { font-size: 12px; }
        .flowchart .arrow-text { font-size: 8px; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">ザ・ワイヤ</span>
            </div>
            <div class="page-content">
                <img src="img/Component/The Wire.svg" class="diagram">
                <h2>モジュール詳細：ザ・ワイヤ</h2>
                <p class="flavour-text">ワイヤが1本しかない？ならそれを切断すれば良いと思うよ。待って、ダイヤルはどうするんだ？</p>

                <ul>
                    <li>このモジュールは、3つの格納式ダイヤル(読み順に1～3)、格納式ワイヤ、数字が表示されるディスプレー、及び開始ボタンで構成されている。</li>
                    <li>モジュールを解除するには、ダイヤルを正しく設定し、指定された時間にワイヤを切断する必要がある。</li>
                    <li>開始ボタンを押してダイヤル／ワイヤを出し、カウントダウンを開始する。</li>
                    <li>カウントダウンの期限が切れると、ダイヤル／ワイヤが戻る。再初期化すると色がリセットされる。安全上の理由から、作動中はワイヤを切断できない。</li>
                    <li>フローチャートを使用して3つのダイヤルの正しい方向を決定する。ダイヤルを設定したら、そのダイヤルに関するそれ以上の指示は無視してよい。</li>
                    <li>ベン図を使用してワイヤを切断するタイミングを決定する。</li>
                    <li>ダイヤルの方向／ワイヤを切断するタイミングのいずれかが間違っているとミスが記録される。</li>
                    <li>赤=Red/青=Blue/緑=Green/橙=orange/紫=Purple/灰=Grey</li>
                </ul>
                <h3 class="">フローチャート</h3>
                <svg class="flowchart" viewBox="0 0 610 400" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <marker id="arrowhead" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5" orient="auto-start-reverse">
                          <path style="stroke:none" d="M 0 0 L 10 5 L 0 10 L 3 5z"/>
                        </marker>
                    </defs>

                    <path class="arrow" d="M170 45 H121"></path>
                    <text class="arrow-text" x="145" y="42">はい</text>

                    <path class="arrow" d="M190 70 V90 a10 10 0 0 1 -10 10 H70 a10 10 0 0 0 -10 10 V144"></path>
                    <text class="arrow-text" x="145" y="97">いいえ</text>

                    <path class="arrow" d="M250 150 h5 a10 10 0 0 0 10 -10 V76"></path>
                    <text class="arrow-text" x="-110" y="262" style="transform:rotate(-90deg)">はい</text>

                    <path class="arrow" d="M250 160 H340 a10 10 0 0 0 10 -10 V101"></path>
                    <rect class="set-dial-box highlightable" x="285" y="145"></rect>
                    <text class="arrow-text" x="299" y="155">いいえ：ダイヤル3＝T</text>

                    <path class="arrow" d="M145 280 h5 a10 10 0 0 0 10 -10 V216"></path>
                    <rect class="set-dial-box highlightable" x="97" y="240"></rect>
                    <text class="arrow-text" x="110" y="250">いいえ：ダイヤル2＝E</text>

                    <path class="arrow" d="M285 230 H190 a10 10 0 0 0 -10 10 V290 a10 10 0 0 1 -10 10 H151"></path>
                    <text class="arrow-text" x="235" y="228">はい</text>

                    <path class="arrow" d="M220 320 H151"></path>
                    <rect class="set-dial-box highlightable" x="155" y="323"></rect>
                    <text class="arrow-text" x="185" y="318">はい:</text>
                    <text class="arrow-text" x="185" y="333">ダイヤル1＝Q</text>

                    <path class="arrow" d="M145 340 h5 a10 10 0 0 1 10 10 v23 a10 10 0 0 0 10 10 H420 a10 10 0 0 0 10 -10 a10 10 0 0 1 10 -10 H459"></path>
                    <text class="arrow-text" x="300" y="380">はい</text>

                    <path class="arrow" d="M412 260 V240 a10 10 0 0 0 -10 -10 H401"></path>
                    <text class="arrow-text" x="247" y="-414.5" style="transform:rotate(90deg)">いいえ</text>

                    <path class="arrow" d="M395 210 H470 a10 10 0 0 1 10 10 V224"></path>
                    <text class="arrow-text" x="435" y="219">いいえ</text>

                    <path class="arrow" d="M575 360 h5 a10 10 0 0 0 10 -10 V200 a10 10 0 0 0 -10 -10 H425 a10 10 0 0 1 -10 -10 V101"></path>
                    <rect class="set-dial-box highlightable" x="257" y="-607" style="transform:rotate(90deg)"></rect>
                    <text class="arrow-text" x="275" y="-597" style="transform:rotate(90deg)">はい：ダイヤル3＝Y</text>

                    <path class="arrow" d="M520 230 V200 a10 10 0 0 0 -10 -10 h-30"></path>
                    <text class="arrow-text" x="210" y="-523" style="transform:rotate(90deg)">いいえ</text>

                    <path class="arrow" d="M500 230 V210 a10 10 0 0 0 -10 -10 H415 a10 10 0 0 1 -10 -10 v-5 a10 10 0 0 0 -10 -10 H256"></path>
                    <text class="arrow-text" x="375" y="172">はい</text>

                    <path class="arrow" d="M465 345 h-6 a10 10 0 0 1 -10 -10 V280 a10 10 0 0 1 10 -10"></path>
                    <rect class="set-dial-box highlightable" x="481" y="310"></rect>
                    <text class="arrow-text" x="495" y="320">いいえ：ダイヤル2＝M</text>

                    <path class="arrow" d="M430 45 H479"></path>
                    <text class="arrow-text" x="465" y="42">いいえ</text>

                    <path class="arrow" d="M430 45 h15 a10 10 0 0 1 10 10 v75 a10 10 0 0 0 10 10 H479"></path>
                    <text class="arrow-text" x="90" y="-458" style="transform:rotate(90deg)">はい</text>

                    <rect class="highlightable flow-box unset-dials-box" x="5" y="5"></rect>
                    <rect class="highlightable flow-box unset-dials-box" x="5" y="150"></rect>
                    <rect class="highlightable flow-box unset-dials-box" x="485" y="5"></rect>
                    <rect class="highlightable flow-box unset-dials-box" x="485" y="100"></rect>
                    <text><tspan x="60" y="22">セットされていない</tspan><tspan x="60" dy="13">ダイヤルについて、</tspan><tspan x="60" dy="13">ダイヤル1＝Q</tspan><tspan x="60" dy="13">ダイヤル2＝E</tspan><tspan x="60" dy="13">ダイヤル3＝Y</tspan></text>
                    <text><tspan x="60" y="167">セットされていない</tspan><tspan x="60" dy="13">ダイヤルについて、</tspan><tspan x="60" dy="13">ダイヤル1＝I</tspan><tspan x="60" dy="13">ダイヤル2＝M</tspan><tspan x="60" dy="13">ダイヤル3＝T</tspan></text>
                    <text><tspan x="540" y="22">セットされていない</tspan><tspan x="540" dy="13">ダイヤルについて、</tspan><tspan x="540" dy="13">ダイヤル1＝U</tspan><tspan x="540" dy="13">ダイヤル2＝S</tspan><tspan x="540" dy="13">ダイヤル3＝B</tspan></text>
                    <text><tspan x="540" y="117">セットされていない</tspan><tspan x="540" dy="13">ダイヤルについて、</tspan><tspan x="540" dy="13">ダイヤル1＝Z</tspan><tspan x="540" dy="13">ダイヤル2＝A</tspan><tspan x="540" dy="13">ダイヤル3＝O</tspan></text>

                    <rect class="highlightable flow-box" x="170" y="20" width="110" height="50" rx="10"></rect>
                    <rect class="highlightable flow-box" x="320" y="10" width="110" height="85" rx="10"></rect>
                    <rect class="highlightable flow-box" x="140" y="130" width="110" height="80" rx="10"></rect>
                    <rect class="highlightable flow-box" x="285" y="190" width="110" height="55" rx="10"></rect>
                    <rect class="highlightable flow-box" x="5" y="260" width="140" height="120" rx="10"></rect>
                    <rect class="highlightable flow-box" x="465" y="230" width="110" height="70" rx="10"></rect>
                    <rect class="highlightable flow-box" x="465" y="330" width="110" height="55" rx="10"></rect>
                    <text><tspan x="225" y="42">いずれかのダイヤルの</tspan><tspan x="225" dy="13">色同士が一致している？</tspan></text>
                    <text><tspan x="375" y="28">ディスプレーの数字が</tspan><tspan x="375" dy="14">七または三？</tspan><tspan x="375" dy="14">もしくは赤がダイヤル</tspan><tspan x="375" dy="14">またはワイヤに</tspan><tspan x="375" dy="14">現れている？</tspan></text>
                    <text><tspan x="195" y="165">ディスプレーの数字に</tspan><tspan x="195" dy="13">1を足した数は素数？</tspan></text>
                    <text><tspan x="340" y="207">いずれかのダイヤルの</tspan><tspan x="340" dy="13">色がワイヤの色と</tspan><tspan x="340" dy="13">一致している？</tspan></text>
                    <text><tspan x="75" y="300">ディスプレーの数字と</tspan><tspan x="75" dy="13">バッテリーの本数の和は</tspan><tspan x="75" dy="13">ダイヤル2とワイヤの色の</tspan><tspan x="75" dy="13">文字数の和より大きい？</tspan></text>
                    <text><tspan x="520" y="255">ポートの数が</tspan><tspan x="520" dy="13">ディスプレーの</tspan><tspan x="520" dy="13">数字より大きい？</tspan></text>
                    <text><tspan x="520" y="360">緑と紫が存在する？</tspan></text>

                    <rect class="flow-box start-box" x="220" y="260" width="200" height="105"></rect>
                    <text><tspan x="320" y="277" font-weight="bold" font-size="12px">スタート</tspan><tspan x="320" dy="13">シリアルナンバーの数字の合計と</tspan><tspan x="320" dy="13">ディスプレーの数字の和は</tspan><tspan x="320" dy="13">シリアルナンバー内の英字に</tspan><tspan x="320" dy="13">相当する値か？</tspan><tspan x="320" dy="13">(a=1,b=2,...,27=a,28=bなど。</tspan><tspan x="320" dy="13">0に相当する値は無い)</tspan></text>
                </svg>
            </div>
            <div class="page-footer relative-footer">ページ 1/2</div>
        </div>

        <div class="page wire-page-2 page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">ザ・ワイヤ</span>
            </div>
            <div class="page-content">
                <h3>ベン図</h3>
                <svg class="venn-diagram" viewBox="0 0 600 350" xmlns="http://www.w3.org/2000/svg">
                    <circle class="highlightable" cx="300.07" cy="15.32" r="14"/>
                    <path class="highlightable" d="m 189.66,150 -0.02,0.04 c -3.58,7.16 -6.39,13.82 -8.6,19.91 -13.55,37.42 -10.17,68.13 5.36,86.81 9.98,12.01 25.15,19.15 44.07,20.33 1.89,-3.9e-4 3.81,-0.05 5.76,-0.17 -0.00,0.11 -0.00,0.22 -0.01,0.34 -0.00,1.92 0.05,3.81 0.17,5.68 1.18,19.13 8.87,38.49 28.13,49.45 4.19,2.38 8.79,4.27 13.75,5.66 4.19,1.08 8.62,1.81 13.27,2.17 -1.16,-0.01 -2.34,-0.04 -3.54,-0.1 -14.43,-1.65 -27.88,-5.97 -38.47,-10.31 -34.60,-14.16 -61.64,-37.34 -76.97,-52.67 -8.65,-8.66 -17.76,-18.95 -26.36,-30.7 -41.14,-56.18 -48.59,-114.69 -20.28,-143.09 10.31,-10.30 24.55,-15.83 40.9,-16.85 1.87,0.00 3.76,0.05 5.69,0.17 0.02,21.83 7.83,43.24 13.92,56.61 1.00,2.21 2.06,4.43 3.18,6.66 l 0.02,0.04 z"/>
                    <path class="highlightable" d="m 300,40.05 c 28.73,13.82 53.63,34.61 74.85,58.24 16.49,-7.28 34.35,-11.85 52.44,-12 C 430.06,54.81 403.92,22.92 371.54,23.06 346.64,21.14 321.87,28.59 300,40.05 Z"/>
                    <path class="highlightable" d="M 300,40.05 C 271.33,53.94 246.20,74.48 225.34,98.44 253.45,110.24 278.42,128.62 300,150 321.56,128.47 346.73,110.28 374.81,98.26 353.58,74.66 328.71,53.89 300,40.05 Z"/>
                    <path class="highlightable" d="m 230.6,22.82 c -31.15,-0.31 -58.01,26.61 -57.75,57.75 v 0 l 0.18,6.04 c 18.06,-0.49 35.87,4.68 52.3,11.78 C 246.15,74.47 271.34,53.83 300,40.05 278.78,28.94 254.75,21.59 230.6,22.82 Z"/>
                    <path class="highlightable" d="m 410.24,150 0.02,0.04 c 3.58,7.16 6.39,13.82 8.6,19.91 13.55,37.42 10.17,68.13 -5.36,86.81 -9.98,12.01 -25.15,19.15 -44.07,20.33 -1.89,-3.9e-4 -3.81,-0.05 -5.76,-0.17 0.00,0.11 0.00,0.22 0.01,0.34 10e-4,1.92 -0.05,3.81 -0.17,5.68 -1.18,19.13 -8.87,38.49 -28.13,49.45 -4.19,2.38 -8.79,4.27 -13.75,5.66 -4.19,1.08 -8.62,1.81 -13.27,2.17 1.16,-0.01 2.34,-0.04 3.54,-0.1 14.43,-1.65 27.88,-5.97 38.47,-10.31 34.60,-14.16 61.64,-37.34 76.97,-52.67 8.65,-8.66 17.76,-18.95 26.36,-30.7 41.14,-56.18 48.59,-114.69 20.28,-143.09 -10.31,-10.30 -24.55,-15.83 -40.9,-16.85 -1.87,0.00 -3.76,0.05 -5.69,0.17 -0.02,21.83 -7.83,43.24 -13.92,56.61 -1.00,2.21 -2.06,4.43 -3.18,6.66 l -0.02,0.04 z"/>
                    <path class="highlightable" d="m 410.24,150 c -14.47,28.29 -34.40,53.90 -58.59,74.57 7.05,16.51 11.86,34.26 11.98,52.32 30.79,3.08 60.96,-20.83 62.96,-52.06 3.06,-25.88 -4.92,-51.88 -16.35,-74.83 z"/>
                    <path class="highlightable" d="m 374.89,98.32 c -28.21,11.81 -53.30,30.21 -74.92,51.71 21.39,21.52 39.64,46.53 51.58,74.55 24.18,-20.67 44.10,-46.25 58.59,-74.57 -9.33,-18.72 -21.55,-35.90 -35.25,-51.69 z"/>
                    <path class="highlightable" d="m 374.89,98.32 c 13.85,15.62 25.95,33.06 35.34,51.6 9.71,-19.66 16.96,-41.13 17.08,-63.27 -18.07,-0.62 -36.01,4.60 -52.42,11.67 z"/>
                    <path class="highlightable" d="m 299.96,340.64 a 156,90 45 0 0 5.71,0.17 156,90 45 0 0 2.57,-0.42 90,156 45 0 1 -8.29,0.25 z"/>
                    <path class="highlightable" d="m 291.67,340.39 a 90,156 45 0 0 2.57,0.42 90,156 45 0 0 5.71,-0.17 156,90 45 0 1 -8.29,-0.25 z"/>
                    <path class="highlightable" d="m 190.05,150 c 8.95,-18.88 21.13,-36.14 35.25,-51.53 -16.45,-7.16 -34.21,-12.24 -52.3,-11.78 -0.47,22.20 6.97,43.80 17.05,63.31 z" />
                    <path class="highlightable" d="m 248.42,224.66 c 11.74,-28.10 30.23,-53.08 51.48,-74.64 -21.53,-21.37 -46.50,-39.74 -74.59,-51.53 -14.08,15.35 -26.31,32.67 -35.25,51.53 13.81,28.57 34.49,53.84 58.36,74.64 z" />
                    <path class="highlightable" d="M 248.42,224.66 C 224.48,203.78 203.92,178.66 190.05,150 c -12.31,24.00 -20.86,51.63 -16.04,78.77 3.32,18.43 15.02,35.96 32.88,43.00 9.32,4.02 19.60,5.75 29.73,5.16 -0.47,-18.07 4.55,-35.87 11.8,-52.29 z" />
                    <path class="highlightable" d="m 300,259.94 c 18.90,-8.97 36.18,-21.16 51.58,-35.3 -11.94,-28.00 -30.17,-53.02 -51.58,-74.55 -21.39,21.53 -39.70,46.52 -51.51,74.61 15.38,14.10 32.61,26.31 51.51,35.24 z" />
                    <path class="highlightable" d="m 300,259.94 c -18.86,-8.93 -36.20,-21.17 -51.56,-35.28 -7.07,16.42 -12.34,34.25 -11.76,52.32 22.11,0.50 43.89,-6.97 63.32,-17.04 z" />
                    <path class="highlightable" d="m 363.62,277 c -0.11,-18.05 -4.92,-35.80 -11.98,-52.32 -15.36,14.11 -32.70,26.35 -51.58,35.3 19.51,10.11 41.36,17.52 63.56,17.02 z" />
                    <path class="highlightable" d="m 363.62,277 c -22.27,0.48 -44.06,-6.92 -63.62,-17.06 -19.47,10.07 -41.16,17.51 -63.34,17.04 -3.37,31.89 22.32,63.20 55,63.35 29.00,4.38 62.25,-11.22 69.14,-41.45 2.02,-7.09 2.71,-14.60 2.82,-21.88 z" />
                    <ellipse class="venn-ellipse" rx="156" ry="90" cx="300" cy="150" style="transform:rotate(45deg)"></ellipse>
                    <ellipse class="venn-ellipse" rx="156" ry="90" cx="300" cy="150" style="transform:rotate(-45deg)"></ellipse>
                    <ellipse class="venn-ellipse" rx="156" ry="90" cx="300" cy="240" style="transform:rotate(45deg)"></ellipse>
                    <ellipse class="venn-ellipse" rx="156" ry="90" cx="300" cy="240" style="transform:rotate(-45deg)"></ellipse>
                    <text x="240" y="160">I</text>
                    <text x="258" y="260">II</text>
                    <text x="455" y="160">III</text>
                    <text x="193" y="113">IV</text>
                    <text x="220" y="60">V</text>
                    <text x="300" y="305">VI</text>
                    <text x="300" y="95">VII</text>
                    <text x="360" y="160">VIII</text>
                    <text x="145" y="160">IX</text>
                    <text x="300" y="210">X</text>
                    <text x="407" y="113">XI</text>
                    <text x="210" y="235">XII</text>
                    <text x="342" y="260">XIII</text>
                    <text x="380" y="60">XIV</text>
                    <text x="390" y="235">XV</text>
                    <text x="300" y="20">XVI</text>
                    <text><tspan x="170" dy="40" style="text-anchor:end">ダイヤル1が</tspan><tspan x="170" dy="13" style="text-anchor:end">青または緑または赤</tspan></text>
                    <text><tspan x="100" y="120" style="text-anchor:end">ダイヤル2が</tspan><tspan x="100" dy="13" style="text-anchor:end">橙または灰または青</tspan></text>
                    <text><tspan x="430" y="40" style="text-anchor:start">ダイヤル3が</tspan><tspan x="430" dy="13" style="text-anchor:start">紫または赤または橙</tspan></text>
                    <text><tspan x="500" y="120" style="text-anchor:start">ワイヤが</tspan><tspan x="500" dy="13" style="text-anchor:start">緑または灰または紫</tspan></text>
                </svg>

                <h4>カウントダウンタイマーの秒の1の桁が求めた数字の時にワイヤを切断する。</h4>
                <table class="condition-table centered">
                    <tr><th>I</th><td>(g + a)の最下位桁</td><th>IX</th><td>acf % 8</td></tr>
                    <tr><th>II</th><td>(j + e + f) % 10</td><th>X</th><td>(3h + g)最上位桁</td></tr>
                    <tr><th>III</th><td>((i + d + h) % 7) + 2</td><th>XI</th><td>(i + d - e) % 10</td></tr>
                    <tr><th>IV</th><td>(b + c) % 6</td><th>XII</th><td>4j % 5</td></tr>
                    <tr><th>V</th><td>(ja + c) % 9</td><th>XIII</th><td>((d % 7) + (i % 4)) % 10</td></tr>
                    <tr><th>VI</th><td>(fi + h)の最上位桁</td><th>XIV</th><td>cgの最下位桁</td></tr>
                    <tr><th>VII</th><td>(gb + b) % (e + 4)</td><th>XV</th><td>(j(f + h)) % 9</td></tr>
                    <tr><th>VIII</th><td>dの最下位桁</td><th>XVI</th><td>(b(e + a)) % 8</td></tr>
                </table>

                <h4>変数一覧：</h4>
                <table class="condition-table centered">
                    <tr><th>a</th><td>ディスプレーの数字</td><th>f</th><td>点灯していないインジケーターの総数</td></tr>
                    <tr><th>b</th><td>開始ボタンを押した総数</td><th>g</th><td>シリアルポート+パラレルポート<br>+RJ-45+DVI-D</td></tr>
                    <tr><th>c</th><td>インジケーターの総数×2</td><th>h</th><td>モジュールの総数</td></tr>
                    <tr><th>d</th><td>ポートプレートの総数×4</td><th>i</th><td>ディスプレーの数字×6</td></tr>
                    <tr><th>e</th><td>ディスプレーの数字%3</td><th>j</th><td>点灯したインジケーターの総数</td></tr>
                </table>
                <ul>
                    <li>パーセント記号はモジュロ演算を示す。モジュロ演算とは左の数字を右の数字で除算した際の余りを求める演算である。</li>
                </ul>
            </div>
            <div class="page-footer relative-footer">ページ 2/2</div>
        </div>
    </div>
</body>
</html>