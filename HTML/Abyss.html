<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Abyss — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        table {
            margin: 1em auto;
        }
        ol {
            font-size: 14px;
        }
        body:not(.dark) .page-bg-abyss-01 {
            background-image: url("img/Abyss/abyss-bg-01.png");
        }
        body:not(.dark) .page-bg-abyss-02 {
            background-image: url("img/Abyss/abyss-bg-02.png");
        }
        .dark .diagram {
            filter: invert(80%) contrast(80%);
        }
        .page-bg-abyss-01, .page-bg-abyss-02 {
            position: relative;
            overflow: hidden;
        }
        .dark .page-bg-abyss-01::before {
            content: "";
            position: absolute;
            top: -42mm; left: -35mm;
            width: 310mm; height: 365mm;
            background-image: url("img/Abyss/abyss-bg-01.png");
            filter: invert(100%) contrast(80%);
            transform: scale(0.775);
        }
        .dark .page-bg-abyss-02::before {
            content: "";
            position: absolute;
            top: -42mm; left: -35mm;
            width: 310mm; height: 365mm;
            background-image: url("img/Abyss/abyss-bg-02.png");
            filter: invert(100%) contrast(80%);
            transform: scale(0.775);
        }
        .page-content, .page-header, .page-footer {
            /* This will make it stack on top of the ::before */
            position: relative;
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-abyss-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Abyss</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Abyss.svg" class="diagram">
                <h2>On the Subject of Abyss</h2>
                <p class="flavour-text"><strong>SPHERICAL!</strong></p>

                <p>This module initially presents two rows of eight letters which, when concatenated into a string of length 16, is called the “seed”. There is also a “Ready” button underneath it, which you should not press yet. The goal of this module is to submit an 8-digit code back to the
                    module, based on the seed. Entering an incorrect code will cause a strike, but will not change the seed.</p>

                <h3>Finding the Code</h3>

                <p>Follow the below steps to get the 8-digit code:</p>

                <ol>
                    <li>Divide the seed into eight pairs of characters.</li>
                    <li>Assuming that these pairs represent base 52 numbers, convert them from base 52 to base 10 (A = 0, B = 1... Z = 25, a = 26... z = 51).</li>
                    <li>If any of the obtained numbers is less than 4 digits long, prepend them with 0s.</li>
                    <li>Concatenate these numbers into a 32-digit string.</li>
                    <li>Swap every pair of digits, where pairs are formed as described below:
                        <ul>
                            <li>If the amount of batteries is odd, pair digits 1 &amp; 2, digits 3 &amp; 4, et cetera.</li>
                            <li>Otherwise, swap digits 2 &amp; 3, 4 &amp; 5, et cetera. <strong>Make sure to also pair digits 32 &amp; 1.</strong></li>
                        </ul>
                    </li>
                    <li>Divide the obtained string into eight groups of four digits.</li>
                    <li>Perform swaps with these groups as shown below:
                        <p>If the third and sixth digits of the serial number are...</p>
                        <ul>
                            <li>...both odd, swap groups 1 &amp; 2, 3 &amp; 4, 5 &amp; 6 and 7 &amp; 8.</li>
                            <li>...odd and even, swap groups 1 &amp; 3, 2 &amp; 4, 5 &amp; 7 and 6 &amp; 8.</li>
                            <li>...even and odd, swap groups 1 &amp; 5, 2 &amp; 6, 3 &amp; 7 and 4 &amp; 8.</li>
                            <li>...both even, swap groups 1 &amp; 8, 2 &amp; 7, 3 &amp; 6 and 4 &amp; 5.</li>
                        </ul>
                    </li>
                    <li>Cycle each digit in each group forwards by the amount of ports (e.g. with 1 port, 1234 = 4123).</li>
                    <li>Divide the serial number into two halves. For each character in each half:
                        <ul>
                            <li>If it’s less than 5 or before N in the alphabet, remove the right half of the string.</li>
                            <li>Otherwise, remove the left half of the string.</li>
                        </ul>
                    </li>
                    <li>If the second quadruple that you get is the same as the first, use the next one in reading order (in the string from step 8), wrapping around if necessary.</li>
                </ol>
                <p>You should now be left with eight digits. This is your final code. You may now press the "Ready" button.</p>

                <p><i>Continued on the next page...</i></p>

            </div>
            <div class="page-footer relative-footer">Page 1 of 2</div>
        </div>
        <div class="page page-bg-abyss-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Abyss</span>
            </div>
            <div class="page-content">

                <h2>How to Input the Code</h2>

                <p>Once you press the "Ready" button, the seed and button will disappear and, in their place, a floating sphere will materialise. <strong>It is crucial that you do not hover over the sphere for over one second; this is needed for input.</strong></p>

                <p>From now on, hovering over the sphere for over one second will be referred to as "overdriving" it. While the sphere is overdriven, unhighlighting it will be referred to as "easing" it.</p>

                <p>To enter a digit, overdrive the sphere without pressing it beforehand. Then, before easing it, press it N times, where N is the digit you wish to enter. You can press the sphere more than 9 times before easing it, but you will still enter a 9 regardless. If the digit is not 0, it
                    does not matter whether or not you press the sphere before it is overdriven; the digit will still be entered regardless.</p>

                <p>Some functions require the sphere to be pressed before it is overdriven, then not pressed afterwards. These functions are:</p>

                <ul>
                    <li>Submit your current input - 1 press</li>
                    <li>Delete the last digit of your current input - 2 presses</li>
                    <li>Clear your current input - 3 presses</li>
                </ul>

                <p>The sphere will show the last digit that you have entered.</p>
            </div>
            <div class="page-footer relative-footer">Page 2 of 2</div>
        </div>
    </div>
</body>
</html>