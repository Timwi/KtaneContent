<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Perspecticolored Squares — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.7.0.min.js"></script>
    <script>
        $(function() {
            let replaceableTxt = $(".replaceable");
            let possibleVariants = ["Bicolored", "Colored", "Uncolored", "Discolored","Isocolored", "Varicolored", "Overcolored", "Decolored"];
            let randomVal = Math.floor(Math.random() * possibleVariants.length);
            replaceableTxt.text(possibleVariants[randomVal]);
            let replaceableDiagram = $(".diagram");
            replaceableDiagram.attr("src", `img/Component/${possibleVariants[randomVal]} Squares.svg`);
        });
    </script>
    <style>
        @media print {
            a[href]:after {
                content: "";
            }
        }
        .strikethrough { text-decoration: line-through; }
        table td { text-align: center;}
        .achess tr td
        {
            height: 10px;
            width: auto;
        }
        .black { background-color: black; }
        .dark .black { background-color: gray; }
        .blue
        {
            background-color: rgba(0, 0, 255, 0.5);
            color: white;
        }
        .chessPieces { background-color: rgba(128, 128, 128, 0.5); }
        .dark .chessPieces { filter: invert(85%); }
        .piece { width: 40px; }
        .squeeze
        {
            margin-top: auto;
            margin-bottom: auto;
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-04">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Perspecticolored Squares</span>
            </div>
            <div class="page-content">
                <img class="diagram" src="img/Component/Bicolored Squares.svg">
                <h2>On the Subject of Perspecticolored Squares</h2>
                <p class="flavour-text"><span class="strikethrough">There is order in order. A color in the colors. Find it, and all will become clear.</span> But then I had an idea. I used F5. You see, F5 gives me a whole new perspective and I was able to see this <span class="replaceable">Bicolored</span> Squares was not what it seems.</p>
                <p class="appendix-reference" id="appendix-reference">See Appendix of <span class="link"><a href="Colored Squares.html">Colored Squares</a></span> for identifying modules in Colored Squares family.</p>
                <ul>
                    <li>When the bomb is at a certain angle, the squares will change color. If they do not, you are looking at a different module.</li>
                    <li>A knight, bishop and rook are all placed in a random location.</li>
                    <li>These three pieces will move along the grid, swapping colors of the starting and ending squares corresponding to the moves made.</li>
                    <li>For each iteration, each piece can only move twice while abiding by the rules. These iterations result in 5 possible board states, with the final iteration corresponding to looking at the module directly or not at any one of the four selected angles. One of the iterations when looked at a certain angle is the initial board.</li>
                    <li>To disarm this module, determine the initial positions of those 3 pieces and press those in any order.</li>
                    <li>Pressing a tile that does not correspond to the initial position of any of the three pieces will result in a strike and reset the module with new initial positions and board states.</li>
                </ul>
                <h3>Piece Movement Rules</h3>
                <ul>
                    <li>On each iteration, no piece after 2 consecutive moves (for that piece only) must end back to where they were.</li>
                    <li>No piece is allowed to stay in the current position as their move.</li>
                    <li>A piece cannot swap squares that are the same color as the color they are on if this is the first or second move overall.</li>
                    <li>No two pieces may share the same square for that turn.</li>
                    <li>The board is finite; any moves that would cause the piece to wrap around to the other side is forbidden.</li>
                    <li>The resulting board state for each iteration must all be unique.</li>
                </ul>
            </div>
            <div class="page-footer relative-footer">Page 1 of 2</div>
        </div>
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Perspecticolored Squares</span>
            </div>
            <div class="page-content">
                <h2>Piece Movement Reference</h2>
                <p class="squeeze">“|&Delta;X|”: Horizontal Distance (I.E. A2 -&gt; G5, horizontal difference is 6)</p>
                <p class="squeeze">“|&Delta;#|”: Vertical Distance (I.E. A2 -&gt; G5, vertical difference is 3)</p>
                <table class="centered">
                    <tr>
                        <th>Piece</th>
                        <th>Base Condition To Move</th>
                        <th>Visualization</th>
                    </tr>
                    <tr>
                        <th class="chessPieces"><img class="piece" src="img/Pawns/bishop.png" alt="Bishop"></th>
                        <th>|&Delta;X| = |&Delta;#|</th>
                        <td>
                            <table class="achess">
                                <tr><td class="blue"></td><td></td><td></td><td></td><td></td><td></td><td class="blue"></td></tr>
                                <tr><td></td><td class="blue"></td><td></td><td></td><td></td><td class="blue"></td><td></td></tr>
                                <tr><td></td><td></td><td class="blue"></td><td></td><td class="blue"></td><td></td><td></td></tr>
                                <tr><td></td><td></td><td></td><td class="black"></td><td></td><td></td><td></td></tr>
                                <tr><td></td><td></td><td class="blue"></td><td></td><td class="blue"></td><td></td><td></td></tr>
                                <tr><td></td><td class="blue"></td><td></td><td></td><td></td><td class="blue"></td><td></td></tr>
                                <tr><td class="blue"></td><td></td><td></td><td></td><td></td><td></td><td class="blue"></td></tr>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <th class="chessPieces"><img class="piece" src="img/Pawns/knight.png" alt="Knight"></th>
                        <th>(|&Delta;X| = 1 &and; |&Delta;#| = 2)<br>&or;<br>(|&Delta;X| = 2 &and; |&Delta;#| = 1)</th>
                        <td>
                            <table class="achess">
                                <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                                <tr><td></td><td></td><td class="blue"></td><td></td><td class="blue"></td><td></td><td></td></tr>
                                <tr><td></td><td class="blue"></td><td></td><td></td><td></td><td class="blue"></td><td></td></tr>
                                <tr><td></td><td></td><td></td><td class="black"></td><td></td><td></td><td></td></tr>
                                <tr><td></td><td class="blue"></td><td></td><td></td><td></td><td class="blue"></td><td></td></tr>
                                <tr><td></td><td></td><td class="blue"></td><td></td><td class="blue"></td><td></td><td></td></tr>
                                <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <th class="chessPieces"><img class="piece" src="img/Pawns/rook.png" alt="Rook"></th>
                        <th>|&Delta;X| = 0 &or; |&Delta;#| = 0</th>
                        <td>
                            <table class="achess">
                                <tr><td></td><td></td><td></td><td class="blue"></td><td></td><td></td><td></td></tr>
                                <tr><td></td><td></td><td></td><td class="blue"></td><td></td><td></td><td></td></tr>
                                <tr><td></td><td></td><td></td><td class="blue"></td><td></td><td></td><td></td></tr>
                                <tr><td class="blue"></td><td class="blue"></td><td class="blue"></td><td class="black"></td><td class="blue"></td><td class="blue"></td><td class="blue"></td></tr>
                                <tr><td></td><td></td><td></td><td class="blue"></td><td></td><td></td><td></td></tr>
                                <tr><td></td><td></td><td></td><td class="blue"></td><td></td><td></td><td></td></tr>
                                <tr><td></td><td></td><td></td><td class="blue"></td><td></td><td></td><td></td></tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="page-footer relative-footer">Page 2 of 2</div>
        </div>
    </div>
</body>
</html>
