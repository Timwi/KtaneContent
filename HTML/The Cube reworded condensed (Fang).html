<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>The Cube — Keep Talking and Nobody Explodes module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        @media print {
            .relative-footer {
                margin-top: .25in;
                height: .5in;
                display: block;
            }
            input { visibility: hidden; }
            label { visibility: hidden; }
        }

        .symbols td {
            font-family: 'KRA';
            font-size: 2em;
            padding: 0 2px;
        }

        table {
            margin: auto;
        }

        .lower-alpha {
            list-style-type: lower-alpha;
        }

        .cube-net {
            float: right;
            margin-left: .5em;
            margin-bottom: .5em;
            border: none;
        }

        .cube-net td {
            height: 30px;
            width: 30px;
            padding: 0;
            position: relative;
        }

        .cube-net .digit {
            position: absolute;
            top: 57.5%;
            left: 50%;
            margin-right: -50%;
            transform: translate(-50%, -50%);
        }

        .cube-net .light {
            position: absolute;
            left: 1px;
        }

        .no-border {
            border: none;
        }

        .movements th {
            padding: 0;
        }

        .movements th>div {
            background-image: url("img/The Cube/Rotations.png");
            background-size: 72px 108px;
            background-repeat: no-repeat;
            height: 36px;
            width: 36px;
            padding: 0;
        }
    </style>
</head>

<body onload="changeWords(chk.checked)">
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">The Cube</span>
            </div>
            <div class="page-content">
                <img src="img/Component/The Cube.svg" class="diagram">
                <h2>On the Subject of The Cube</h2>
                <p class="flavour-text">Booooop boop boop booooop boop boop beep boop boop boop boop boop boop beeeeep
                    boop beep boop.</p>
                <p>Note: For use by those familiar with the original manual.</p>
                <div class="lower-alpha">
                <table style="font-size: 15px;">
                    <tr>
                        <th style="background-color: #ff8080;">Red</th>
                        <td>( mods on bomb ) + 7</td>
                        <th style="background-color: #ff8000;">Orange</th>
                        <td>( <strong style="color: #008000;">green</strong> buttons ) + 3</td>
                    </tr>
                    <tr>
                        <th style="background-color: #80ff80;">Green</th>
                        <td>( <strong style="color: #0000ff;">blue</strong> buttons ) + 7</td>
                        <th style="background-color: #8080ff;">Purple</th>
                        <td>Cube digit sum</td>
                    </tr>
                    <tr>
                        <th style="background-color: #0080ff;">Blue</th>
                        <td>( pos of wire ) + 5</td>
                        <th style="background-color: rgb(250, 247, 228);">White</th>
                        <td>= 6</td>
                    </tr>
                </table>                    '
                <table class="cube-net" style="font-size: 14px; float: right;">
                    <tr><td><sup class="light" style="top: 6px; color:#008000;">●</sup><span class="digit">1</span></td><td colspan="3" class="no-border"></td></tr>
                    <tr><td><span class="digit">2</span></td><td><span class="digit">3</span></td><td><span class="digit">4</span></td><td><span class="digit">5</span></td></tr>
                    <tr><td><sub class="light" style="bottom: 4px; color:#ff0000;">●</sub><span class="digit">6</span></td><td colspan="3" class="no-border"></td></tr>
                </table>
                <br>                    

                <table class="movements" style="font-size: 14px;">
                    <tr>
                        <th>
                            <div style="background-position: -36px 0"></div>
                            D
                        </th>
                        <th>
                            <div style="background-position: 0 0"></div>
                            U
                        </th>
                        <td><strong>first/last</strong> digit in SN</td>
                        <th>
                            <div style="background-position: 0 -72px"></div>
                            CW
                        </th>
                        <td>= 4</td>
                        <th>
                            <div style="background-position: -36px -72px"></div>
                            CCW
                        </th>
                        <td>= 7</td>
                    </tr>
                    <tr>
                        <th>
                            <div style="background-position: 0 -36px"></div>
                            R
                        </th>
                        <th>
                            <div style="background-position: -36px -36px"></div>
                            L
                        </th>
                        <td colspan="5">square buttons with the colour of <strong>1st/3rd </strong>wire</td>
                    </tr>
                </table>
                <br>
                <table style="text-align: center; float: left; font-size: 13px;">
                    <tr>
                        <th>1</th>
                        <th>2</th>
                        <th>3</th>
                        <th>4</th>
                        <th>5</th>
                        <th>6</th>
                        <th>7</th>
                        <th>8</th>
                        <th>9</th>
                        <th>0</th>
                    </tr>
                    <tr class="symbols">
                        <td><span class="highlightable">A</span><span class="highlightable">K</span></td>
                        <td><span class="highlightable">B</span><span class="highlightable">L</span></td>
                        <td><span class="highlightable">C</span><span class="highlightable">M</span></td>
                        <td><span class="highlightable">D</span><span class="highlightable">N</span></td>
                        <td><span class="highlightable">E</span><span class="highlightable">O</span></td>
                        <td><span class="highlightable">F</span><span class="highlightable">P</span></td>
                        <td><span class="highlightable">G</span><span class="highlightable">Q</span></td>
                        <td><span class="highlightable">H</span></td>
                        <td><span class="highlightable">I</span></td>
                        <td><span class="highlightable">J</span></td>
                    </tr>
                    <tr id="refNames">
                        <td>Tu/St</td>
                        <td>Do/Vo</td>
                        <td>Pl/Ri</td>
                        <td>Sq/Me</td>
                        <td>Fl/Ch</td>
                        <td>Pe/Co</td>
                        <td>Ec/Gl</td>
                        <td>Fi</td>
                        <td>Cl</td>
                        <td>Os</td>
                    </tr>
                </table>
                <br>
                <div style="float: right; display: flex; align-items: center;">
                <label style="margin: 7px -5px 2px">Alternate names</label>
                <input type="checkbox" onclick="changeWords(this.checked)" style="margin-left: 10px" id="chk"/>
                </div>
                <br>
                <table style="float: right; font-size: 12px;" id="legend">
                    <tr><th>Cl</th><td>Charlie</td></tr>
                    <tr><th>Ch</th><td>Checkmark</td></tr>
                    <tr><th>Co</th><td>Coffee Stain</td></tr>
                    <tr><th>Do</th><td>Russian Doll</td></tr>
                    <tr><th>Ec</th><td>Eclipse</td></tr>
                    <tr><th>Fi</th><td>Fireball</td></tr>
                    <tr><th>Fl</th><td>Flag</td></tr>
                    <tr><th>Gl</th><td>Globe</td></tr>
                    <tr><th>Me</th><td>Meteor</td></tr>
                    <tr><th>Os</th><td>Oscar</td></tr>
                    <tr><th>Pe</th><td>Pepsi</td></tr>
                    <tr><th>Pl</th><td>Pluto</td></tr>
                    <tr><th>Ri</th><td>Ribbon</td></tr>
                    <tr><th>Sq</th><td>Squeeze</td></tr>
                    <tr><th>St</th><td>Stonehenge</td></tr>
                    <tr><th>Tu</th><td>Tunnel</td></tr>
                    <tr><th>Vo</th><td>Vortex</td></tr>
                </table>
                <p style="font-size: 14px; float: left;">
                    <br>Digit 1 = ( <strong>M<sub>1</sub></strong> + <strong>F<sub>6</sub></strong> +
                    <strong>W<sub>3</sub></strong> ) mod 10 || Digit 5 = ( <strong>M<sub>5</sub></strong> +
                    <strong>F<sub>2</sub></strong> ) mod 8
                    <br>Digit 2 = ( <strong>M<sub>2</sub></strong> + <strong>F<sub>5</sub></strong> +
                    <strong>W<sub>4</sub></strong> ) mod 10 || Digit 6 = ( <strong>M<sub>6</sub></strong> +
                    <strong>F<sub>1</sub></strong> ) mod 9
                    <br>Digit 3 = ( <strong>M<sub>3</sub></strong> + <strong>F<sub>4</sub></strong> +
                    <strong>W<sub>1</sub></strong> ) mod 10
                    <br>Digit 4 = ( <strong>M<sub>4</sub></strong> + <strong>F<sub>3</sub></strong> +
                    <strong>W<sub>2</sub></strong> ) mod 10
                </p>
                <div style="font-size: 13px; text-align: left;">
                    <table>
                        <tr class="symbols">
                            <th rowspan = 2>0</th>
                            <td><span class="highlightable">A</span><span class="highlightable">F</span><span class="highlightable">I</span><span class="highlightable">L</span></td>
                            <th rowspan = 2>1</th>
                            <td><span class="highlightable">B</span><span class="highlightable">E</span><span class="highlightable">K</span><span class="highlightable">O</span></td>
                        </tr>
                        <tr class="refSolution">
                            <td>Tu/Pe/Cl/Vo</td>
                            <td>Do/Fl/St/Ch</td>
                        </tr>
                    </table>
                    <table>
                        <tr class="symbols">
                            <th rowspan = 2>2</th>
                            <td><span class="highlightable">D</span><span class="highlightable">N</span><span class="highlightable">Q</span></td>
                            <th rowspan = 2>3</th>
                            <td><span class="highlightable">C</span><span class="highlightable">G</span><span class="highlightable">P</span></td>
                            <th rowspan = 2>4</th>
                            <td><span class="highlightable">H</span><span class="highlightable">J</span><span class="highlightable">M</span></td>
                        </tr>
                        <tr class="refSolution">
                            <td>Sq/Me/Gl</td>
                            <td>Pl/Ec/Co</td>
                            <td>Fi/Os/Ri</td>
                        </tr>
                        <tr class="symbols">
                            <th rowspan = 2>5</th>
                            <td><span class="highlightable">E</span><span class="highlightable">J</span><span class="highlightable">Q</span></td>
                            <th rowspan = 2>6</th>
                            <td><span class="highlightable">F</span><span class="highlightable">L</span><span class="highlightable">P</span></td>
                            <th rowspan = 2>7</th>
                            <td><span class="highlightable">A</span><span class="highlightable">K</span><span class="highlightable">M</span></td>
                        </tr>
                        <tr class="refSolution">
                            <td>Fl/Os/Gl</td>
                            <td>Pe/Vo/Co</td>
                            <td>Tu/St/Ri</td>
                        </tr>
                    </table>
                    <table>
                        <tr class="symbols">
                            <th rowspan = 2>8</th>
                            <td><span class="highlightable">C</span><span class="highlightable">G</span><span class="highlightable">H</span><span class="highlightable">O</span></td>
                            <th rowspan = 2>9</th>
                            <td><span class="highlightable">B</span><span class="highlightable">D</span><span class="highlightable">I</span><span class="highlightable">N</span></td>
                        </tr>
                        <tr class="refSolution">
                            <td>Pl/Ec/Fi/Ch</td>
                            <td>Do/Sq/Cl/Me</td>
                        </tr>
                    </table>
                </div>
                    <p style="font-size: 14px;">Stage 1/3/5: N/A<br>
                        Stage 2/4: Same symbol/colour as the round button.<br>
                        Stage 6/7: Same colour as the 1st/3rd wire.<br>
                        Stage 8: Set down all square buttons WITHOUT a symbol in the group instead.
                    </p>
                </div>
            </div>
            <div class="page-footer relative-footer">Page 1 of 1</div>
        </div>
    </div>
<script>
    let legendRows = Array.from(document.getElementById('legend').childNodes[1].childNodes).filter(n => n.localName == 'tr');
    let originalWords = [Array.from(legendRows, n => n.childNodes[0].innerText),
                         Array.from(legendRows, n => n.childNodes[1].innerText)];
    let alternateWords = [["07", "Ba", "Bh", "Ch", "Ci", "Do", "Eg", "Fi", "Fb", "La", "Lo", "Me", "Ob", "Pe", "Ri", "Wa", "Wo"],
                          ["007", "Ball", "Black Hole", "Checkmark", "Circle", "Dot", "Egg", "Fingerprint", "Fishbone", "Lag", "Loading", "Meteor", "Obstacle", "Pepsi", "River", "Waves", "World"]];
    
    let refRows = Array.from(document.getElementById('refNames').childNodes).filter(n => n.nodeType != 3);
    let refNames = Array.from(refRows, n => n.innerText);
    let refNamesAlt = ["07/La", "Wa/Fi", "Eg/Bh", "Fb/Me", "Ri/Ch", "Pe/Ob", "Do/Wo", "Ba", "Lo", "Ci"];
    
    let refSolution = [...Array.from(document.getElementsByClassName('refSolution'), c => c.childNodes)[0],
                       ...Array.from(document.getElementsByClassName('refSolution'), c => c.childNodes)[1],
                       ...Array.from(document.getElementsByClassName('refSolution'), c => c.childNodes)[2],
                       ...Array.from(document.getElementsByClassName('refSolution'), c => c.childNodes)[3]].filter(n => n.nodeType != 3);
    solutionNames = Array.from(refSolution, n => n.innerText).filter(x => x);
    let solutionNamesAlt = ["07/Pe/Lo/Fi", "Wa/Ri/La/Ch", "Fb/Me/Wo", "Eg/Do/Ob", "Ba/Ci/Bh", "Ri/Ci/Wo", "Pe/Fi/Ob", "07/La/Bh", "Eg/Do/Ba/Ch", "Wa/Fb/Lo/Me"];
    
    function changeWords(checked) {
        legendRows.forEach( (t, i) => {
            t.childNodes[0].innerText = checked ? alternateWords[0][i] : originalWords[0][i];
            t.childNodes[1].innerText = checked ? alternateWords[1][i] : originalWords[1][i];
        });
        refRows.forEach( (t, i) => { t.innerText = checked ? refNamesAlt[i] : refNames[i]; });
        refSolution.forEach( (t, i) => { t.innerText = checked ? solutionNamesAlt[i] : solutionNames[i]; });
    }
</script>
</body>
</html>