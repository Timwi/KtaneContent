<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>外国為替レート — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        p { margin: 0.5em auto; }
        .footnotes {
            font-size: .8em;
            color: #444;
        }
        .dark .footnotes {
            color: #bbb;
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">外国為替レート</span>
            </div>
            <div class="page-content">
                <img class="diagram" src="img/Component/Foreign Exchange Rates.svg">
                <h2>モジュール詳細：外国為替レート</h2>

                <p class="flavour-text">もしも爆弾が証券会社だったら……</p>

                <p><em>モジュールの解除には、分析担当者がブラウザに接続できるデバイスを所持していることが求められる。</em></p>
                <p>
                    このモジュールは、インターネットに接続し、外国為替レートの状態を参照する機能を備えている。
                    3×3の格子状にキーパッドがあり、それぞれに発光ダイオードがある。
                    <em>発光ダイオードが順番に点滅している間は、このモジュールのキーを押してはいけない。</em>
                </p>
                <p>段ごとにキーはグループ分けされる：</p>
                <table>
                    <tr><td>上段：元の通貨のISO 4217文字コード。<sup>[1][2]</sup></td></tr>
                    <tr><td>中段：変換先通貨のISO 4217文字コード。<sup>[1][2]</sup></td></tr>
                    <tr><td>下段：変換する通貨の金額。</td></tr>
                </table>

                <h3>全ての発光ダイオードが緑色に点灯した場合：</h3>
                <p>
                    インターネットに接続できるデバイスに、以下の統一資源位置指定子を入力する。<br>
                    <em>https://fer.eltrick.uk/latest?base=XXX&amp;symbols=YYY</em><br>
                    <em>XXX</em>を元の通貨のISO 4217文字コードに置き換える。<br>
                    <em>YYY</em>を変換先通貨のISO 4217文字コードに置き換える。<br>
                    Javascriptのオブジェクト記法でデータを受け取ることができ、そこから<em>{“YYY”: 数字}を探す。</em><em>数字</em>が、為替レートである。
                    その為替レートを用いて、下段の数字を変換先通貨に変換し、その数字を整数に丸め、左から2桁目の数字をメモする<sup>[4]</sup>。
                    そしてN番目のキーを押す。Nはメモした番号である（左から右、上から下の順にキーを数える）<sup>[5]</sup>。
                </p>
                <h3>全ての発光ダイオードが赤色に点灯した場合：</h3>
                <p>
                    この場合、モジュールは本日の為替レートの取得に失敗している。変換先通貨の国のISO 4217数字コードを取得し、右から2桁目をメモする。
                    N番目のキーを押す。Nはメモした番号である(左から右、上から下の順にキーを数える)<sup>[5]</sup>。
                </p>
                <p class="footnotes">
                    [1]：爆弾にバッテリーが1つより多く存在するなら、元の通貨のコードと変換先通貨のコードを入れ替える。<br>
                    [2]：これはISO 4217数字コードを代用する可能性もある。<br>
                    [3]：為替レートは午前9時(日本時間)に更新されることに注意する。<br>
                    [4]：変換後の為替が10未満の場合、メモする数字は0である。<br>
                    [5]：メモした数字が0の場合、左上のキーを押す。
                </p>
            </div>
            <div class="page-footer relative-footer">ページ 1/1</div>
        </div>
    </div>
</body>
</html>
