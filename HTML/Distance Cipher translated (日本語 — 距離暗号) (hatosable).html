<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>距離暗号 — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        pre code {
            text-align: center;
            background-color: #a0a0a0;
            border: 1px solid #000000;
            display: block;
            padding: 5px;
        }
        .dark pre code { background-color: #444; }
        img.keyboard {
             width: 290px;
             float: right;
        }
        .dark img.keyboard { filter: invert(85%); }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">距離暗号</span>
            </div>
            <div class="page-content">
                <img src="./img/Component/Distance Cipher.svg" class="diagram">
                <h2>モジュール詳細：距離暗号</h2>
                <p class="flavour-text">2メートルでお願いします。</p>
                <p>モジュール上には、平行四辺形のディスプレーが2つ、3つの三角形のボタンがトライフォース状に配置され、その右隣に別の三角形のボタンがあり、キー英字とキー数字が表示されている。</p>
                <p>このモジュールを解除するには、以下の手順で三角形状のキーグリッドを入手し、それを使って解読した単語を入手し、トライフォース状に配置されたボタンを使ってモジュールに送信する。</p>
                <h3>ステップ0：キー三角形の作成</h3>
                <p>頂点の一つが南を向いている7×7の正三角形を作成する。キーワードの最初の英字を、この三角形の読み順の最初のセルに配置する。次に、キーワードの各英字について、その英字が使用されている場合は、その英字と最も近い未使用の英字（ループ可能なため、AとZの文字間の距離は1であり、AとBと同じになる）を見つけ、<a href="./The Triangle translated (日本語 — 三角形) (alpha8404).html">三角形</a>内の次の未記入セルに配置する。これをキーワード内のすべての英字が使われ、<a href="./The Triangle.html">三角形</a>の最上段が埋まるまで繰り返す。</p>
                <p>次に、後続の各セルについて、真上の2つのセルにある2つのアルファベット上の位置間の絶対値を考える。その値に対応する英字が使われていなければ、その英字を次の埋まっていないセルに入れる。そうでなければ、使用済みの英字を得た時と同じ手順に従う。その後、未使用の英字を次の未記入セルに入れる。アルファベット26文字のうち25文字が使われるまでこれを繰り返す。残りの文字を「未使用文字」と呼ぶ。下から2番目の段のセルに#を入れ、一番下に未使用文字を入れる。</p>
                <p><strong>使用済みの文字を得た際に、最も近い未使用の2文字がそれと同じ距離である場合、アルファベットの逆順(AからZへのループ可能)で到達する未使用の英字を取る。</strong></p>
                <p>キーワードがFOREVERの場合</p>
                <pre><code>F   O   R   E   V   D   Q
I   C   M   P   S   L
G   J   B   A   H
Z   K   Y   N
T   U   W
#   #
X</code></pre>
            </div>
            <div class="page-footer relative-footer">ページ 1/2</div>
        </div>
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">距離暗号</span>
            </div>
            <div class="page-content">
                <h3>ステップ1：カエサル切り替え暗号</h3>
                <p>復号するには、暗号化された単語の最初の英字からキー英字まで、アルファベットを前方に進む回数を考える。このシフトをキー英字に適用し、得られた英字が最初の復号された英字となる。次に、次の暗号化された文字と先程の復号された文字を、それぞれ「最初の英字」と「キー英字」に当てはめ、暗号化された文字がすべてなくなるまで同じプロセスを適用する。</p>
                <h3>ステップ2：回転モノアルファベット置換暗号</h3>
                <p>キー三角形のコピーを作成し、以下で求めた方向に120°回転させる。</p>
                <ul>
                    <li>キー数字と元のキー英字のアルファベット上の位置の数字が同じ<a href="./Parity translated (日本語 — 偶奇性) (hatosable).html">偶奇性</a>である場合、時計回りに回転させる。</li>
                    <li>キー数字と元のキー英字のアルファベット上の位置の数字が同じ<a href="./Parity translated (日本語 — 偶奇性) (hatosable).html">偶奇性</a>ではない場合、反時計回りに回転させる。</li>
                </ul>
                <p>元のキー三角形から暗号化された英字を見つけ、回転した鍵の三角形で同じ位置にある英字を見つける。#に到達した場合、新しい三角形を一時的に同じ方向に120°回転させて元の三角形の中の暗号化された英字がある位置を見つけ、一時的に回転させた鍵の三角形の中の同じ位置にある英字を見つける。その結果が復号された英字となる。</p>
                <p>そうでない場合、到達した英字が復号された英字となる。</p>
                <h3>ステップ3：回答の入力</h3>
                <p>ボタンをクリックすると、ボタンの中に3つのサブボタンが現れる。2層のボタンが現れるまで、ボタンは文字を入力しない。</p>
                <img src="img/Distance Cipher/Keyboard.svg" class="keyboard">
                <p>右図はモジュール上の文字の位置を示しており、「&lt;」は削除キーである。ミスが記録されるか入力された文字がすべて削除されると、モジュールは暗号化された単語とキーワードの表示に戻る。</p>
            </div>
            <div class="page-footer relative-footer">ページ 2/2</div>
        </div>
    </div>
</body>
</html>