<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Needlessly Complicated Button â€” Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        table {
            margin: 1em auto;
            }
        .no-visibility {
            opacity: 0;
            }
        .fb {
            display: flex;
        }
        .smallStuff {
            font-size: 10pt;
        }
    </style>
    <script>
        window.onload = function(){
            "use strict";
            // nuisance table code
            const tableElem = document.getElementById("annoying-table");
            const headerLeading = [
                "Button Label",
                "Bomb has more batteries than number of ports",
                "First or last letter of button label in any indicator label",
                "Any letter in serial is in the button label",
                "Otherwise"
            ];
            const caseA = "1 and 2";
            const caseB = "2 and 3";
            const caseC = "1 and 3";
            const entries = [ // entry, invisible?, A, B, C, Else
                ["Blank",           0, caseA, caseB, caseC, caseB],
                ["Detonate",        0, caseC, caseA, caseB, caseC],
                ["Press",           0, caseB, caseB, caseC, caseC],
                ["Cyan",            0, caseB, caseC, caseC, caseA],
                ["Literally Blank", 0, caseA, caseC, caseC, caseB],
                ["No Label",        0, caseC, caseC, caseB, caseA],
                ["Abort",           0, caseC, caseB, caseC, caseA],
                ["Red",             0, caseB, caseB, caseC, caseC],
                ["Yellow",          0, caseC, caseA, caseB, caseB],
                ["Green",           0, caseA, caseC, caseC, caseB],
                ["Button",          0, caseC, caseB, caseC, caseB],
                ["Blue",            0, caseB, caseA, caseA, caseC],
                ["Magenta",         0, caseC, caseB, caseC, caseC],
                ["[No Label]",      1, caseB, caseB, caseC, caseA],
                ["Hold",            0, caseA, caseC, caseA, caseB],
                ["Nothing",         0, caseC, caseA, caseB, caseC],
            ];
            const ceaseTheShuffle = false; // Toggle this if you want to be less fun
            const shuffle = (array) => { // https://github.com/coolaj86/knuth-shuffle
                let currentIndex = array.length, temporaryValue, randomIndex;
                if (ceaseTheShuffle) {
                    return array;
                }
                // While there remain elements to shuffle...
                while (0 !== currentIndex) {
                    // Pick a remaining element...
                    randomIndex = Math.floor(Math.random() * currentIndex);
                    currentIndex -= 1;
                    // And swap it with the current element.
                    temporaryValue = array[currentIndex];
                    array[currentIndex] = array[randomIndex];
                    array[randomIndex] = temporaryValue;
                }
                return array;
            }
            const emptyTable = () => {
                tableElem.innerHTML = ""; // easiest way i could think to do this
            }
            const createTable = (entries) => {
                const table = document.createElement("table"); // create new table
                const tbody = document.createElement("tbody");
                tbody.style = "line-height: 19.8px" // to avoid the weird stretching stuff
                const trl = document.createElement("tr"); // always first item in table
                for (let h = 0; h < 5; h++) {
                    const th = document.createElement("th");
                    th.appendChild(document.createTextNode(headerLeading[h]));
                    trl.appendChild(th);
                }
                tbody.appendChild(trl);
                for (let j = 0; j < entries.length; j++) {
                    const tr = document.createElement("tr"); // create table entry
                    const invisFlag = (entries[j][1] === 1);
                    for (let i = 0; i < 6; i++) {
                        if (i == 0) {
                            const th = document.createElement("th"); // create table entry header
                            if (invisFlag) {
                                th.className = "no-visibility";
                            }
                            th.appendChild(document.createTextNode(entries[j][i]));
                            tr.appendChild(th);
                        } else if (i > 1) {
                            const td = document.createElement("td"); // create table entry document
                            td.style.textAlign = "center";
                            td.appendChild(document.createTextNode("Indicator"));
                            td.appendChild(document.createElement("br"));
                            td.appendChild(document.createTextNode(entries[j][i]));
                            tr.appendChild(td);
                        }
                    }
                    tbody.appendChild(tr); // append table entry to table
                }
                table.appendChild(tbody);
                return table;
            };
            const renderDelay = 5000;
            const renderTable = () => {
                const newEntries = shuffle(entries);
                const table = createTable(newEntries);
                emptyTable();
                tableElem.appendChild(table);
                setTimeout(() => {
                    renderTable();
                }, renderDelay)
            }
            console.log("[Diagram A] I am not sorry for this.");
            renderTable(); // START THE MAYHEM
        }
    </script>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Needlessly Complicated Button</span>
            </div>
            <div class="page-content">
                <div class="fb">
                    <div>
                        <h2>On the Subject of the Needlessly Complicated Button</h2>
                        <p class="flavour-text">Three indicators and a button? What could possibly go wrong?</p>

                        <ul>
                            <li>To solve the module, you must press or hold the button at the right time for the right duration.</li>
                            </li>
                        </ul>
                    </div>
                    <div>
                        <img class="diagram" src="img/Component/Needlessly Complicated Button.svg">
                    </div>
                </div>

                <h3>Part A: The Button</h3>
                <ul>
                    <li>The Button contains a label containing a word listed on <strong>Diagram A</strong>.
                        <ul>
                            <li>Use this diagram to determine which of the three indicators are the first, second, and remaining indicators. </li>
                        </ul>
                    </li>
                    <li>The leftmost of the indicators listed is Indicator 1, the rightmost is Indicator 2, and the indicator not listed is the Remaining Indicator.</li>
                </ul>

                <h3>Part B: The Indicators</h3>
                <ul>
                    <li>Once you have determined the two necessary indicators, you will need to use them in <strong>Diagram C</strong>.
                        <ul>
                            <li>Diagram C will tell you <strong>what digit the last timer digit must be when the button is pressed</strong>.</li>
                        </ul>
                    </li>
                    <li>The remaining indicator will be used along with the edgework of the bomb in <strong>Diagram B</strong>.
                        <ul>
                            <li>Diagram B will tell you <strong>how long to hold the button</strong> or <strong>when to release</strong>.</li>
                        </ul>
                    </li>
                    <li>Once you have obtained information from the two diagrams, proceed to <strong>Part C</strong>.</li>
                </ul>

                <h3>Part C:</h3>
                <ul>
                    <li>Once you have gotten the correct information from the diagrams, hold the button when the last digit of the timer is the last digit of the number received from <strong>Diagram C</strong> for the duration specified by <strong>Diagram B.</strong></li>
                    <!--<li>If you get it incorrect, the module will reset, and the <strong>remaining indicator will change!</strong></li>-->
                </ul>
            </div>
            <div class="page-footer relative-footer">Page 1 of 4</div>
        </div>
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Needlessly Complicated Button</span>
            </div>
            <div class="page-content">
                <h3>Diagram A:</h3>
                <div id="annoying-table"><table><tbody style="line-height: 19.8px;"><tr><th>Button Label</th><th>Bomb has more batteries than number of ports</th><th>First or last letter of button label in any indicator label</th><th>Any letter in serial is in the button label</th><th>Otherwise</th></tr><tr><th>Abort</th><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>2 and 3</td><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>1 and 2</td></tr><tr><th>Green</th><td style="text-align: center;">Indicator<br>1 and 2</td><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>2 and 3</td></tr><tr><th>Blue</th><td style="text-align: center;">Indicator<br>2 and 3</td><td style="text-align: center;">Indicator<br>1 and 2</td><td style="text-align: center;">Indicator<br>1 and 2</td><td style="text-align: center;">Indicator<br>1 and 3</td></tr><tr><th>Button</th><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>2 and 3</td><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>2 and 3</td></tr><tr><th>Press</th><td style="text-align: center;">Indicator<br>2 and 3</td><td style="text-align: center;">Indicator<br>2 and 3</td><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>1 and 3</td></tr><tr><th>Blank</th><td style="text-align: center;">Indicator<br>1 and 2</td><td style="text-align: center;">Indicator<br>2 and 3</td><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>2 and 3</td></tr><tr><th>Yellow</th><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>1 and 2</td><td style="text-align: center;">Indicator<br>2 and 3</td><td style="text-align: center;">Indicator<br>2 and 3</td></tr><tr><th>No Label</th><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>2 and 3</td><td style="text-align: center;">Indicator<br>1 and 2</td></tr><tr><th>Detonate</th><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>1 and 2</td><td style="text-align: center;">Indicator<br>2 and 3</td><td style="text-align: center;">Indicator<br>1 and 3</td></tr><tr><th>Red</th><td style="text-align: center;">Indicator<br>2 and 3</td><td style="text-align: center;">Indicator<br>2 and 3</td><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>1 and 3</td></tr><tr><th>Cyan</th><td style="text-align: center;">Indicator<br>2 and 3</td><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>1 and 2</td></tr><tr><th>Hold</th><td style="text-align: center;">Indicator<br>1 and 2</td><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>1 and 2</td><td style="text-align: center;">Indicator<br>2 and 3</td></tr><tr><th>Magenta</th><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>2 and 3</td><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>1 and 3</td></tr><tr><th>Nothing</th><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>1 and 2</td><td style="text-align: center;">Indicator<br>2 and 3</td><td style="text-align: center;">Indicator<br>1 and 3</td></tr><tr><th class="no-visibility">[No Label]</th><td style="text-align: center;">Indicator<br>2 and 3</td><td style="text-align: center;">Indicator<br>2 and 3</td><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>1 and 2</td></tr><tr><th>Literally Blank</th><td style="text-align: center;">Indicator<br>1 and 2</td><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>1 and 3</td><td style="text-align: center;">Indicator<br>2 and 3</td></tr></tbody></table></div>
            </div>
            <div class="page-footer relative-footer">Page 2 of 4</div>
        </div>
        <div class="page page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Needlessly Complicated Button</span>
            </div>
            <div class="page-content">
                <h3>Diagram B:</h3>
                <img src="img/Needlessly Complicated Button/Diagram B.svg">
                <table style="display: inline-block">
                    <tbody>
                        <tr>
                            <th>Line Type</th>
                            <th>Use if:</th>
                        </tr>
                        <tr>
                            <th>Solid<br>Line</th>
                            <td>Button is Red, Green, or Blue</td>
                        </tr>
                        <tr>
                            <th>Dotted<br>Line</th>
                            <td>Serial contains an even number</td>
                            </tr>
                        <tr>
                            <th>Dashed<br>Line</th>
                            <td>The remaining<br>indicator is prime</td>
                        </tr>
                        <tr>
                            <th>Dot Dashed<br>Line</th>
                            <td>The digital root of the<br>remaining indicator is odd</td>
                        </tr>
                    </tbody>
                </table>
                <table style="float: right">
                    <tbody>
                        <tr>
                            <th>Value</th>
                            <th>How long to hold</th>
                        </tr>
                        <tr>
                            <th>I</th>
                            <td>Release Immediately</td>
                        </tr>
                        <tr>
                            <th>A</th>
                            <td>Hold for 5 seconds</td>
                        </tr>
                        <tr>
                            <th>B</th>
                            <td>Hold for 10 seconds</td>
                        </tr>
                        <tr>
                            <th>C</th>
                            <td>Hold for 15 seconds</td>
                        </tr>
                        <tr>
                            <th>D</th>
                            <td>Hold for 20 seconds</td>
                        </tr>
                        <tr>
                            <th>F</th>
                            <td>Release on 1</td>
                        </tr>
                        <tr>
                            <th>G</th>
                            <td>Release on 3</td>
                        </tr>
                        <tr>
                            <th>H</th>
                            <td>Release on 5</td>
                        </tr>
                        <tr>
                            <th>J</th>
                            <td>Release on 8</td>
                        </tr>
                        <tr>
                            <th>?</th>
                            <td>Hold Until Satisfied</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="page-footer relative-footer">Page 3 of 4</div>
        </div>
        <div class="page page-bg-04">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Needlessly Complicated Button</span>
            </div>
            <div class="page-content">
                <h3>Diagram C:</h3>
                <br>
                <p class="smallStuff">*Note for top half of diagram: Indicator 1/2 is referring to <strong>the relevant indicators.</strong></p>
                <img src="img/Needlessly Complicated Button/Diagram C.svg" style="width: 100%; height: 100%">
            </div>
            <div class="page-footer relative-footer">Page 4 of 4</div>
        </div>
    </div>
</body>
</html>