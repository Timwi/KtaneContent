<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Turn Four — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        table {
            margin: 1em auto;
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Turn Four</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Turn Four.svg" class="diagram">
                <h2>On the Subject of Turn Four</h2>
                <p class="flavour-text">"Spin that bitch!" - William Shakespeare</p>
                <p>This module consists of four nodes, two gears, and nine coloured tiles each labelled with an underlined number.</p>
                <p>There is one tile of each colour:<br><strong>R</strong>ed, <strong>O</strong>range, <strong>Y</strong>ellow, <strong>G</strong>reen, <strong>C</strong>yan, <strong>B</strong>lue, <strong>P</strong>ink, brow<strong>N</strong>, and gr<strong>E</strong>y.</p>
                <p>To disarm this module, the puzzle must be put into its solve state, shown in the image above.<br>To do this, enter a combination of inputs:</p>
                   <ul><li>Any node can be selected at any time. The selected node is lit.</li>
                       <li>Selecting the left gear will rotate the four tiles adjacent to the selected node 90&deg; clockwise around the node.</li>
                       <li>Selecting the right gear will rotate the four tiles adjacent to the selected node 90&deg; anticlockwise around the node.</li></ul>
                <p>To construct the sequence of inputs:</p>
                   <ol><li>Use the digit of the <strong>G</strong> tile to construct a sequence of six colours.</li>
                   <li>Use each colour in the sequence together with serial number digit that shares its position in the sequence to find six subsequences of three inputs each.</li>
                   <li>Transform each subsequence with the modifiers corresponding to each of the previous colours in the sequence from right to left.</li>
                   <li>Concatenate the subsequences in order to obtain the eighteen input long sequence with which the puzzle has been <strong>scrambled</strong>. Invert this sequence.</li></ol>
                <p>The spring locks in the module are wound up when a rotation is made.<br>
                Rotating a node unwinds the spring locks of the other nodes.<br>
                Undoing a rotation reverts the spring locks to their previous states.<br>
                The puzzle is reset if any spring lock is wound up four times.<br>
                The puzzle must only be reset when a digit on the bomb timer matches<br>the digit of the <strong>R</strong> tile.</p>               
            </div>
            <div class="page-footer relative-footer">Page 1 of 5</div>
        </div>
        <div class="page page-bg-05">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Turn Four</span>
            </div>
            <div class="page-content">
                <h3>Colour Sequence</h3>
                <p>Use the instructions in the table corresponding to the green tile.<br></p>
                <p>Note:</p>
                <ul style="margin-top:-10px;"><li>Any mathematical operators or relations are applied to the corresponding digits of the coloured tiles.</li>
                <li>Each entry in the sequence must be a colour.<br>If an instruction returns a number, the entry is the colour of the tile whose digit is that number.</li></ul>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; font-size:10px;">
                    <table style="margin-bottom:10px;">
                    <tr><th>G = 1</th></tr>
                    <tr><td><ol><li>Add tile 9.</li>
                    <li>Add the highest of R, O, and Y.</li>
                    <li>If tile 9 is B, add B. Otherwise add the tile that is one higher than B.</li>
                    <li>Add C if it is greater than the smallest serial number digit, otherwise add R.</li>
                    <li>Add tile 5.</li>
                    <li>Add Y if it is greater than E, otherwise add P.</li></ol></td></tr></table>
                    <table style="margin-bottom:10px;">
                    <tr><th>G = 2</th></tr>
                    <tr><td><ol><li>Add ten minus C.</li>
                    <li>If the digit of C appears in the serial number, add C. otherwise add N.</li>
                    <li>Add tile 3.</li>
                    <li>Add tile 6 if N is odd, otherwise add tile 7.</li>
                    <li>Add the mean of R and C unless it is not an integer, in which case add the larger of R and C.</li>
                    <li>Add tile 8.</li></ol></td></tr></table>
                    <table style="margin-bottom:40px;">
                    <tr><th>G = 3</th></tr>
                    <tr><td><ol><li>Add the highest of C and B.</li>
                    <li>Add tile 2.</li>
                    <li>Add the mean of B and P unless it is not an integer, in which case add which of B and P is even.</li>
                    <li>Add the median of Y, N, and E.</li>
                    <li>Add tile 7.</li>
                    <li>Add O if E is greater than 5, otherwise add R.</li></ol></td></tr></table>
                    <table style="margin-bottom:10px;">
                    <tr><th>G = 4</th></tr>
                    <tr><td><ol><li>Add tile 1.</li>
                    <li>Add G if there are no ports.<br>Otherwise, add tile 9 if there are nine or more ports.<br>Otherwise add the tile whose digit is the number of ports.</li>
                    <li>If O, C, and N all have the same parity, add B. otherwise add which of O, C, and N has a parity different from the other two.</li>
                    <li>Add tile 6.</li>
                    <li>Add the sum of R and P if it is less than ten, otherwise add the difference between R and P.</li>
                    <li>Add Y if it is odd, otherwise add half of Y.</li></ol></td></tr></table>
                    <table style="margin-bottom:110px;">
                    <tr><th>G = 5</th></tr>
                    <tr><td><ol><li>Add the median of R, C, and E.</li>
                    <li>Add the difference of O and P.</li>
                    <li>Add tile 4.</li>
                    <li>Add P if it is odd, otherwise add half of P.</li>
                    <li>Add tile 9.</li>
                    <li>Add the difference between B and C if it is <strong>not</strong> a multiple of three, otherwise add tile 1.</li></ol></td></tr></table>
                    <table style="margin-bottom:70px;">
                    <tr><th>G = 6</th></tr>
                    <tr><td><ol><li>Add N if either P or E are equal to the number of ports, otherwise add R.</li>
                    <li>Add tile 8.</li>
                    <li>Add the lowest of C, B, and P.</li>
                    <li>If tile 1 is E, add E. Otherwise add the tile that is one lower than E.</li>
                    <li>Add the sum of Y and B if it is less than ten, otherwise add the difference between Y and B.</li>
                    <li>Add tile 5.</li></ol></td></tr></table>
                    <table style="margin-right:8px;">
                    <tr><th>G = 7</th></tr>
                    <tr><td><ol><li>Add tile 3.</li>
                    <li>Add one less than the larger of B and P.</li>
                    <li>Add ten minus R.</li>
                    <li>Add tile 2.</li>
                    <li>Add ten minus the larger of O&nbsp;and&nbsp;N.</li>
                    <li>If the sum of C and E is a multiple of three, add C. Otherwise add E.</li></ol></td></tr></table>
                    <table style="margin-top:-58px;">
                    <tr><th>G = 8</th></tr>
                    <tr><td><ol><li>Add the mean of O and Y unless it is not an integer, in which case add which of O and Y is odd.</li>
                    <li>Add tile 7.</li>
                    <li>Add B if it is equal to either the number of lit or unlit indicators, or the sum of both. Otherwise add ten minus B;.</li>
                    <li>Add the median of P, N, and E.</li>
                    <li>If R is a multiple of three, add tile 9.<br>Otherwise if tile 1 is R, add R.<br>Otherwise add one less than R.</li>
                    <li>Add tile 1.</li></ol></td></tr></table>
                    <table style="margin-top:-31px; ">
                    <tr><th>G = 9</th></tr>
                    <tr><td><ol><li>Add one more than the lowest of R,&nbsp;Y,&nbsp;and&nbsp;B.</li>
                    <li>Add P if E is less than 6, otherwise add ten minus P.</li>
                    <li>Add tile 6.</li>
                    <li>Add N if it is equal to either the number of AA or D batteries, or the sum of both. Otherwise add tile 8.</li>
                    <li>Add tile 4.</li>
                    <li>Add tile 5 if C is odd, otherwise add tile 9.</li></ol></td></tr></table>
                </div>
            </div>
            <div class="page-footer relative-footer">Page 2 of 5</div>
        </div>
         <div class="page page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Turn Four</span>
            </div>
            <div class="page-content">
            <h3>Base Subsequences</h3>
            <P>Each rotation has two components, position and direction.<br>The position is one of the four nodes on the module: <strong>U</strong>p, <strong>L</strong>eft, <strong>R</strong>ight, or <strong>D</strong>own.<br>The direction is either 90&deg; clockwise or 90&deg; anticlockwise.<br>Anticlockwise directions are denoted with a *.</p>
            <table style="width:100%; font-size:13px;">
            <tr><th style="font-size:8px;">Colour X/<br>Serial digit X</th><th>R</th><th>O</th><th>Y</th><th>G</th><th>C</th><th>B</th><th>P</th><th>N</th><th>E</th></tr>
            <tr><th>0/C/O</th><th>L,R*,L</th><th>R,R,U</th><th>D,D,U*</th><th>R*,L*,U</th><th>L*,L*,R*</th><th>R*,D*,D*</th><th>U*,R*,D</th><th>D,U,L*</th><th>R*,R*,L*</th></tr>
            <tr><th>1/D/P</th><th>U,D,L*</th><th>D,R,D*</th><th>L*,D*,U*</th><th>L,R,L</th><th>L*,R*,D*</th><th>D*,U*,R</th><th>U,U,D*</th><th>D,D,U*</th><th>D*,R,U</th></tr>
            <tr><th>2/E/Q</th><th>D*,R,U*</th><th>R*,L*,U</th><th>D,R*,D</th><th>U,D*,L*</th><th>D*,R*,D</th><th>R*,L*,U</th><th>U*,L,R</th><th>L*,D*,U</th><th>L*,D*,D*</th></tr>
            <tr><th>3/F/R</th><th>D,R*,D*</th><th>L*,R,D</th><th>U,R,L*</th><th>U,R,L*</th><th>D,R,R</th><th>L,R*,U</th><th>R,U*,R</th><th>U,R,U</th><th>D,L*,R*</th></tr>
            <tr><th>4/G/S</th><th>L,D,R*</th><th>R,D,U*</th><th>U*,L*,U*</th><th>U*,D,U</th><th>L*,U,R</th><th>L,U,U</th><th>D*,R*,R*</th><th>R*,R*,D</th><th>R,D,D</th></tr>
            <tr><th>5/H/T</th><th>L,R*,U*</th><th>U,L,L</th><th>R*,L,D</th><th>D*,R,L*</th><th>L,D*,R*</th><th>D*,L,D*</th><th>R,D,L</th><th>R,L,L</th><th>R,D*,U*</th></tr>
            <tr><th>6/I/U</th><th>D*,L,D*</th><th>L,R,U*</th><th>R,U*,R</th><th>D,U*,U*</th><th>L*,U*,R*</th><th>U,R,U</th><th>L,D,D</th><th>U*,D,U*</th><th>L*,R*,D*</th></tr>
            <tr><th>7/J/V</th><th>L*,U,L</th><th>U,D,R*</th><th>D*,L,R*</th><th>U,D*,R</th><th>D*,U*,U*</th><th>D*,L,U*</th><th>D*,U*,L</th><th>L*,R*,U</th><th>U*,U*,R</th></tr>
            <tr><th>8/K/W</th><th>L*,R*,U</th><th>U,L*,D</th><th>L*,R*,U</th><th>L*,L*,D*</th><th>D*,U*,R*</th><th>R*,R*,U</th><th>U,L*,D</th><th>U*,L*,D</th><th>R,L*,D</th></tr>
            <tr><th>9/L/X</th><th>U,L*,R*</th><th>U,L*,R</th><th>R*,U,L*</th><th>L,D,L</th><th>L,U,R*</th><th>R,U,L</th><th>U*,L*,R*</th><th>D*,D*,U</th><th>R*,D*,D*</th></tr>
            <tr><th>A/M/Y</th><th>D*,U,D</th><th>U,L*,L*</th><th>U*,R,D</th><th>R,U,D*</th><th>R,D*,U*</th><th>R,R,L*</th><th>U*,R,U</th><th>L,R*,D</th><th>R*,D*,R*</th></tr>
            <tr><th>B/N/Z</th><th>L,L,D*</th><th>L*,L*,R*</th><th>L*,R,U*</th><th>U,R*,L*</th><th>D*,U*,R*</th><th>U*,D*,D*</th><th>D,R,R</th><th>D*,U*,L*</th><th>U,U,D</th></tr>
            </table>
            <h3>Subsequence Modifiers</h3>
            <table style="width:100%;">
            <tr><th>Colour X-1</th><th>Modification of Subsequence X</th></tr>
            <tr><th>R</th><td>Reverse the first direction.</td></tr>
            <tr><th>O</th><td>Rotate the second position 180&deg;.</td></tr>
            <tr><th>Y</th><td>Rotate the third position 180&deg; and reverse its direction.</td></tr>
            <tr><th>G</th><td>Reverse the second direction.</td></tr>
            <tr><th>C</th><td>Rotate the first position 180&deg; and reverse its direction.</td></tr>
            <tr><th>B</th><td>Rotate the third position 180&deg;.</td></tr>
            <tr><th>P</th><td>Reverse the third direction.</td></tr>
            <tr><th>N</th><td>Rotate the first position 180&deg;.</td></tr>
            <tr><th>E</th><td>Rotate the second position 180&deg; and reverse its direction.</td></tr>
            </table>
            </div>
            <div class="page-footer relative-footer">Page 3 of 5</div>
        </div>
         <div class="page page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Turn Four</span>
            </div>
            <div class="page-content">
            <table style="width:100%; margin-top:50px; margin-bottom:100px;">
            <tr><th>Colour X-2</th><th>Modification of Subsequence X</th></tr>
            <tr><th>R</th><td>Swap the first and second rotations.</td></tr>
            <tr><th>O</th><td>Rotate the third position 90&deg; anticlockwise.</td></tr>
            <tr><th>Y</th><td>Swap the second and third rotations.</td></tr>
            <tr><th>G</th><td>Rotate the first position 90&deg; clockwise.</td></tr>
            <tr><th>C</th><td>Swap the first and third rotations.</td></tr>
            <tr><th>B</th><td>Rotate the second position 90&deg; clockwise.</td></tr>
            <tr><th>P</th><td>Rotate the first position 90&deg; anticlockwise.</td></tr>
            <tr><th>N</th><td>Rotate the third position 90&deg; clockwise.</td></tr>
            <tr><th>E</th><td>Rotate the second position 90&deg; anticlockwise.</td></tr>
            </table>
            <table style="width:100%;">
            <tr><th>Colour X-3</th><th>Modification of Subsequence X</th></tr>
            <tr><th>R</th><td>Rotate all positions 180&deg; and reverse all directions.</td></tr>
            <tr><th>O</th><td>Cycle the positions once to the left.</td></tr>
            <tr><th>Y</th><td>Cycle the positions once to the right.</td></tr>
            <tr><th>G</th><td>Reverse all directions.</td></tr>
            <tr><th>C</th><td>Rotate all positions 180&deg;.</td></tr>
            <tr><th>B</th><td>Cycle the directions once to the left.</td></tr>
            <tr><th>P</th><td>Cycle the directions once to the right.</td></tr>
            <tr><th>N</th><td>Cycle the rotations once to the left.</td></tr>
            <tr><th>E</th><td>Cycle the rotations once to the right.</td></tr>
            </table>
            </div>
            <div class="page-footer relative-footer">Page 4 of 5</div>
        </div>
         <div class="page page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Turn Four</span>
            </div>
            <div class="page-content">
            <p>Note: Any mention of previous subsequences refer to the subsequences after each of their own modifications.</p>
            <table style="width:100%; margin-bottom:40px; font-size:14.5px;">
            <tr><th>Colour X-4</th><th>Modification of Subsequence X</th></tr>
            <tr><th>R</th><td>If all directions of the previous subsequence are the same, reverse the third direction. Otherwise, rotate the third position 180&deg;.</td></tr>
            <tr><th>O</th><td>Rotate all positions 90&deg; by the opposites of their corresponding directions.</td></tr>
            <tr><th>Y</th><td>Rotate all positions 90&deg; clockwise.</td></tr>
            <tr><th>G</th><td>If the previous subsequence has an odd number of clockwise directions, reverse the second direction. Otherwise, rotate the second position 180&deg;.</td></tr>
            <tr><th>C</th><td>Rotate all positions 180&deg; and reverse all directions.</td></tr>
            <tr><th>B</th><td>Rotate all positions 90&deg; by their corresponding directions.</td></tr>
            <tr><th>P</th><td>Rotate all positions 90&deg; anticlockwise.</td></tr>
            <tr><th>N</th><td>If the previous subsequence has more than one clockwise direction, reverse the first direction. Otherwise, rotate the first position 180&deg;.</td></tr>
            <tr><th>E</th><td>Rotate all positions 90&deg; by the directions of their corresponding rotation in the previous subsequence.</td></tr>
            </table>
            <table style="width:100%; font-size:13px;">
            <tr><th>Colour X-5</th><th>Modification of Subsequence X</th></tr>
            <tr><th>R</th><td>If there are more than seven clockwise directions within the previous subsequences, all directions are anticlockwise. Otherwise all directions are clockwise.</td></tr>
            <tr><th>O</th><td>If there are an even number of clockwise directions within the previous subsequences, reverse all directions. Otherwise rotate all positions 180&deg;.</td></tr>
            <tr><th>Y</th><td>If there are more than seven clockwise directions within the previous subsequences, cycle the rotations once to the left. Otherwise cycle the rotations once to the right.</td></tr>
            <tr><th>G</th><td>If there are an even number of clockwise directions within the previous subsequences, rotate the positions 90&deg; anticlockwise. Otherwise rotate all positions 90&deg; clockwise.</td></tr>
            <tr><th>C</th><td>If all eight possible rotations can be found within the previous subsequences, cycle the positions once to the left. Otherwise rotate all positions anticlockwise.</td></tr>
            <tr><th>B</th><td>If there are more than seven clockwise directions within the previous subsequences, rotate the positions 90&deg; anticlockwise. Otherwise rotate all positions 90&deg; clockwise.</td></tr>
            <tr><th>P</th><td>If there are an even number of clockwise directions within the previous subsequences, cycle the rotations once to the left. Otherwise cycle the rotations once to the right.</td></tr>
            <tr><th>N</th><td>If there are more than seven clockwise directions within the previous subsequences, reverse all directions. Otherwise rotate all positions 180&deg;.</td></tr>
            <tr><th>E</th><td>If all eight possible rotations can be found within the previous subsequences, cycle the positions once to the right. Otherwise rotate all positions clockwise.</td></tr>
            </table>
            </div>
            <div class="page-footer relative-footer">Page 5 of 5</div>
        </div>
    </div>
</body>
</html>