<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>nottuB ehT — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/ruleseed.js"></script>
    <script>
        const labels = ["PRESS", "ABORT", "HOLD", "DETONATE", "START", "BEGIN", "GO", "RESET", "CLEAR", "STOP", "POWER", "ENERGY", "VOLT", "TEST", "CHECK", "SCAN"],
            maxSequence = 6;

        const setRules = rand => {
            const rows = [];

            for (const label of labels) {
                const seq = [];
                for (let i = 0; i < maxSequence; i++) seq.push(rand.nextMax(4) + 1);

                const row = document.createElement("tr"),
                    labelCell = document.createElement("td"),
                    seqCell = document.createElement("td");

                labelCell.innerText = label;
                seqCell.innerText = seq.join(", ");
                
                row.append(labelCell, seqCell);

                rows.push(row);
            }

            document.querySelector("table.label-rules tbody").replaceChildren(...rows);
        };

        const setDefaultRules = setRules;
    </script>
    <style>
        table {
            margin: 1em auto;
            border: none;
        }

        table.label-rules td:first-child {
            font-weight: bold;
        }

        .page-footer::before { content: '2 fo '; }
        .page-footer::after { content: ' egaP'; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">doM sedolpxE ydoboN dna gniklaT peeK</span>
                <span class="page-header-section-title">nottuB ehT</span>
            </div>
            <div class="page-content">
                <img src="img/Component/The Button.svg" class="diagram">
                <h2>The Button fo tcejbuS eht nO</h2>
                <p class="flavour-text">.dedolpxe elpoep steg taht gnikniht fo dnik eht s’tahT .drawrofthgiarts ytterp si ti sserp ot uoy gnillet nottub a taht kniht thgim uoY</p>

                <p><strong>NOTE:</strong> All colors in this manual refer to how they directly appear on the module, post-inversion.</p>

                <p>The length of your sequence, n, is determined by the color of the button.</p>
                <ul>
                    <li><strong>Cyan:</strong> 3</li>
                    <li><strong>Yellow:</strong> 4</li>
                    <li><strong>Blue:</strong> 5</li>
                    <li><strong>Black:</strong> 6</li>
                </ul>

                <p>To get your sequence, find the list of numbers that corresponds to the button's label below, then take the last n elements of that list.</p>

                <table class="label-rules">
                    <thead>
                        <tr>
                            <th>Label</th>
                            <th>Sequence</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
            <div class="page-footer relative-footer">1</div>
        </div>
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">doM sedolpxE ydoboN dna gniklaT peeK</span>
                <span class="page-header-section-title">nottuB ehT</span>
            </div>
            <div class="page-content">
                <h3>Submission</h3>
                <p>The colored strip to the right of the button will repeatedly flash a sequence of 6 colors, flashing 4 times per color. The base values of each color of the colored strip are as follows:</p>
                <ul>
                    <li><strong>Cyan:</strong> 1</li>
                    <li><strong>Yellow:</strong> 2</li>
                    <li><strong>Blue:</strong> 3</li>
                    <li><strong>Black:</strong> 4</li>
                </ul>
                <p>To modify the base value of the current color, press the button on the nth flash of the current color to add the following amounts (looping within the 1-4 range if necessary):</p>
                <ul>
                    <li><strong>1st flash:</strong> +0</li>
                    <li><strong>2nd flash:</strong> +1</li>
                    <li><strong>3rd flash:</strong> +2</li>
                    <li><strong>4th flash:</strong> +3</li>
                </ul>
                <p>Submitting an incorrect number or failing to submit the entire sequence in a consecutive series of flashes will result in a strike.</p>
                <p>Optionally, you may press and hold the button for 1 second to restart the colored strip's flashing sequence from a central point in the sequence, though your submission is not required to start at this point in the sequence.</p>
            </div>
            <div class="page-footer relative-footer">2</div>
        </div>
    </div>
</body>
</html>