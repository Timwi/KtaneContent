<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>反転記憶 — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        @media print {
            .page-bg-01 {
                max-height: 8.5in;
            }
        }
        .footnote {
            font-size: 70%
        }
        ul.dotless li {
            font-size: 15px;
            list-style-type: none;
            margin-left: -40px;
        }
        ul {
            margin-top: 1mm;
        }
        table {
            margin: auto;
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">反転記憶</span>
            </div>
            <div class="page-content">
                <img src="img/Anti-Memory/Anti-Memory1.svg" class="diagram">
                <h2>モジュール詳細：反転記憶</h2>
                <p class="flavour-text">何かを忘れていることを忘れている気がするが、もしかしたら何も忘れていないのかもしれない。</p>

                <ul>
                    <li>正しいボタンを押してステージを進め、モジュールを解除する。</li>
                    <li>ディスプレー、ボタンの状態、押したボタン(逆ステージは不要)を記録すること。</li>
                    <li>ボタンの位置は常に左から数える。逆位置では、見たままの状態で右から数える(反転すると、左右が逆になるため)。</li>
                </ul>
                <div class="memory-rules">
                    <h4>ステージ1:</h4>
                    <ul class="dotless">
                        <li>ディスプレーが1の場合、三番目のボタンを押す。</li>
                        <li>ディスプレーが2の場合、一番目のボタンを押す。</li>
                        <li>ディスプレーが3の場合、四番目のボタンを押す。</li>
                        <li>ディスプレーが4の場合、二番目のボタンを押す。</li>
                    </ul>
                   
                    <p>ボタンを押す前に、逆ステージを含めた各ステージごとに以下のX,Y,Zをメモする。</p>
                    <ul>
                     <li>X = ラベルがディスプレーの数字と等しいボタンの位置</li>
                     <li>Y = ラベルと位置の数字が一致するボタンの個数</li>
                    </ul>
                    <p>Xがディスプレーの数字と等しい場合、Z = 1である。そうでない場合、Z = 0である。</p>

                    <h4>逆ステージ1:</h4>
                    <p>このステージのXを求め、ステージ1との和を以下の表に使用する。</p>
                    <p></p>
                    <table>
                        <tr><th>0</th><td>一番目</td></tr>
                        <tr><th>1</th><td>ラベル「1」</td></tr>
                        <tr><th>2</th><td>ラベル「3」</td></tr>
                        <tr><th>3</th><td>二番目</td></tr>
                        <tr><th>4</th><td>一番目</td></tr>
                        <tr><th>5</th><td>ラベル「1」</td></tr>
                        <tr><th>6</th><td>二番目</td></tr>
                        <tr><th>7</th><td>ラベル「1」</td></tr>
                        <tr><th>8</th><td>一番目</td></tr>
                    </table>
                    <p>Xは今後使用しない。</p>

                    <h4>ステージ2:</h4>
                    <ul class="dotless">
                        <li>ディスプレーが1の場合、「2」と書かれたボタンを押す。</li>
                        <li>ディスプレーが2の場合、ステージ1で押したのと同じラベルのボタンを押す。</li>
                        <li>ディスプレーが3の場合、一番目のボタンを押す。</li>
                        <li>ディスプレーが4の場合、ステージ1で押したのと同じ位置のボタンを押す。</li>
                    </ul>

                    <h4>逆ステージ2:</h4>
                    <p>このステージのYを求め、今までのステージで得たYの合計を4で割った余りを以下の表に使用する。</p>
                    <table>
                        <tr><th>0</th><td>四番目</td></tr>
                        <tr><th>1</th><td>一番目</td></tr>
                        <tr><th>2</th><td>二番目</td></tr>
                        <tr><th>3</th><td>三番目</td></tr>
                    </table>
                    <p>Yは今後使用しない。</p>

                    <h4>ステージ3:</h4>
                    <ul class="dotless">
                        <li>ディスプレーが1の場合、ステージ1で押したのと同じラベルのボタンを押す。</li>
                        <li>ディスプレーが2の場合、ステージ2で押したのと同じラベルのボタンを押す。</li>
                        <li>ディスプレーが3の場合、二番目のボタンを押す。</li>
                        <li>ディスプレーが4の場合、「3」と書かれたボタンを押す。</li>
                    </ul>

                    <h4>逆ステージ3:</h4>
                    <p>このステージのZを求め、今までのステージで得たZの合計を4で割った余りを以下の表に使用する。</p>
                    <table>
                        <tr><th>0</th><td>ラベル「4」</td></tr>
                        <tr><th>1</th><td>ラベル「1」</td></tr>
                        <tr><th>2</th><td>ラベル「2」</td></tr>
                        <tr><th>3</th><td>ラベル「3」</td></tr>
                    </table>
                    <p>Zは今後使用しない。</p>
                </div>
            </div>
            <div class="page-footer relative-footer">ページ 1/2</div>
        </div>

        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">反転記憶</span>
            </div>
            <div class="page-content">
              
             <h4>ステージ4:</h4>
             <ul class="dotless">
                 <li>ディスプレーが1の場合、ステージ3で押したのと同じ位置のボタンを押す。</li>
                 <li>ディスプレーが2の場合、四番目のボタンを押す。</li>
                 <li>ディスプレーが3の場合、ステージ2で押したのと同じラベルのボタンを押す。</li>
                 <li>ディスプレーが4の場合、ステージ1で押したのと同じ位置のボタンを押す。</li>
             </ul>

             <p><b>ボタンを押す前に、以下の操作を行うこと。</b></p>
             <ol>
              <li>このステージを含めた全てのステージを、出現した順に最初のステージと二個目のステージ、二個目のステージと三個目のステージ……のようにペアを作成する。</li>
              <li>各ペア内で、そのステージにおけるボタンのラベル配置を取得する。</li>
              <li>各ペア内の最初のラベル配置に対して、左からa~dの文字を対応させる。その後、二番目のラベルをa~dの文字を使用して変換する(例：(1423,1324)は1=a,4=b,2=c,3=dとなり、adcbになる)。</li>
             </ol>
              <p>変換後の文字列が以下の表に含まれているペアの個数を数える。</p>
              <table>
                  <tr><td>abdc</td><td>acbd</td><td>adcb</td><td>bacd</td><td>bcda</td><td>bdac</td></tr>
                  <tr><td>cadb</td><td>cbad</td><td>cdba</td><td>dabc</td><td>dbca</td><td>dcba</td></tr>
              </table>
             </ol>

             <h4>逆ステージ4:</h4>
             <p>このステージの三番目のボタンがラベル「2」の場合、それを押す。</p>
             <p>そうでない場合、正位置のステージ4と逆位置のステージ4に対して上記の処理を行い、Nに加算する。</p>
             <p>それが偶数の場合、ラベル「2」を押す。そうでない場合、三番目のボタンを押す。</p>

             <h4>ステージ5:</h4>
             <ul class="dotless">
                 <li>ディスプレーが1の場合、ステージ4で押したのと同じラベルのボタンを押す。</li>
                 <li>ディスプレーが2の場合、ステージ3で押したのと同じラベルのボタンを押す。</li>
                 <li>ディスプレーが3の場合、ステージ2で押したのと同じ位置のボタンを押す。</li>
                 <li>ディスプレーが4の場合、ステージ1で押したのと同じラベルのボタンを押す。</li>
             </ul>
            </div>
            <div class="page-footer relative-footer">ページ 2/2</div>
        </div>
    </div>
</body>
</html>