<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Deceptive Rainbow Arrows — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        table:not(.skip) {
            margin-top: 1em;
            margin-bottom: 1em;
            font-size: 0.875em;
        }

        table .inner-table {
            float: right;
            margin: 1em;
            font-size: 0.9em;
        }
        .dark table, table { border: none; }
        td {
            text-align: center;
        }
        .continued {
            text-align: right;
            font-style: italic;
            font-size: 10pt;
        }
        .squeeze {
            margin-top: auto;
            margin-bottom: auto;
        }
        .wide {
            width: 100%;
        }
        .bigger {
            font-size: 150%;
        }
        .page {
            background-repeat: repeat-y;
            background-position: top;
        }
        body:not(.dark) .page-bg-cst-2bits {
            background-image: url("img/Deceptive%20Rainbow%20Arrows/page-bg-cst-twobits.png");
        }
        body.dark .page-bg-cst-2bits {
            background-image: url("img/Deceptive%20Rainbow%20Arrows/page-bg-cst-twobits-dark.png");
        }
        body:not(.dark) .page-bg-cst-bh {
            background-image: url("img/Deceptive%20Rainbow%20Arrows/page-bg-cst-blackhole.png");
        }
        body.dark .page-bg-cst-bh {
            background-image: url("img/Deceptive%20Rainbow%20Arrows/page-bg-cst-blackhole-dark.png");
        }
        body:not(.dark) .page-bg-cst-storegbra {
            background-image: url("img/Deceptive%20Rainbow%20Arrows/page-bg-cst-storesgbra.png");
        }
        body.dark .page-bg-cst-storegbra {
            background-image: url("img/Deceptive%20Rainbow%20Arrows/page-bg-cst-storesgbra-dark.png");
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Deceptive Rainbow Arrows</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Deceptive Rainbow Arrows.svg" class="diagram">
                <h2>On the Subject of Deceptive Rainbow Arrows</h2>
                <p class="flavour-text">What do you mean, “Point at Inverted Stores' Calculations!?” It points to the void and two useless bits!</p>
                <p>This module has eight arrow buttons in a randomized rainbow color arrangement, and a display screen in the center showing a flashing number in base-8 from 00 to 77. The eight possible colors the module can show are red, orange, yellow, green, blue, purple/violet, white, and black. When not submitting, there are 6 sets of flashing arrows followed by the text flashing a different color, denoting the end of the arrow flashing sequence.</p>
                <p><strong>If there is not a black arrow present, you may be looking at <a href="Rainbow%20Arrows.html">Rainbow Arrows.</a></strong></p>
                <p>To solve the module, the defuser will need to query a series of 2 colors and read out the response shown from the module. The response shown will be in base-8 or octal as "R:##" on the module. Go through the procedure for each response to get the next sequence of colors to query. Once the defuser has queried for the third response, determine the value to submit based on the response of that query.</p>
                <p>To query on the module, press the two arrow colors and then the display to query for the response. To submit on the module, press the display while no arrows are pressed, press the two arrow colors in order, and then the display again to submit. If the defuser wants to exit out of submission, press the display while no arrows have been inputted. <strong>Do not query or submit with 1 color pressed, or interact while the module is processing the query. This will cause a strike and display an error message on the module for a few seconds before reverting back to its initial state.</strong></p>
                <h1>Contents on This Manual:</h1>
                <ul>
                    <li><h2 class="squeeze"><a href="#firstQ">The First Query</a></h2></li>
                    <li><h2 class="squeeze"><a href="#secondQ">The Second Query</a></h2></li>
                    <li><h2 class="squeeze"><a href="#thirdQ">The Third Query</a></h2></li>
                    <li><h2 class="squeeze"><a href="#submitR">Submitting The Response</a></h2></li>
                </ul>
            </div>
            <div class="page-footer relative-footer">Page 1 of 5</div>
        </div>
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Deceptive Rainbow Arrows</span>
            </div>
            <div class="page-content">
                <h2 id="firstQ">The First Query</h2>
                <p>To obtain the first query, create 3 pairs of values from the serial number; by taking the 1st and 2nd, 3rd and 4th, 5th and 6th, all as separate pairs; converting letters into their A1Z26 counterpart. Take the sum of each pair and modulo them all by 8 to obtain 3 separate values. These three values are referred as Z, Y, and X respectively.</p>
                <p>Find the row representing Z in the table provided to get a series of colors that represent the octal values 0–7 in that order. This row will be used for later queries.</p>
                <p>If there is an even amount of batteries, the color representing Y will be the first color in the pair to query and the color representing X will be the second color in the pair to query.</p>
                <p>Otherwise, the color representing X will be the first color in the pair to query and the color representing Y will be the second color in the pair to query.</p>
                <p>For each cell in the table, each letter is represented by their first letter in the color name, except black which is represented with "K" to avoid confusion with blue.</p>
                <table class="skip wide bigger">
                    <tr>
                        <th rowspan="2">Z</th>
                        <th colspan="8">Octal Digit Represented By Color</th>
                    </tr>
                    <tr><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th></tr>
                    <tr><th>0</th><td>R</td><td>K</td><td>Y</td><td>W</td><td>O</td><td>G</td><td>P</td><td>B</td></tr>
                    <tr><th>1</th><td>Y</td><td>O</td><td>B</td><td>G</td><td>R</td><td>K</td><td>W</td><td>P</td></tr>
                    <tr><th>2</th><td>B</td><td>Y</td><td>K</td><td>R</td><td>W</td><td>P</td><td>G</td><td>O</td></tr>
                    <tr><th>3</th><td>G</td><td>R</td><td>P</td><td>O</td><td>K</td><td>W</td><td>B</td><td>Y</td></tr>
                    <tr><th>4</th><td>P</td><td>B</td><td>G</td><td>K</td><td>Y</td><td>R</td><td>O</td><td>W</td></tr>
                    <tr><th>5</th><td>K</td><td>W</td><td>O</td><td>B</td><td>P</td><td>Y</td><td>R</td><td>G</td></tr>
                    <tr><th>6</th><td>W</td><td>G</td><td>R</td><td>P</td><td>B</td><td>O</td><td>Y</td><td>K</td></tr>
                    <tr><th>7</th><td>O</td><td>P</td><td>W</td><td>Y</td><td>G</td><td>B</td><td>K</td><td>R</td></tr>
                </table>
            </div>
            <div class="page-footer relative-footer">Page 2 of 5</div>
        </div>
        <div class="page page-bg-cst-2bits">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Deceptive Rainbow Arrows</span>
            </div>
            <div class="page-content">
                <h2 id="secondQ">The Second Query</h2>
                <p>Convert the flashing arrow sequence into a string of 6 binary digits, with the first binary digit represented by the first set of flashing arrows after the text has flashed. White and black will NEVER flash in the arrow sequence, and should NOT be considered for deciding if the flashing set is inverted or not. If all but 1 colored arrow is flashing, that binary digit is represented as a 1. Otherwise, it is represented as a 0.</p>
                <p>Convert your response from the first query from octal to binary, using the table provided. Create this as another binary string.</p>
                <table>
                    <tr><th>Oct</th><th>Bin</th><th>Oct</th><th>Bin</th><th>Oct</th><th>Bin</th><th>Oct</th><th>Bin</th><th>Oct</th><th>Bin</th><th>Oct</th><th>Bin</th><th>Oct</th><th>Bin</th><th>Oct</th><th>Bin</th></tr>
                    <tr><td>0</td><td>000</td><td>1</td><td>001</td><td>2</td><td>010</td><td>3</td><td>011</td><td>4</td><td>100</td><td>5</td><td>101</td><td>6</td><td>110</td><td>7</td><td>111</td></tr>
                </table>
                <p>XOR the two binary strings obtained earlier to get a new binary sequence. Take the second, fourth, and sixth binary digits from that sequence to get 1 binary triplet and create the second with the remainder. Convert these two binary triplets into their octal digits, join the octal digits into one octal value, and then cross reference this table to get a new octal value. Query the new octal value with the color arrangement determined for the first query.</p>
                <table class="skip bigger centered" style="border-collapse: separate; border-style: none">
                    <tr><td class="corner"></td><th>_0</th><th>_1</th><th>_2</th><th>_3</th><th>_4</th><th>_5</th><th>_6</th><th>_7</th></tr>
                    <tr><th>0_</th><td>36</td><td>02</td><td>70</td><td>74</td><td>57</td><td>32</td><td>24</td><td>22</td></tr>
                    <tr><th>1_</th><td>40</td><td>30</td><td>06</td><td>17</td><td>64</td><td>34</td><td>51</td><td>47</td></tr>
                    <tr><th>2_</th><td>63</td><td>53</td><td>45</td><td>54</td><td>10</td><td>61</td><td>60</td><td>41</td></tr>
                    <tr><th>3_</th><td>67</td><td>07</td><td>00</td><td>42</td><td>04</td><td>56</td><td>46</td><td>65</td></tr>
                    <tr><th>4_</th><td>16</td><td>62</td><td>77</td><td>26</td><td>31</td><td>12</td><td>66</td><td>25</td></tr>
                    <tr><th>5_</th><td>55</td><td>52</td><td>11</td><td>14</td><td>27</td><td>05</td><td>35</td><td>76</td></tr>
                    <tr><th>6_</th><td>15</td><td>50</td><td>37</td><td>23</td><td>44</td><td>33</td><td>43</td><td>73</td></tr>
                    <tr><th>7_</th><td>75</td><td>72</td><td>03</td><td>21</td><td>20</td><td>13</td><td>71</td><td>01</td></tr>
                </table>
            </div>
            <div class="page-footer relative-footer">Page 3 of 5</div>
        </div>
        <div class="page page-bg-cst-bh">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Deceptive Rainbow Arrows</span>
            </div>
            <div class="page-content">
                <h2 id="thirdQ">The Third Query</h2>
                <p class="squeeze">Use the response that was obtained from the second query and start on the coordinate in reading order based on the grid provided, where 00 is the top-left of the grid. On the grid, start facing in the same direction as the white arrow on the module. Go through this snippet of pseudocode:</p>
                <ol class="squeeze">
                    <li>Let <code>I = 0</code>, <code>P</code> be an empty list, and M the number of arrows clockwise from the white arrow to the arrow matching the color of the text when the text flashes. (I.E. If the color sequence in CW order is W, G, B, R, K, Y, O, P and the color of the text flashed is blue, M would be 2.)</li>
                    <li>While <code>I &lt; 4</code>, repeat the following nested steps:
                        <ol class="squeeze">
                            <li>Let <code>E</code> be a separate list. and <code>A = 0</code> in this section.</li>
                            <li>While <code>A &lt; I + 1</code>, repeat the following nested steps:<ol class="squeeze">
                                <li>Append the value you are on to <code>E</code>.</li>
                                <li>Move 1 step in the current direction, wrapping around to the other side of the grid if moving to out of bounds.</li>
                                <li>Add 1 to A.</li>
                            </ol></li>
                            <li>Append the sum of all the values in <code>E</code>, modulo 8, on to <code>P</code>.</li>
                            <li>Rotate 45&deg; clockwise M times.</li>
                            <li>Add 1 to I.</li>
                        </ol>
                    </li>
                    <li>Take <code>P[0]</code> and XOR it with <code>P[1]</code> to create <code>A</code> in octal, where <code>P[0]</code> is the first element in list <code>P</code>. Likewise, take <code>P[2]</code> and XOR it with <code>P[3]</code> to create <code>B</code> in octal.</li>
                    <li>Find the cell corresponding to the 2 digit concatenation of <code>A</code>, <code>B</code> from the second query’s table and query the respecting color combination from the first query’s row.</li>
                </ol>
                <table class="skip bigger centered">
                    <tr><td>0</td><td>1</td><td>7</td><td>3</td><td>5</td><td>4</td><td>2</td><td>6</td></tr>
                    <tr><td>1</td><td>3</td><td>0</td><td>4</td><td>7</td><td>6</td><td>5</td><td>2</td></tr>
                    <tr><td>3</td><td>4</td><td>1</td><td>6</td><td>0</td><td>2</td><td>7</td><td>5</td></tr>
                    <tr><td>4</td><td>6</td><td>3</td><td>2</td><td>1</td><td>5</td><td>0</td><td>7</td></tr>
                    <tr><td>6</td><td>2</td><td>4</td><td>5</td><td>3</td><td>7</td><td>1</td><td>0</td></tr>
                    <tr><td>2</td><td>5</td><td>6</td><td>7</td><td>4</td><td>0</td><td>3</td><td>1</td></tr>
                    <tr><td>5</td><td>7</td><td>2</td><td>0</td><td>6</td><td>1</td><td>4</td><td>3</td></tr>
                    <tr><td>7</td><td>0</td><td>5</td><td>1</td><td>2</td><td>3</td><td>6</td><td>4</td></tr>
                </table>
            </div>
            <div class="page-footer relative-footer">Page 4 of 5</div>
        </div>
        <div class="page page-bg-cst-storegbra">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Deceptive Rainbow Arrows</span>
            </div>
            <div class="page-content">
                <h2 class="squeeze" id="submitR">Submitting The Response</h2>
                <p class="squeeze">To submit the response, use the initially displayed value, all responses from the queries you have up to this point, and the 6 sets of arrow flashes that have occurred. Examine the ports present, and create a list of the port type(s) that appear the most. <strong>If this list has at least 4 port types mentioned from this table, omit the 1st, 3rd, and 5th flashes.</strong> Otherwise, omit the flashes corresponding to the port types in your list in this table.</p>
                <table class="skip">
                    <tr><th>Port Type</th><th>Parallel</th><th>Serial</th><th>PS/2</th><th>RJ-45</th><th>Stereo RCA</th><th>DVI-D</th></tr>
                    <tr><th>Position To Omit</th><td>2nd</td><td>6th</td><td>3rd</td><td>4th</td><td>5th</td><td>1st</td></tr>
                </table>
                <table class="skip" style="float: right; width: 40%">
                    <tr>
                        <th>Color<br>Flashed</th>
                        <th>Equation</th>
                    </tr>
                    <tr>
                        <td>Red</td>
                        <td>R(x) = x + A<sub>0</sub></td>
                    </tr>
                    <tr>
                        <td>Orange</td>
                        <td>O(x) + A<sub>1</sub> = x</td>
                    </tr>
                    <tr>
                        <td>Yellow</td>
                        <td>Y(x) + (2<sup>n</sup> - 1) = A<sub>2</sub> - x</td>
                    </tr>
                    <tr>
                        <td>Green</td>
                        <td>G(x) + x = 2 * x + &sum;A / 3</td>
                    </tr>
                    <tr>
                        <td>Blue</td>
                        <td>x - 2 * B(x) - 2 * n = min(A) - B(x)</td>
                    </tr>
                    <tr>
                        <td>Purple</td>
                        <td>3 * P(x) - 2 * x = max(A) - x + 4 * P(x)</td>
                    </tr>
                </table>
                <p class="squeeze">Go through the rest of the flashing sets and find it’s respective equation based on the color it flashed. Solve for x if the flash is inverted or F(x) otherwise by plugging on the opposing variable (solving for F(x), plug in x, and vice versa, after plugging in the other values), the last value that was used to calculate the set of flashes, or the displayed value if this is the first set. <strong>Keep the calculated value within 0 to 63 by adding or subtracting 64 repeatedly if the calculated value in base 10 after the current flash set is not. Omit decimals when dividing, I.E. make 24.5555 become 24, NOT 25.</strong> On the table provided:</p>
                <ul>
                    <li>A is the list of responses obtained up to this point.</li>
                    <li>A<sub>n</sub> refers to the response that was queried (n + 1)th.</li>
                    <li>n is the position of the current remaining flashing set when the equation is used, with the first set being 0.</li>
                    <li>min(A) refers to the minimum value from list A.</li>
                    <li>max(A) refers to the maximum value from list A.</li>
                    <li>&sum;A refers to the sum of all of the values from list A.</li>
                </ul>
                <p>Use the octal representation of the result of the last calculated flashing set to reference the second query’s table to get a new value. Use the color representation of the new value to submit the response.</p>
            </div>
            <div class="page-footer relative-footer">Page 5 of 5</div>
        </div>
    </div>
</body>
</html>