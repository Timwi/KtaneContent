<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Polybius Square — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.1.1.min.js"></script>
    <script>
        const tableData = [
            [ '0', '1', '2', '3', '4', '5', '1', 'A', 'B', 'C', 'D', 'E', '2', 'F', 'G', 'H', 'I/J', 'K', '3', 'L', 'M', 'N', 'O', 'P', '4', 'Q', 'R', 'S', 'T', 'U', '5', 'V', 'W', 'X', 'Y', 'Z' ],
            [ '1', '1', '4', '5', '3', '2', '4', 'A', 'B', 'C', 'D', 'E', '1', 'F', 'G', 'H', 'I/J', 'K', '5', 'L', 'M', 'N', 'O', 'P', '2', 'Q', 'R', 'S', 'T', 'U', '3', 'V', 'W', 'X', 'Y', 'Z' ],
            [ '2', '1', '2', '3', '4', '5', '5', 'Q', 'W', 'E', 'R', 'T', '4', 'Y', 'U', 'O', 'P', 'A', '3', 'S', 'I/J', 'D', 'F', 'G', '2', 'H', 'K', 'L', 'Z', 'X', '1', 'C', 'V', 'B', 'N', 'M' ],
            [ '3', '5', '4', '3', '2', '1', '5', 'A', 'E', 'B', 'F', 'K', '4', 'M', 'Q', 'N', 'R', 'U', '3', 'D', 'H', 'C', 'G', 'L', '2', 'P', 'T', 'O', 'S', 'V', '1', 'W', 'Y', 'I/J', 'X', 'Z' ],
            [ '4', '3', '5', '2', '4', '1', '1', 'A', 'B', 'C', 'D', 'E', '2', 'F', 'G', 'H', 'I/J', 'K', '3', 'L', 'M', 'N', 'O', 'P', '5', 'Q', 'R', 'S', 'T', 'U', '4', 'V', 'W', 'X', 'Y', 'Z' ],
            [ '5', '1', '3', '2', '4', '5', '1', 'A', 'L', 'R', 'W', 'Z', '2', 'F', 'B', 'M', 'S', 'X', '3', 'I/J', 'G', 'C', 'N', 'T', '4', 'U', 'P', 'H', 'D', 'O', '5', 'Y', 'V', 'Q', 'K', 'E' ],
            [ '6', '5', '4', '3', '2', '1', '5', 'W', 'E', 'R', 'S', 'D', '4', 'P', 'Z', 'Q', 'M', 'L', '3', 'A', 'I/J', 'B', 'V', 'C', '2', 'U', 'Y', 'O', 'F', 'T', '1', 'H', 'N', 'K', 'G', 'X' ],
            [ '7', '3', '1', '2', '5', '4', '5', 'B', 'T', 'V', 'L', 'U', '2', 'D', 'Z', 'E', 'G', 'N', '4', 'X', 'Y', 'P', 'O', 'R', '1', 'F', 'A', 'S', 'H', 'K', '3', 'C', 'W', 'M', 'I/J', 'Q' ],
            [ '8', '1', '2', '3', '4', '5', '1', 'Z', 'Y', 'X', 'W', 'V', '2', 'U', 'T', 'S', 'R', 'Q', '3', 'P', 'O', 'N', 'M', 'L', '4', 'K', 'I/J', 'H', 'G', 'F', '5', 'E', 'D', 'C', 'B', 'A' ],
            [ '9', '1', '2', '3', '4', '5', '1', 'E', 'D', 'C', 'B', 'A', '2', 'K', 'I/J', 'H', 'G', 'F', '3', 'P', 'O', 'N', 'M', 'L', '4', 'U', 'T', 'S', 'R', 'Q', '5', 'Z', 'Y', 'X', 'W', 'V' ],
        ];
        $(function() {
            let allCells = $('.squares td, .squares th');
            console.log(allCells);
            for (let tabIx = 0; tabIx < 10; tabIx++) {
                for (let cellIx = 0; cellIx < 36; cellIx++) {
                    const cell = allCells[36 * tabIx + cellIx];
                    const text = tableData[tabIx][cellIx];
                    cell.innerHTML = text;
                    if (text == 'I/J')
                        $(cell).addClass('i-j');
                }
            }
        
        });
    </script>
    <style>
       .dark table, table {
             margin: 0.25cm;
       }
        div.squares {
            display: flex;
            flex-flow: row wrap;
            justify-content: center;
            text-align: center;
        }
        th.k {
            background-color: black;
            color: white;
        }
        .dark th.k {
            background-color: #CCC;
            color: black;
        }   
        h3 { text-decoration: none; }
        .i-j {
            padding: .3em 0 .2em;
            font-size: 80%;
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Polybius Square</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Polybius Square.svg" class="diagram">
                <h2>On the Subject of Polybius Square</h2>
                <p class="flavour-text">Warning: This module may cause severe psychological damage to anyone who solves it.</p>

                <ul>
                    <li>This module will display 5 two-digit numbers, and has 12 buttons with random letters on them.</li>
                    <li>Convert the numbers to letters using the Polybius square corresponding to the solution number.</li>
                    <li>The letters must be entered in order.</li>
                    <li>Be careful. There is no backspace.</li>
                </ul>
                
                <h3>Figuring out the solution number:</h3>
                <ul>
                    <li>Take the sum of all five numbers.</li>
                    <li>Add the sum of all characters in the serial number. Letters are equal to their numeric position in the alphabet.</li>
                    <li>Multiply by the total number of batteries.</li>
                    <li>Take the sum of all digits in this total.</li>
                    <li>Take the least significant digit of the total. This is the solution number.</li>
                    <li>This number corresponds to the Polybius square on the next page labeled with that number in the top-left corner in the square.</li>
                </ul>
                
                <h3>Solving a Polybius Square:</h3>
                <ul>
                    <li>The letters on the table are converted to letters based on their location on a 5×5 grid.</li>
                    <li>The first number represents the row, and the second number represents the column.</li>
                    <li>The letters I and J are interchangeable, but only one of the two letters can show up on the keypad at one time (as in, I or J can appear, but not both at once).</li>
                    <li>For example, in a basic Polybius Square (a.k.a. Polybius Square 0), the letter ‘M’ would be represented by the number 32, because it is in row 3, column 2.</li>
                    <li>However, on Polybius Square 1, the letter ‘M’ would be represented by the number 54 because it is on row 5 and column 4.</li>
                </ul>
                
            </div>
            <div class="page-footer relative-footer">Page 1 of 2</div>
        </div>

        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Polybius Square</span>
            </div>
            <div class="page-content">
                <h3>Polybius Squares</h3>
                
                    <div class='squares'>
                    
                        <table> 
                            <tr> <th class='k'></th> <th></th> <th></th> <th></th> <th></th> <th></th> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                        </table>
                        
                        <table> 
                            <tr> <th class='k'></th> <th></th> <th></th> <th></th> <th></th> <th></th> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                        </table>
                        
                        <table> 
                            <tr> <th class='k'></th> <th></th> <th></th> <th></th> <th></th> <th></th> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                        </table>
                        
                        <table> 
                            <tr> <th class='k'></th> <th></th> <th></th> <th></th> <th></th> <th></th> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                        </table>
                        
                        <table> 
                            <tr> <th class='k'></th> <th></th> <th></th> <th></th> <th></th> <th></th> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                        </table>
                        
                        <table> 
                            <tr> <th class='k'></th> <th></th> <th></th> <th></th> <th></th> <th></th> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                        </table>
                        
                        <table> 
                            <tr> <th class='k'></th> <th></th> <th></th> <th></th> <th></th> <th></th> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                        </table>
                        
                        <table> 
                            <tr> <th class='k'></th> <th></th> <th></th> <th></th> <th></th> <th></th> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                        </table>
                        
                        <table> 
                            <tr> <th class='k'></th> <th></th> <th></th> <th></th> <th></th> <th></th> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                        </table>
                        
                        <table> 
                            <tr> <th class='k'></th> <th></th> <th></th> <th></th> <th></th> <th></th> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                            <tr> <th></th> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
                        </table>
                    </div>
            </div>
            <div class="page-footer relative-footer">Page 2 of 2</div>
        </div>
    </div>
</body>
</html>