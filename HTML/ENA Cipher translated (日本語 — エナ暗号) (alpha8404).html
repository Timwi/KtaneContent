<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>エナ暗号 — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        .enablue, .enablue-text { background-color: #3162f7; }
        .dark .enablue-text { background-color: #264bbd; }
        .enayellow, .enayellow-text { background-color: #fee600; }
        .dark .enayellow-text { background-color: #b8a602;}
        .enagrey-text { background-color: #b6b8ba; }
        .dark .enagrey-text { background-color: #888; }
        .enagreen-text { background: #aafa00;}
        .dark .enagreen-text { background: #96bf3d;}
        .letters-key { font-size: 14.5px; }
        .letters-key td {
            text-align: center;
            padding: 0;
        }
        .numbers-key { width: 20%; }
        .numbers-key tr { height: 27px; }
        .sh { margin: 0; }
        .page.strip::before { background-image: linear-gradient(#3162f7, #fee600); }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">エナ暗号</span>
            </div>
            <div class="page-content">
                <img src="img/Component/ENA Cipher.svg" class="diagram">
                <h2>モジュール詳細：エナ暗号</h2>
                <p class="flavour-text">いい天気！今日はどんな陰謀がメニューに盛り込まれてるのかな？</p>
                
                <p class="sh">このモジュールはスタートボタン(送信モードに移行)を備えたタスクバー、3つのパターンを表示する5つのパネル、及び点滅パターンの速度を変更する2つの矢印ボタンで構成されている。次の順序で表示される:</p>
                <ul class="sh">
                    <li>暗号化された文字列</li>
                    <li>等差数列暗号のキーワード</li>
                    <li>消滅転置の鍵</li>
                    <li>誘惑階段暗号のキーワード</li>
                    <li>置換の鍵</li>
                </ul>
                <p>単語を解読するには以下の仕組みに従う:</p>
                <h3 class="sh">パターンの復号化</h3>
                <p class="sh">モジュールに3回表示されるパターンは文字または数字に対応する。以下の表を使用してパターンを復号化し、暗号化された単語、キーワード、置換文字、及び数列を取得することができる。</p>
                <p><strong>注:点滅パターンの色やパターンが異なる場合、<a href="ENA Cipher Dream BBQ Alternative.html">ココ</a>をクリックしてDream BBQ Alternativeマニュアルを参照する。</strong></p>
                <div class="vstack alignc gap2">
                    <table class="letters-key">
                        <tr>
                            <td><img src='img/ENA Cipher/BY.svg'></td>
                            <td><img src='img/ENA Cipher/Y.svg'></td>
                            <td><img src='img/ENA Cipher/Y.svg'></td>
                            <td><img src='img/ENA Cipher/BY.svg'></td>
                            <td><img src='img/ENA Cipher/BY.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                            <td><img src='img/ENA Cipher/WL.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                            <td><img src='img/ENA Cipher/Y.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                            <td><img src='img/ENA Cipher/WR.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                            <td><img src='img/ENA Cipher/BY.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                            <td><img src='img/ENA Cipher/WR.svg'></td>
                            <td><img src='img/ENA Cipher/WL.svg'></td>
                            <td><img src='img/ENA Cipher/WL.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                            <td><img src='img/ENA Cipher/BY.svg'></td>
                            <td><img src='img/ENA Cipher/BY.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                            <td><img src='img/ENA Cipher/BY.svg'></td>
                            <td><img src='img/ENA Cipher/BY.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                            <td><img src='img/ENA Cipher/WL.svg'></td>
                        </tr>
                        <tr>
                            <td><img src='img/ENA Cipher/WL.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                            <td><img src='img/ENA Cipher/WR.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                            <td><img src='img/ENA Cipher/Y.svg'></td>
                            <td><img src='img/ENA Cipher/Y.svg'></td>
                            <td><img src='img/ENA Cipher/BY.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                            <td><img src='img/ENA Cipher/Y.svg'></td>
                            <td><img src='img/ENA Cipher/WR.svg'></td>
                            <td><img src='img/ENA Cipher/WL.svg'></td>
                            <td><img src='img/ENA Cipher/Y.svg'></td>
                            <td><img src='img/ENA Cipher/WR.svg'></td>
                            <td><img src='img/ENA Cipher/WR.svg'></td>
                            <td><img src='img/ENA Cipher/WR.svg'></td>
                            <td><img src='img/ENA Cipher/WL.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                            <td><img src='img/ENA Cipher/BY.svg'></td>
                            <td><img src='img/ENA Cipher/BY.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                            <td><img src='img/ENA Cipher/WL.svg'></td>
                            <td><img src='img/ENA Cipher/WR.svg'></td>
                            <td><img src='img/ENA Cipher/WL.svg'></td>
                            <td><img src='img/ENA Cipher/WL.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                        </tr>
                        <tr>
                            <td><img src='img/ENA Cipher/WR.svg'></td>
                            <td><img src='img/ENA Cipher/Y.svg'></td>
                            <td><img src='img/ENA Cipher/Y.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                            <td><img src='img/ENA Cipher/WL.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                            <td><img src='img/ENA Cipher/WR.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                            <td><img src='img/ENA Cipher/WR.svg'></td>
                            <td><img src='img/ENA Cipher/WL.svg'></td>
                            <td><img src='img/ENA Cipher/WL.svg'></td>
                            <td><img src='img/ENA Cipher/WR.svg'></td>
                            <td><img src='img/ENA Cipher/BY.svg'></td>
                            <td><img src='img/ENA Cipher/WL.svg'></td>
                            <td><img src='img/ENA Cipher/WR.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                            <td><img src='img/ENA Cipher/WL.svg'></td>
                            <td><img src='img/ENA Cipher/WL.svg'></td>
                            <td><img src='img/ENA Cipher/WR.svg'></td>
                            <td><img src='img/ENA Cipher/BY.svg'></td>
                            <td><img src='img/ENA Cipher/BY.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                            <td><img src='img/ENA Cipher/WL.svg'></td>
                            <td><img src='img/ENA Cipher/BY.svg'></td>
                            <td><img src='img/ENA Cipher/A.svg'></td>
                        </tr>
                        <tr>
                            <th>A</th><th>B</th><th>C</th><th>D</th><th>E</th><th>F</th><th>G</th><th>H</th><th>I</th><th>J</th><th>K</th><th>L</th><th>M</th>
                            <th>N</th><th>O</th><th>P</th><th>Q</th><th>R</th><th>S</th><th>T</th><th>U</th><th>V</th><th>W</th><th>X</th><th>Y</th><th>Z</th>
                        </tr>
                    </table>
                    <table class="numbers-key">
                        <tr>
                            <td class="enablue"></td>
                            <td class="enayellow"></td>
                            <td class="enablue"></td>
                            <td class="enayellow"></td>
                            <td class="enayellow"></td>
                            <td class="enablue"></td>
                        </tr>
                        <tr>
                            <td class="enayellow"></td>
                            <td class="enablue"></td>
                            <td class="enablue"></td>
                            <td class="enayellow"></td>
                            <td class="enablue"></td>
                            <td class="enablue"></td>
                        </tr>
                        <tr>
                            <td class="enablue"></td>
                            <td class="enayellow"></td>
                            <td class="enablue"></td>
                            <td class="enayellow"></td>
                            <td class="enablue"></td>
                            <td class="enayellow"></td>
                        </tr>
                        <tr><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th></tr>
                    </table>
                </div>
                <h3>ステップ1:等差数列暗号</h3>
                <p class="sh">ディスプレー1から暗号化された文字列を取得し、ディスプレー2からキーワードを取得する。最初に出現した英字を保持しながらキーワード内の重複する文字を全て削除する。次にアルファベット全体からキーワードに含まれている英字を削除したものを作成する。</p>
                <p>シリアルナンバーに「ENA」のいずれかが含まれている場合、キーワードの末尾にアルファベット文字列を配置する。それ以外の場合、キーワードの前にアルファベット文字列を配置する。これが等差数列の鍵となる。</p>
            </div>
            <div class="page-footer relative-footer">ページ 1/4</div>
        </div>
        <div class="page page-bg-02 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">エナ暗号</span>
            </div>
            <div class="page-content">
                <p>暗号化された文字列を3つのペアに分解する。ペアの最初の英字からもう一方の英字のいずれかの方向の動きに注目する。</p>
                <p>2文字目からの移動をさらに繰り返し、新たな2文字のペアを取得する。次に取得した新しいペアを逆にし、復号化されたペアを取得する。</p>
                <p>他の2つのペアに対しても同様のプロセスを行い、新しい暗号化された単語を取得する。</p>
                <h4 class="centered">例</h4>
                <p class="centered">
                    暗号化された文字列: DUHXIU<br>
                    鍵: ABCDEGHJKMNOPQRUVWXZSTIFLY
                </p>
                <p class="centered">
                    D, U -> 12 -> Q, B<br>
                    H, X -> 12  -> V, E<br>
                    I, U -> 7 -> B, K<br>
                </p>
                <p class="centered">
                    新しい暗号化された文字列: QBVEBK
                </p>
                <h3>ステップ2:消滅転置</h3>
                <p>ステップ1から取得した新しい暗号化された文字列と、ディスプレー3から取得した数列を使用する。</p>
                <p>数列を3つのペアに分解する。各ペアの位置に対応する2つの文字を交換する。</p>
                <h4 class="centered">例</h4>
                <p class="centered">
                    暗号化された文字列: QBVEBK<br>
                    数列: 144156
                </p>
                <p class="centered">
                    QBVEBK -> 14 -> EBVQBK<br>
                    EBVQBK -> 41 -> QBVEBK<br>
                    QBVEBK -> 56 -> QBVEKB<br>
                </p>
                <p class="centered">新しい暗号化された文字列: QBVEKB</p>
            </div>
            <div class="page-footer relative-footer">ページ 2/4</div>
        </div>
        <div class="page page-bg-03 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">エナ暗号</span>
            </div>
            <div class="page-content">
                <h3>ステップ3:誘惑階段暗号のキーワード</h3>
                <p>ステップ2からの新しい暗号化された単語と、ディスプレー4から取得した鍵を使用し、JをIsに置き換え、最初に出現したものを保持しながらキーワード内の重複した英字をすべて削除する。次にJを除いたアルファベット全体を取得し、キーワードに含まれている全ての英字を削除する。</p>
                <p>ただし、暗号化された文字列にJが含まれている場合、各Jをディスプレー5の置換文字列と同じ位置にある文字に置き換える。</p>
                <p>ポートの数が奇数、ポートプレートの数が偶数の場合、キーワードの末尾にアルファベット文字列を配置する。それ以外の場合、キーワードの前にアルファベット文字列を配置する。</p>
                <p>長さ25の文字列を5×5グリッドに変換する。</p>
                <p>暗号化された文字列を2つの3文字に分解する。</p>
                <p>各3文字について、それらが含まれている列及びその間にある列のみを使用する。</p>
                <ul>
                    <li>全ての文字が同じ列にある場合、何もしない。</li>
                    <li>それ以外の場合、各文字を使用している列全体を見て水平に対称位置にある文字に変換する。</li>
                </ul>
                <h4 class="centered">例</h4>
                <p class="centered">
                    暗号化された文字列: QBVEKB<br>
                    鍵: BCDEGHIKLMNOPQRUVWXYZFAST
                </p>
                <div class="hstack gap2">
                    <table>
                        <colgroup><col span="4" class="enagrey-text"><col></colgroup>
                        <tr><th class="enablue-text">B</th><th>C</th><th>D</th><th class="enayellow-text">E</th><th>G</th></tr>
                        <tr><th>H</th><th>I</th><th>K</th><th>L</th><th>M</th></tr>
                        <tr><th class="enayellow-text">N</th><th>O</th><th>P</th><th class="enablue-text">Q</th><th>R</th></tr>
                        <tr><th>U</th><th class="enablue-text">V</th><th class="enayellow-text">W</th><th>X</th><th>Y</th></tr>
                        <tr><th>Z</th><th>F</th><th>A</th><th>S</th><th>T</th></tr>
                    </table>
                    <table>
                        <colgroup><col span="4" class="enagrey-text"><col></colgroup>
                        <tr><th class="enagreen-text">B</th><th>C</th><th>D</th><th class="enagreen-text">E</th><th>G</th></tr>
                        <tr><th>H</th><th class="enayellow-text">I</th><th class="enablue-text">K</th><th>L</th><th>M</th></tr>
                        <tr><th>N</th><th>O</th><th>P</th><th>Q</th><th>R</th></tr>
                        <tr><th>U</th><th>V</th><th>W</th><th>X</th><th>Y</th></tr>
                        <tr><th>Z</th><th>F</th><th>A</th><th>S</th><th>T</th></tr>
                    </table>
                </div>
                <p class="centered">
                    QBV -> NEW<br>
                    EKB -> BIE
                </p>
                <p class="centered">復号化された単語: NEWBIE</p>
            </div>
            <div class="page-footer relative-footer">ページ 3/4</div>
        </div>
        <div class="page page-bg-04 strip">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">エナ暗号</span>
            </div>
            <div class="page-content">
                <h3>送信</h3>
                <p>復号化された単語を取得したら、スタートボタンを押して送信モードに入り単語を入力する。</p>
                <p>削除するにはバックスペースキーを押す。6文字を超える入力はできない。</p>
                <p>メインウィンドウに戻りたいときは、ウィンドウの右上隅にある「X」を押す。</p>
                <p>入力が完了したら「SUB」というラベルのボタンを押して回答を送信する。ミスが記録されるとモジュールはブルースクリーンを表示した後にメインウィンドウに戻るが、新たな文字列は再生成されない。</p>
                <p>さらに2月23日に爆弾が開始された場合は特殊な解除アニメーションが再生される。</p>
            </div>
            <div class="page-footer relative-footer">ページ 4/4</div>
        </div>
    </div>
</body>
</html>