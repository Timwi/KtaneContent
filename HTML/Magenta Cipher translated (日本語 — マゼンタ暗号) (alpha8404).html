<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>マゼンタ暗号 — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        .dark table, table {
            margin:1em auto;
            border:none;
        }
        .strip-change-one td,
        .strip-change-one th {
            padding:.3em .5em .2em;
        }
        .alpha {
            font-size:13px;
        }
        .tablea {
            font-size:14px;
        }
        .tableb {
            font-size:20px;
            width:100%;
        }
        h4 { text-align:center; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">マゼンタ暗号</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Ultimate Cipher.svg" class="diagram">
                <h2>モジュール詳細：マゼンタ暗号</h2>
                <p class="flavour-text">マゼンタという色は存在しない。それは、緑の錐体細胞が非活性化かつ赤と青の錐体細胞が活性化していることを脳が知覚しようとしているのだ。この暗号は、あなたの想像力の単なる色素に過ぎない。</p>
                <p>このモジュールには3つのディスプレー、キーボード、2つの矢印、及び現在のページを表示する送信ボタンがある。</p>
                <p>このモジュールには1つのページしか存在しないため、いずれかの矢印を押すと押した文字のみが削除される。</p>
                <p>上部のディスプレーには6文字の暗号文、中央のディスプレーには数字、下部のディスプレーには3文字のキーが表示される。</p>
                <p>以下の暗号を使用し、単語を解読する。</p>
                <h3>ステップ1:アフィン暗号</h3>
                <p>暗号化された単語を次の式を使用して復号化する：((C - X) * D) % 26</p>
                <p>Xはシリアルナンバーの数字の合計を25で割った余りに、1を加算したものである。Dは中央のディスプレーに表示される数字の逆数(ディスプレーの数字をEと呼ぶ)である。Dは次の式を満たす数字として求められる：(E * D) % 26 = 1</p>
                <p>各文字をアルファベット位置を使用して数字に変換し、結果を変数Cに代入する。結果をアルファベット位置を使用して英字に戻す(注：Zは0と26の両方として扱える)。</p>
                <p>これで新しい暗号化された単語が作成できる。</p>
                <h4>例</h4>
                <p style="text-align:center">
                    暗号化単語：WVQMOG<br>
                    シリアルナンバー：LP7WP3<br>
                    中央の数字：9 -> (9 * 3) % 26 = 1<br>
                    X：((7 + 3) % 25) + 1 = 11
                </p>
                <p style="text-align:center">
                    W -> ((23 - 11) * 3) % 26 -> 10 -> J<br>
                    V -> ((22 - 11) * 3) % 26 -> 7 -> G<br>
                    Q -> ((17 - 11) * 3) % 26 -> 18 -> R<br>
                    M -> ((13 - 11) * 3) % 26 -> 6 -> F<br>
                    O -> ((15 - 11) * 3) % 26 -> 12 -> L<br>
                    G -> ((07 - 11) * 3) % 26 -> 14 -> N<br>
                </p>
                <p style="text-align:center">
                    新しい暗号化単語：JGRFLN
                </p>
                </div>
            <div class="page-footer relative-footer">ページ 1/3</div>
        </div>

        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">マゼンタ暗号</span>
            </div>
            <div class="page-content">
                <h3>ステップ2:ミシュコフスキー転置</h3>
                <p>シリアルナンバーの英字を取得してキーを作成し、各文字にアルファベット順で番号を付ける。同点も含める。1はアルファベット順で最初に来るものである。</p>
                <p>次に、読み順にキーの列に収まるようにキーの下の6つのダッシュを配置する。</p>
                <p>番号の下にある各ダッシュを昇順で、ステップ1で取得した暗号化された単語の各文字に置き換える。キーに重複する番号がある場合、重複する番号の下にある枠がすべて埋まるまで、左から右、上から下に配置する。その後、文字を読み順で読み、新しい暗号化された単語を取得する。</p>
                <h4>例</h4>
                <p style="text-align:center">
                    暗号化単語：JGRFLN<br>
                    シリアルナンバー：ステップ1と同じ
                </p>
                <table>
                <tr>
                    <td>L</td>
                    <td>P</td>
                    <td>W</td>
                    <td>P</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                    <td>2</td>
                </tr>
                <tr>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>-</td>
                    <td>-</td>
                    <td class='empty'></td>
                    <td class='empty'></td>
                </tr>
                </table>
                <table>
                <tr>
                    <td>L</td>
                    <td>P</td>
                    <td>W</td>
                    <td>P</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                    <td>2</td>
                </tr>
                <tr>
                    <td>J</td>
                    <td>R</td>
                    <td>N</td>
                    <td>F</td>
                </tr>
                <tr>
                    <td>G</td>
                    <td>L</td>
                    <td class='empty'></td>
                    <td class='empty'></td>
                </tr>
                </table>
                <p style="text-align:center">
                    新しい暗号化単語：JRNFGL
                </p>
                </div>
            <div class="page-footer relative-footer">ページ 2/3</div>
        </div>
    <div class="page page-bg-03">
        <div class="page-header">
            <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">マゼンタ暗号</span>
        </div>
        <div class="page-content">

    <h3>ステップ3:自動鍵暗号</h3>
    <p>ステップ2で取得した暗号化単語と下のディスプレーのキーを使用する。</p>
    <p>暗号化された単語の最初の英字とキーの最初の英字を取得し、アルファベット位置を使用して数字に変換する。</p>
    <p>次に、最初の数字から2番目の数字を減算し、新しい数字をアルファベット位置を使用して英字に戻す。</p>
    <p>結果の数値が0以下の場合、数値が1~26の範囲になるまで26を加算する。</p>
    <p>結果の文字をキーの最後に書く。</p>
    <p>文字ごとにこれを繰り返し、復号化された単語を取得する。</p>
    <h4>例</h4>
    <p style="text-align:center">
    暗号化単語：JRNFGL
    下のディスプレー：FWA
    </p>
    <p style="text-align:center">
    J, F -> 10 - 6 -> 4 -> D<br>
    R, W -> 18 - 23 -> -5 + 26 -> 21 -> U<br>
    N, A -> 14 - 1 -> 13 -> M<br>
    F, D -> 6 - 4 -> 2 -> B<br>
    G, U -> 7 - 21 -> -14 + 26 -> 12 -> L<br>
    L, M -> 12 - 13 -> -1 + 26 = 25 -> Y<br>
    復号化された単語：DUMBLY
    </p>
    <p>復号化された単語を取得したら、それを送信する。入力を開始すると、全てのディスプレーが暗転し下のディスプレーに入力された文字が表示される。</p>

        <p>入力を消去するには、いずれかの矢印をクリックする。ページが移動し、入力した文字列が消去される。6文字を超える入力はできないようになっている。</p>

        <p>入力に問題がなければ、「SUB」と書かれたボタンを押して、回答を送信する。ミスが記録された場合、モジュールの最初のページに戻るが、暗号の再生成はされない。</p>

        </div>
            <div class="page-footer relative-footer">ページ 3/3</div>
        </div>
    </div>
</body>
</html>