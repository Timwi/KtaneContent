<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Disjoncteurs — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.7.0.min.js"></script>
    <script src="js/ruleseed.js"></script>
    <style>
        .dark table, table {
            margin: 1em auto;
            border: none;
        }
        .dark #red, .dark #blue, .dark #green, .dark #yellow { color:black }
        #red { background-color:#f08080 }
        #blue { background-color:#87cefa }
        #green { background-color:#90ee90 }
        #yellow { background-color:#fffacd }
    </style>
    <script>
        function setDefaultRules(rnd){
            var firstTable = document.getElementById("firstTable");
            var secondTable = document.getElementById("secondTable");
            var startingPositions = [
                ["DGGG", "GGGD", "DGDD", "DDDG", "DGDG"],
                ["GGGG", "DDGG", "GDGD", "GDDG", "GGDG"],
                ["GDDD", "GGDD", "DGGD", "GDGG", "DDGD"],
                ["DDGD", "GDDG", "GGDG", "DGDD", "GDGD"]
            ];
            var characters = [
                ["E G 4 9", "I N 5 6", "D T 2 3", "C L 7 8"],
                ["Q U 2 8", "P Z 3 7", "H V 4 5", "B W 6 9"],
                ["J R 6 7", "M X 2 9", "K A 5 8", "S F 3 4"]
            ];
            for(var i = 0; i < 4; i++){
                for(var j = 1; j < 6; j++){
                    firstTable.children[i].children[j].innerHTML = "<b>" + startingPositions[i][j - 1] + "</b>";
                }
            }
            for(var i = 0; i < 3; i++){
                for(var j = 1; j < 5; j++){
                    secondTable.children[i].children[j].innerHTML = "<b>" + characters[i][j - 1] + "</b>";
                }
            }
        }
        function setRules(rnd){
            var LR = ["G", "D"];
            var letters = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Z"];
            rnd.shuffleFisherYates(letters);
            console.log(letters);
            var firstTable = document.getElementById("firstTable");
            var secondTable = document.getElementById("secondTable");
            for(var i = 0; i < 4; i++){
                for(var j = 1; j < 6; j++){
                    firstTable.children[i].children[j].innerHTML = "<b>" + LR[rnd.next(0,2)] + LR[rnd.next(0,2)] + LR[rnd.next(0,2)] + LR[rnd.next(0,2)] + "</b>";
                }
            }
            var index = 0;
            for(var i = 0; i < 3; i++){
                for(var j = 1; j < 5; j++){
                    secondTable.children[i].children[j].innerHTML = "<b>" + letters[index] + " " + letters[index + 1] + " " + rnd.next(0, 10) + " " + rnd.next(0, 10) + "</b>";
                    index += 2;
                }
            }
        }
    </script>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Disjoncteurs</span>
            </div>
            <div class="page-content">
            <img src="img/Component/Breakers.svg" class="diagram">
                <h2>À propos des Disjoncteurs</h2>
                <p class="flavour-text">Oh non, ça a disjoncté&nbsp;?</p>
                <ul>
                    <li>Tous les disjoncteurs doivent être basculés vers la droite.</li>
                    <li>Les disjoncteurs noirs peuvent être basculés à tout moment.</li>
                    <li>Ne basculer un disjoncteur coloré que lorsque les disjoncteurs noirs sont dans la bonne position. L’ordre des disjoncteurs se fait de haut en bas.</li>
                    <li>Utiliser le premier tableau ci-dessous pour déterminer les positions de départ des disjoncteurs noirs, en fonction de la couleur du disjoncteur coloré à retourner.</li>
                    <li>À partir de la position de départ, basculer les disjoncteurs noirs dans un sens ou dans l’autre selon les critères énumérés dans le deuxième tableau ci-dessous avant de basculer le disjoncteur de couleur correspondant.</li>
                </ul>
                <h3>Position de départ</h3>
                <table style="text-align:center;margin-top:10px;margin-bottom:30px;width:100%"><thead><tr>
                    <th style="width:20%" rowspan=2>Couleur du Disjoncteur</th><th colspan=5 style="border-bottom:hidden">Chiffre le plus élevé du numéro de série</th>
                    </tr>
                    <tr style="border-top:hidden"><td style="border-right:hidden">0-4</td><td style="border-left:hidden;border-right:hidden">5-6</td><td style="border-left:hidden;border-right:hidden">7</td><td style="border-left:hidden;border-right:hidden">8</td><td style="border-left:hidden">9</td></tr>
                    </thead>
                    <tbody id="firstTable">
                    <tr><td id="red">Rouge</td><td></td><td></td><td></td><td></td><td></td>
                    <tr><td id="blue">Bleu</td><td></td><td></td><td></td><td></td><td></td>
                    <tr><td id="green">Vert</td><td></td><td></td><td></td><td></td><td></td>
                    <tr><td id="yellow">Jaune</td><td></td><td></td><td></td><td></td><td></td>
                    </tbody>
                </table>
                <h3>Ajustements supplémentaires</h3>
                <table style="text-align:center;float:right;margin-top:10px;margin-left:20px;margin-bottom:10px;width:50%">
                    <thead>
                        <tr><th style="width:10%" rowspan=2>Disjoncteur coloré</th><th colspan=4 style="border-bottom:hidden">Disjoncteur Noir</th></tr>
                        <tr style="border-top:hidden"><td style="border-right:hidden">1er</td><td style="border-left:hidden;border-right:hidden">2e</td><td style="border-left:hidden;border-right:hidden">3e</td><td style="border-left:hidden">4e</td></tr>
                    </thead>
                    <tbody id="secondTable">
                        <tr><td>1er</td><td></td><td></td><td></td><td></td></tr>
                        <tr><td>2e</td><td></td><td></td><td></td><td></td></tr>
                        <tr><td>3e</td><td></td><td></td><td></td><td></td></tr>
                    </tbody>
                </table>
                <p>Pour chaque disjoncteur coloré, à partir de la position de départ, basculer chaque disjoncteur noir donné
                    chaque fois qu’un caractère donné par la table apparaît dans le numéro de série.
                    Chaque disjoncteur noir peut être retourné plusieurs fois, mais seule la position finale compte.
                </p>
            </div>
            <div class="page-footer relative-footer">Page 1 sur 1</div>
        </div>
    </div>
</body>
</html>
