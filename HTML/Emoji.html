<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Emoji — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        .dark table, table {
            margin: 1em auto;
            font-size: 7.5pt;
        }

        p {
            margin-bottom: .8em;
        }

        .icon-grid { width: 100%; }
        .dark .icon-grid {
            background-color: #888;
            margin: -5px;
            padding: 5px;
            border-radius: 5px;
        }

        .dark .unfilled, .filled { background-color: #111; color: #ddd; }
        .dark .filled, .unfilled { background-color: #eee; color: #222; }

        .page-footer::before { content: 'Page '; }
        .page-footer::after { content: ' of 2'; }
    </style>
    <script>
        const emoji = ["ab", "abacus", "abc", "abcd", "accept", "accordion", "adult", "airplane", "alembic", "alien", "ambulance", "amphora", "anchor", "angel", "anger", "angry", "anguished", "ant", "apple", "aquarius", "aries", "art", "artist", "astonished", "astronaut", "atm", "avocado", "axe", "baby", "back", "bacon", "badger", "badminton", "bagel", "balloon", "bamboo", "banana", "bangbang", "banjo", "bank", "barber", "baseball", "basket", "basketball", "bat", "bath", "bathtub", "battery", "bear", "beaver", "bed", "bee", "beer", "beers", "beetle", "beginner", "bell", "bento", "bike", "bikini", "bird", "birthday", "bison", "blossom", "blowfish", "blueberries", "blush", "boar", "bomb", "bone", "book", "bookmark", "books", "boom", "boomerang", "boot", "bouquet", "bowling", "boy", "brain", "bread", "bricks", "briefcase", "briefs", "broccoli", "broom", "bucket", "bug", "bulb", "burrito", "bus", "busstop", "butter", "butterfly", "cactus", "cake", "calendar", "calling", "camel", "camera", "camping", "cancer", "candle", "candy", "capricorn", "carrot", "cat", "cd", "chains", "chair", "chart", "cherries", "chestnut", "chicken", "child", "chipmunk", "chopsticks", "cinema", "cityscape", "cl", "clap", "clapper", "clipboard", "cloud", "clubs", "coat", "cockroach", "cocktail", "coconut", "coffee", "coffin", "coin", "comet", "compass", "compression", "computer", "confounded", "confused", "congratulations", "construction", "cook", "cookie", "cooking", "cool", "corn", "couple", "couplekiss", "cow", "crab", "cricket", "crocodile", "croissant", "crown", "cry", "cucumber", "cupcake", "cupid", "curry", "customs", "cyclone", "dancer", "dango", "dart", "dash", "date", "deer", "desert", "diamonds", "disappointed", "dizzy", "dna", "dodo", "dog", "dollar", "dolls", "dolphin", "door", "doughnut", "dragon", "dress", "droplet", "duck", "dumpling", "dvd", "eagle", "ear", "egg", "eggplant", "eight", "elephant", "elevator", "elf", "end", "envelope", "euro", "exclamation", "expressionless", "eye", "eyeglasses", "eyes", "factory", "fairy", "falafel", "farmer", "fax", "fearful", "feather", "ferry", "firecracker", "firefighter", "fireworks", "fish", "fist", "five", "flags", "flamingo", "flashlight", "flatbread", "flushed", "fly", "fog", "foggy", "fondue", "foot", "football", "footprints", "fountain", "four", "free", "fries", "frog", "frowning", "fuelpump", "garlic", "gear", "gem", "gemini", "genie", "ghost", "gift", "giraffe", "girl", "gloves", "goat", "goggles", "golf", "gorilla", "grapes", "grimacing", "grin", "grinning", "guitar", "gun", "hamburger", "hammer", "hamster", "handbag", "hash", "headphones", "headstone", "heart", "heartbeat", "heartpulse", "hearts", "hedgehog", "helicopter", "herb", "hibiscus", "hippopotamus", "hockey", "hole", "hook", "horse", "hospital", "hotel", "hotsprings", "hourglass", "house", "hushed", "hut", "icecream", "id", "imp", "infinity", "innocent", "interrobang", "japan", "jeans", "jigsaw", "joy", "joystick", "judge", "kangaroo", "key", "keyboard", "kimono", "kiss", "kissing", "kite", "knife", "knot", "koala", "koko", "label", "lacrosse", "ladder", "leaves", "ledger", "leg", "lemon", "leo", "leopard", "libra", "link", "lips", "lipstick", "lizard", "llama", "lobster", "lock", "lollipop", "loop", "loudspeaker", "luggage", "lungs", "mag", "mage", "magnet", "mahjong", "mailbox", "mammoth", "man", "mango", "mask", "mate", "mechanic", "mega", "melon", "mens", "mermaid", "metro", "microbe", "microphone", "microscope", "minibus", "minidisc", "mirror", "moneybag", "monkey", "monorail", "mosquito", "motorboat", "motorcycle", "motorway", "mountain", "mouse", "moyai", "muscle", "mushroom", "mute", "necktie", "new", "newspaper", "ng", "nine", "ninja", "nose", "notebook", "notes", "ocean", "octopus", "oden", "office", "ok", "olive", "on", "one", "onion", "orangutan", "otter", "owl", "ox", "oyster", "package", "pager", "pancakes", "paperclip", "parachute", "parking", "parrot", "peach", "peacock", "pear", "penguin", "pensive", "persevere", "pick", "pie", "pig", "pill", "pilot", "pineapple", "pisces", "pizza", "placard", "plunger", "poodle", "popcorn", "postbox", "potato", "pouch", "pound", "pretzel", "prince", "princess", "printer", "punch", "purse", "pushpin", "question", "rabbit", "raccoon", "racehorse", "radio", "rage", "rainbow", "ram", "ramen", "rat", "razor", "receipt", "recycle", "relaxed", "relieved", "repeat", "restroom", "rewind", "ribbon", "rice", "ring", "rock", "rocket", "rooster", "rose", "rosette", "sa", "sagittarius", "sailboat", "sake", "salt", "sandal", "sandwich", "santa", "sari", "satellite", "sauropod", "saxophone", "scales", "scarf", "school", "scientist", "scissors", "scooter", "scorpion", "scorpius", "scream", "screwdriver", "scroll", "seal", "seat", "secret", "seedling", "selfie", "seven", "shamrock", "shark", "sheep", "shell", "shield", "ship", "shirt", "shorts", "shower", "shrimp", "singer", "six", "skateboard", "ski", "skier", "skunk", "sled", "sleeping", "sleepy", "sloth", "smile", "smiley", "smirk", "smoking", "snail", "snake", "snowboarder", "snowflake", "snowman", "soap", "sob", "soccer", "socks", "softball", "soon", "sos", "sound", "spades", "spaghetti", "sparkle", "sparkler", "sparkles", "speaker", "speedboat", "spider", "sponge", "spoon", "squid", "stadium", "star", "stars", "station", "stethoscope", "stew", "stopwatch", "strawberry", "student", "sunflower", "sunglasses", "sunny", "sunrise", "superhero", "supervillain", "sushi", "swan", "sweat", "symbols", "syringe", "taco", "tada", "tamale", "tangerine", "taurus", "taxi", "tea", "teacher", "teapot", "technologist", "telephone", "telescope", "tennis", "tent", "thermometer", "thread", "three", "ticket", "tiger", "tm", "toilet", "tomato", "tongue", "toolbox", "tooth", "toothbrush", "top", "tophat", "trackball", "tractor", "train", "tram", "trident", "triumph", "trolleybus", "trophy", "truck", "trumpet", "tulip", "turkey", "turtle", "tv", "two", "umbrella", "unamused", "underage", "unlock", "up", "vampire", "vhs", "violin", "virgo", "volcano", "volleyball", "vs", "waffle", "warning", "wastebasket", "watch", "watermelon", "wave", "wc", "weary", "wedding", "whale", "wheelchair", "window", "wink", "wolf", "woman", "womens", "wood", "worm", "worried", "wrench", "yarn", "yen", "yum", "zap", "zebra", "zero", "zombie", "zzz"];
        const sentence = "The monitor consists of two emoji, both of which have a name. Click the two emoji in the image below to get their names for the next step.";
        const paragraph = "Using the names of the two emoji, create a new grid where it's rows have the letters of the left emoji from top to bottom, and it's columns have the letters of the right emoji from left to right. Using the row as the first character and the column as the second, determine whether these two characters form a valid two-letter code representing an emoji flag. These flags are found below. Consider valid codes as filled in the grid, and invalid as unfilled.";
        const alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";

        function addEventHandlers() {
            document.getElementById("emoji-grid").addEventListener("click", clickHandler("emoji-grid", 25, 25, "result", (x, y) => sentence + " <b>" + emoji[y * 25 + x].toUpperCase() + "</b>"));
            document.getElementById("flag-grid").addEventListener("click", clickHandler("flag-grid", 26, 26, "otherResult", (x, y) => paragraph + " <b>" + alphabet[y] + alphabet[x] + "</b>"));
        }

        function clickHandler(gridElemId, numCols, numRows, outputElemId, resultFunc) {
            const gridElem = document.getElementById(gridElemId)
            const outputElem = document.getElementById(outputElemId)
            
            function handleClick(event) {
                // Width and height need to be recalculated on every click in case the user zooms in/out enough to change between mobile/desktop view.
                const colWidth = gridElem.offsetWidth / numCols;
                const rowHeight = gridElem.offsetHeight / numRows;
                const bounds = gridElem.getBoundingClientRect();
                const x = Math.floor((event.clientX - bounds.left) / colWidth);
                const y = Math.floor((event.clientY - bounds.top) / rowHeight);
                if (x >= 0 && x < numCols && y >= 0 && y < numRows)
                    outputElem.innerHTML = resultFunc(x, y);
            }
            return handleClick
        }
    </script>
</head>
<body onload="addEventHandlers()">
    <div class="section">
        <div class="page page-bg-05">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Emoji</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Emoji.svg" class="diagram">
                <h2>On the Subject of Emoji</h2>
                <p class="flavour-text">“😂” was the Oxford word of the year in 2015? What the hell?</p>

                <p>This module consists of a Apple monitor with a stand. But the stand is also by Apple, so it costs $999. In frustration, you decide you want to destroy it. However, if you do not destroy it correctly it will rematerialize (and give you a strike).</p>
                <p id="result">The monitor consists of two emoji, both of which have a name. Click the two emoji in the image below to get their names for the next step.</p>
                <img src="img/Emoji/Emoji Grid.png" id="emoji-grid" class="icon-grid"/>
            </div>
            <div class="page-footer relative-footer">1</div>
        </div>

        <div class="page page-bg-06">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Emoji</span>
            </div>
            <div class="page-content">
                <p id="otherResult">Using the names of the two emoji, create a new grid where its rows have the letters of the left emoji from top to bottom, and its columns have the letters of the right emoji from left to right. Using the row as the first character and the column as the second, determine whether these two characters form a valid two-letter code representing an emoji flag. These flags are found below. Consider valid codes as filled in the grid, and invalid as unfilled.</p>
                <img src="img/Emoji/Flag Grid.png" id="flag-grid" class="icon-grid"/>
                <div class="hstack">
                    <p>A region will be defined as any orthogonally adjacent cells in your generated grid of similar shade (filled or unfilled). Count the number of regions total in your grid. For example, if both emoji names were “ABCDE”, the resulting grid would have 9 regions.</p>
                    <table>
                        <tr><td class="unfilled">1</td><td class="unfilled"></td><td class="filled"></td><td class="filled">2</td><td class="filled"></td></tr>
                        <tr><td class="filled">3</td><td class="filled"></td><td class="unfilled">4</td><td class="filled"></td><td class="filled"></td></tr>
                        <tr><td class="filled"></td><td class="unfilled">5</td><td class="filled"></td><td class="filled"></td><td class="unfilled">6</td></tr>
                        <tr><td class="unfilled"></td><td class="unfilled"></td><td class="unfilled"></td><td class="unfilled"></td><td class="filled">7</td></tr>
                        <tr><td class="filled">8</td><td class="unfilled"></td><td class="filled">9</td><td class="unfilled"></td><td class="filled"></td></tr>
                    </table>
                </div>

                <p>The number of regions in your grid determines how many times to punch each emoji on the screen. The tens digit determines how many times you punch the left emoji, and the ones digit determines how many times you punch the right emoji.</p>
                <p>Failure to do this correctly will yield a strike, rematerialize the monitor, and give you new emoji.</p>
            </div>
            <div class="page-footer relative-footer">2</div>
        </div>
    </div>
</body>
</html>