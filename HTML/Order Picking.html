<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Order Picking — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src='js/ktane-utils.js'></script>
    <script src='js/ruleseed.js'></script>
    <style>
        body.ruleseed-active .rule {
            text-decoration: underline;
            font-weight: bold;
        }
        ul { padding-left: .5cm; }
        li { margin: .2cm 0; }
        h3 {
            margin-top: 0;
            text-align: center;
        }
    </style>
    <script>
        function setDefaultRules()
        {
            let palletTotals = ["231", "360", "96", "216", "256", "196", "110"];
            let tds = document.querySelectorAll(".pallet-table td");
            for (let i = 0; i < 7; i++)
                tds[2 * i + 1].innerText = palletTotals[i];
        }

        function setRules(random)
        {
            let edgework = ["the number of batteries", "the number of ports", "the number of port plates", "the number of battery holders", "the number of lit indicators", "the number of unlit indicators", "the number of indicators"];
            let palletTotals = Array(7);
            for (let i = 0; i < palletTotals.length; i++)
                palletTotals[i] = random.next(76, 501);
            let tds = document.querySelectorAll(".pallet-table td");
            for (let i = 0; i < 7; i++)
                tds[2 * i + 1].innerText = palletTotals[i];
            random.shuffleFisherYates(edgework);
            document.getElementById("edgework1").innerText = edgework[0];
            document.getElementById("edgework2").innerText = edgework[1];
            document.getElementById("edgework3").innerText = edgework[2];
        }
    </script>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Order Picking</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Order Picking.svg" class="diagram">
                <h2>On the Subject of Order Picking</h2>
                <p class="flavour-text">Let’s hope you get Tescos their Tropicana.</p>
                <div style='float: right; clear: right; margin-left: .5cm'>
                    <h3>Table 1</h3>
                    <table class="pallet-table" style="text-align:center;">
                        <tr><th>Pallet</th><th>Total product</th></tr>
                        <tr><td>CHEP</td><td>231</td></tr>
                        <tr><td>SIPPL</td><td>360</td></tr>
                        <tr><td>SLPR</td><td>96</td></tr>
                        <tr><td>EWHITE</td><td>216</td></tr>
                        <tr><td>ECHEP</td><td>256</td></tr>
                        <tr><td>ESIPPL</td><td>196</td></tr>
                        <tr><td>ESLPR</td><td>110</td></tr>
                    </table>
                </div>
                <ul>
                    <li>You are presented with a screen, a keypad, and 3 LEDs.</li>
                    <li>The LEDs show how many orders have been completed.</li>
                    <li>To solve the module, you must complete between 1 and 3 orders, then cancel other orders.</li>
                    <li>Upon any strike, you must wait 5 seconds before being able to input again.</li>
                    <li>The number of orders needed to complete is the same as (<span class="rule" id="edgework1">the number of batteries</span>) % 3 + 1.</li>
                    <li>The function buttons are randomised between three functions: confirm, cancel and backspace.</li>
                    <li>To find the backspace button, calculate (the sum of the serial number characters) % 3 + 1 (where A=1, B=2, ..., Z=26).</li>
                    <li>To find the confirm button, calculate (<span class="rule" id="edgework2">the number of ports</span> × <span class="rule" id="edgework3">the number of port plates</span>) % 3 + 1.
                        If the number is the same as what was calculated for backspace, use the next button (with wrapping around).</li>
                    <li>The cancel button is the button left over.</li>
                    <li>Make sure to take note of the order ID.</li>
                    <li>Press confirm to proceed to the next screen.</li>
                    <li>To find the total amount of product on the pallet, you must look at Table 1.</li>
                    <li>Proceed to the next screen.</li>
                    <li>To find how much product you need to pick, you must add the order ID and the product ID together % 400.
                        Then, if there is at least one lit indicator, subtract 75 until the amount is less than or equal to the total amount of product.
                        Otherwise, subtract 50 until the amount is less than or equal to the total amount of product.</li>
                    <li>Press confirm to proceed to the next screen.</li>
                    <li>Then calculate the amount of product remaining (total amount − amount needed).</li>
                    <li>Enter the amount of product remaining and press enter to complete the order.</li>
                </ul>
            </div>
            <div class="page-footer relative-footer">Page 1 of 1</div>
        </div>
    </div>
</body>
</html>