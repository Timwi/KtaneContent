<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>奥行きペグ — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel="stylesheet" type="text/css" href="css/Modules/Perspective Pegs.css">
    <script src="js/ktane-utils.js"></script>
</head>

<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">奥行きペグ</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Perspective Pegs.svg" class="diagram">
                <h2>モジュール詳細：奥行きペグ</h2>
                <p class="flavour-text">奥が深いモジュールだ</p>
                <h3>ステップ1：色キー</h3>
                <ul>
                    <li>シリアルナンバーの最初の2つの英字のアルファベットでの位置の差を計算する。</li>
                    <li>差は常に正である。</li>
                    <li>シリアルナンバーに4つ以上の英字が存在するならば、3つ目と4つ目の英字の差を加える。</li>
                    <li>この数字を利用して<em>色キー</em>のテーブルを参照する。</li>
                </ul>
                <h3>シークエンスの変更</h3>
                <ul>
                    <li>ステップ1の結果の色の辺が3つ以上であるペグを探す。このペグから時計回りに一番外側の辺の色を読み、長さが5のシークエンスを作成する。これが最初の「現在のシークエンス」である。</li>
                    <li>利用する<em>シークエンスの変更</em>テーブルの列を決定する。</li>
                    <li>
                        それぞれの段について：<ul>
                            <li>変更前シークエンスが現在のシークエンスに含まれるならば、それが最初に出現する箇所を変更後シークエンスに置き換える。</li>
                            <li>そうでない場合、変更前シークエンスの逆順が現在のシークエンスに含まれるならば、それが最後に出現する箇所を変更後シークエンスの逆順に置き換える。</li>
                        </ul>
                    </li>
                    <li>最後に、現在のシークエンスの最初の3つの色をキーシークエンスとする。</li>
                </ul>
                <h3>キーシークエンス</h3>
                <ul>
                    <li>ペグの一つのみが近くになるようにモジュールを傾けると、5つの面が一列にこちらを向く。これがこの視点における候補シークエンスである。</li>
                    <li>キーシークエンスは5つの候補シークエンスの中にちょうど一回のみ出現する。これは、正順・逆順のどちらで出現する場合もある。</li>
                    <li>キーシークエンスを含む候補シークエンスを特定し、キーシークエンスを構成する3つのペグをキーシークエンスと同じ順に押す。</li>
                    <li>キーシークエンスの正順と逆順が一致する場合、3つのペグを押す順は右から左でも左から右でも良い。</li>
                </ul>
            </div>
            <div class="page-footer relative-footer">ページ 1/2</div>
        </div>
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">奥行きペグ</span>
            </div>
            <div class="page-content">
                <h4>テーブル1.1 色キー</h4>
                <p>アルファベットでの位置の差は常に正であると考える。</p>
                <p>数字の一の位を利用してテーブルを参照する。</p>
                <div class="hstack left gap1 top">
                    <table>
                        <colgroup><col class="number"><col class="number"><col class="color"></colgroup>
                        <tr><td>0</td><td>3</td><td class="color">赤</td></tr>
                        <tr><td>4</td><td>9</td><td class="color">黄</td></tr>
                        <tr><td>1</td><td>7</td><td class="color">緑</td></tr>
                    </table>
                    <table>
                        <colgroup><col class="number"><col class="number"><col class="color"></colgroup>
                        <tr><td>5</td><td>8</td><td class="color">青</td></tr>
                        <tr><td>2</td><td>6</td><td class="color">紫</td></tr>
                    </table>
                </div>
                <h4>テーブル1.2 シークエンスの変更</h4>
                <p>R – 赤、Y – 黄、G – 緑、B – 青、P – 紫</p>
                <p>バッテリーの個数で利用する列を決定する。</p>
                <p>変更は上から順に適用する。</p>
                <div class="hstack full gap0 wrap">
                    <table>
                        <colgroup span="2" class="sequence"></colgroup>
                        <tr><th colspan="2">バッテリー1 – 2個</th></tr>
                        <tr><td>変更前</td><td>変更後</td></tr>
                        <tr><td>R&nbsp;Y&nbsp;Y</td><td>B&nbsp;P&nbsp;Y</td></tr>
                        <tr><td>Y&nbsp;P&nbsp;G</td><td>P&nbsp;B&nbsp;R</td></tr>
                        <tr><td>R&nbsp;G&nbsp;P</td><td>B&nbsp;G&nbsp;R</td></tr>
                        <tr><td>Y&nbsp;B&nbsp;G</td><td>B&nbsp;Y&nbsp;Y</td></tr>
                        <tr><td>P&nbsp;P&nbsp;R</td><td>R&nbsp;Y&nbsp;P</td></tr>
                        <tr><td>B&nbsp;G&nbsp;B</td><td>P&nbsp;Y&nbsp;G</td></tr>
                        <tr><td>Y&nbsp;G&nbsp;B</td><td>G&nbsp;P&nbsp;Y</td></tr>
                        <tr><td>P&nbsp;G&nbsp;G</td><td>G&nbsp;Y&nbsp;R</td></tr>
                    </table>
                    <table>
                        <colgroup span="2" class="sequence"></colgroup>
                        <tr><th colspan="2">バッテリー3 – 4個</th></tr>
                        <tr><td>変更前</td><td>変更後</td></tr>
                        <tr><td>B&nbsp;P&nbsp;B</td><td>Y&nbsp;B&nbsp;G</td></tr>
                        <tr><td>Y&nbsp;Y&nbsp;P</td><td>B&nbsp;R&nbsp;P</td></tr>
                        <tr><td>G&nbsp;R&nbsp;B</td><td>Y&nbsp;P&nbsp;B</td></tr>
                        <tr><td>R&nbsp;P&nbsp;Y</td><td>G&nbsp;B&nbsp;G</td></tr>
                        <tr><td>Y&nbsp;G&nbsp;G</td><td>P&nbsp;B&nbsp;R</td></tr>
                        <tr><td>G&nbsp;P&nbsp;B</td><td>Y&nbsp;G&nbsp;Y</td></tr>
                        <tr><td>P&nbsp;R&nbsp;P</td><td>B&nbsp;B&nbsp;G</td></tr>
                        <tr><td>R&nbsp;Y&nbsp;R</td><td>R&nbsp;P&nbsp;B</td></tr>
                    </table>
                    <table>
                        <colgroup span="2" class="sequence"></colgroup>
                        <tr><th colspan="2">バッテリー0, 5+個</th></tr>
                        <tr><td>変更前</td><td>変更後</td></tr>
                        <tr><td>P&nbsp;Y&nbsp;B</td><td>R&nbsp;G&nbsp;B</td></tr>
                        <tr><td>Y&nbsp;R&nbsp;P</td><td>R&nbsp;Y&nbsp;R</td></tr>
                        <tr><td>G&nbsp;Y&nbsp;R</td><td>G&nbsp;B&nbsp;P</td></tr>
                        <tr><td>B&nbsp;Y&nbsp;G</td><td>P&nbsp;G&nbsp;R</td></tr>
                        <tr><td>R&nbsp;P&nbsp;Y</td><td>G&nbsp;Y&nbsp;B</td></tr>
                        <tr><td>P&nbsp;P&nbsp;G</td><td>P&nbsp;B&nbsp;R</td></tr>
                        <tr><td>R&nbsp;Y&nbsp;Y</td><td>B&nbsp;B&nbsp;R</td></tr>
                        <tr><td>Y&nbsp;G&nbsp;P</td><td>P&nbsp;Y&nbsp;Y</td></tr>
                    </table>
                </div>
            </div>
            <div class="page-footer relative-footer">ページ 2/2</div>
        </div>
    </div>
</body>
</html>