<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Multitracking — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.7.0.min.js"></script>
    <script src="js/Utilities/svg-utils.js"></script>
    <script>
    $(function() {
        let grid = $(".gridholder");
        let svg = MakeSvgTag(600,800).appendTo(grid);

        let rows = 6;
        let cols = 6;
        let h = 104;
        let w = 79;
        for (let r = 0; r < rows; r++) {
            for (let c = 0; c < cols; c++) {
                let cell = MakeSvgElem("rect", {
                    class: "highlightable", x:(63+c*w), y:(111+r*h),
                    width:w, height:h, fill:"transparent"
                });
                svg.append(cell);
            }
        }
    });
    </script>
    <style>
        .gridholder {
            position: relative;
            width: 100%;
        }
        .gridholder img, .gridholder svg {
            position: absolute;
            width: 100%;
        }

        .dark .chart {
            filter: invert(80%);
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Multitracking</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Multitracking.svg" class="diagram">
                <h2>On the Subject of Multitracking</h2>
                <p class="flavour-text">All this for a print statement?</p>
                <ul>
                    <li>You are out camping with your troop and have been tasked with finding out which animal broke into the neighboring troop’s cooler and ate all the food. Along the way, you find tracks of other animals which, when put together, could reveal the mystery animal.</li>
                    <li>The seven tracks of the other animals will form the corners of two rectangles in the grid of possible tracks, with one corner missing. The track at this corner is the mystery animal.</li>
                    <li>The module contains 9 boxes, each one being initially closed except for the bottom left box. Pressing this will reveal the middle left box, pressing that will reveal the top left box, continuing in a snaking pattern. However, invalid times are generated with each track, and pressing a box during one of these times will cause a strike.</li>
                    <li>The middle right box is used to submit the tracks of the mystery animal. If an incorrect animal is submitted, the module will strike.</li>
                </ul>
                <p>For each discovered track, do the following to find N:</p>
                <ul>
                    <li>Take the row of the track in the chart times the first digit of the serial number.</li>
                    <li>Take the column of the track in the chart times the last digit of the serial number.</li>
                    <li>Take the number of letters in the name of the animal.</li>
                    <li>Sum these three values and modulo 10. If no previous tracks share this N, stop here. Otherwise, add 1 (wrapping around from 9 to 0 if necessary) until a unique N is achieved.</li>
                </ul>
                <p>Pressing the most recently found track’s box is only valid if the last digit of the timer does not match any N corresponding to a currently uncovered box.</p>
                <p>The middle right box will display a random track. To submit the currently displayed track, press the box during any valid time as per the currently found tracks. Otherwise, the box can be pressed during invalid times to change its display:</p>
                <ul>
                    <li>Pressing the box when the last digit of the timer is greater than 4 will shift its position in the grid one to the right.</li>
                    <li>Pressing the box when the last digit of the timer is less than 5 will shift its position in the grid one below.</li>
                </ul>
            </div>
            <div class="page-footer relative-footer">Page 1 of 2</div>
        </div>
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Multitracking</span>
            </div>
            <div class="page-content">
                <div class="gridholder">
                    <img class='chart' src='img/Multitracking/chart.png'>
                </div>
            </div>
            <div class="page-footer relative-footer">Page 2 of 2</div>
        </div>
    </div>
</body>
</html>