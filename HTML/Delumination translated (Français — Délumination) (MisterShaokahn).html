<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Délumination — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.7.0.min.js"></script>
    <script src="js/ruleseed.js"></script>
    <style>
        .dark table, table {
            margin: 1em auto;
            border: none; 
            text-align: center;
        }
        
        .dark .hide, .hide {
            border-right: hidden;
        }
        
        .hide-top {
            border-top: hidden;
        }

        tr {
            height: 38px;
        }
        
        .digit {
            width: 25%;
        }
    </style>
    <script>
        function setDefaultRules(rnd){
            var mainTable = document.getElementById("mainTable").children[0];
            var colors = [ "R N V B Bl J", "B J N V R Bl", "V R N J B Bl", "Bl B R V J N", "B R J Bl N V", "N Bl V J B R", "Bl R N V J B", "V Bl J N R B", "J V R N Bl B", "Bl N B V R J", "V N J B R Bl", "R J B N V Bl", "Bl J N V B R", "J B V R Bl N", "B N J R V Bl", "N J Bl B R V", "N B R V J Bl", "R N Bl J B V", "J Bl R B N V", "V R Bl B N J" ];
            for(var i = 2; i < 7; i++){
                for(var j = 1; j < 5; j++){
                    mainTable.children[i].children[j].innerHTML = "<b>"+colors[(i-2)*4 + (j-1)]+"</b>";
                }
            }
            
            var orderExtended= ["JAUNE", "NOIR", "VERT", "BLEU", "BLANC"];
            
            document.getElementsByClassName("color")[0].innerHTML = orderExtended[0];
            for(var i = 1; i < 5; i++){
                document.getElementsByClassName("color")[i].innerHTML = orderExtended[i-1];
            }
        }
        function setRules(rnd){
            var mainTable = document.getElementById("mainTable").children[0];
            var order = ["R", "B", "V", "Bl", "N", "J"];
            var names = ["ROUGE", "BLEU", "VERT", "BLANC", "NOIR", "JAUNE"];
            var orderExtended = [5, 4, 2, 1, 3];
            rnd.shuffleFisherYates(orderExtended);
            
            for(var i = 2; i < 7; i++){
                for(var j = 1; j < 5; j++){
                   rnd.shuffleFisherYates(order);
                   mainTable.children[i].children[j].innerHTML = "<b>"+order.join(" ")+"</b>";
                }
            }
            
            document.getElementsByClassName("color")[0].innerHTML = names[orderExtended[0]];
            for(var i = 1; i < 5; i++){
                document.getElementsByClassName("color")[i].innerHTML = names[orderExtended[i-1]];
            }
        }
    </script>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Délumination</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Delumination.svg" class="diagram">
                <h2>À propos de la Délumination</h2>
                <p class="flavour-text">Quoi qu’il en soit, c’est l’extinction des feux.</p>
                <ul>
                    <li>Toutes les DEL doivent être allumées dans le bon ordre,
                        puis éteintes dans le bon ordre.</li>
                    <li>Les interrupteurs allument/éteignent les DEL situées directement au-dessus d’eux.</li>
                    <li>Enclencher les interrupteurs en vous basant uniquement sur les couleurs et les positions des interrupteurs, sans tenir compte des couleurs des DEL.
                        Éteindre les DEL en vous basant uniquement sur les couleurs et les positions des DEL,
                        sans tenir compte des couleurs des interrupteurs.</li>
                    <li>Utiliser le tableau ci-dessous pour déterminer l’ordre dans lequel les interrupteurs doivent être enclenchés.</li>
                    <li>Si le composant <b>ROUGE</b> se trouve à côté d’un composant <b class="color">JAUNE</b>,
                        utiliser alors la position du composant <b class="color">JAUNE</b> dans le tableau ci-dessous.</li>
                    <li>Si le composant <b>ROUGE</b> se trouve à côté d’un composant <b class="color">NOIR</b>,
                        utiliser alors le chiffre le plus bas du numéro de série dans le tableau ci-dessous.</li>
                    <li>S’il n’y a pas de composant <b class="color">VERT</b>, ordonner les composants de gauche à droite,
                        sinon, les ordonner de droite à gauche.</li>
                    <li>S’il n’y a pas de composant <b class="color">BLEU</b> toujours enclencher l’interrupteur ROUGE en dernier, et toujours éteindre la DEL ROUGE en premier.</li>
                    <li>Si le numéro de série n’a pas de voyelle, inverser l’ordre ci-dessous.</li>
                    <li>Une DEL qui reste éteinte lorsqu’elle est enclenchée est considérée comme étant <b>NOIRE</b>.
                        Une DEL <b>NOIRE</b> est considérée comme éteinte&nbsp;; ne plus enclencher son interrupteur.</li>
                </ul>
                <h3>Ordre des interrupteurs</h3>
                Enclencher les interrupteurs et éteindre les DEL dans l’ordre indiqué.<br>
                B = BLEU, V = VERT, N = NOIR, R = ROUGE, Bl = BLANC, J = JAUNE.
                <table id="mainTable">
                    <tr>
                        <td rowspan=2 class="digit">Chiffre le plus élevé du numéro de série</td>
                        <td colspan=4>Position du composant ROUGE</td>
                    </tr>
                    <tr class="hide-top">
                        <td class="hide">1er</td>
                        <td class="hide">2e</td>
                        <td class="hide">3e</td>
                        <td>4e</td>
                    </tr>
                    <tr>
                        <td>0-3</td>
                        <td><b></b></td>
                        <td><b></b></td>
                        <td><b></b></td>
                        <td><b></b></td>
                    </tr>
                    <tr>
                        <td>4-6</td>
                        <td><b></b></td>
                        <td><b></b></td>
                        <td><b></b></td>
                        <td><b></b></td>
                    </tr>
                    <tr>
                        <td>7  </td>
                        <td><b></b></td>
                        <td><b></b></td>
                        <td><b></b></td>
                        <td><b></b></td>
                    </tr>
                    <tr>
                        <td>8  </td>
                        <td><b></b></td>
                        <td><b></b></td>
                        <td><b></b></td>
                        <td><b></b></td>
                    </tr>
                    <tr>
                        <td>9  </td>
                        <td><b></b></td>
                        <td><b></b></td>
                        <td><b></b></td>
                        <td><b></b></td>
                    </tr>
                </table>
            </div>
            <div class="page-footer relative-footer">Page 1 sur 1</div>
        </div>
    </div>
</body>
</html>