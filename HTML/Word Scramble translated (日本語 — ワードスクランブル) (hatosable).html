<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>ワードスクランブル — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src='js/ruleseed.js'></script>
    <script>
        var _patterns = [
            "0/0/1;5/0/1;5/120/1", "0/0/2;5/0/1;5/120/1", "0/0/3;5/0/1;5/120/1", "0/0/4;5/0/1;5/120/1", "0/0/1;5/0/2;5/120/1", "0/0/2;5/0/2;5/120/1", "0/0/3;5/0/2;5/120/1", "0/0/4;5/0/2;5/120/1", "0/0/1;5/0/3;5/120/1", "0/0/2;5/0/3;5/120/1", "0/0/3;5/0/3;5/120/1", "0/0/4;5/0/3;5/120/1", "0/0/1;5/0/1;5/120/2", "0/0/2;5/0/1;5/120/2", "0/0/3;5/0/1;5/120/2", "0/0/4;5/0/1;5/120/2", "0/0/1;5/0/2;5/120/2", "0/0/2;5/0/2;5/120/2", "0/0/3;5/0/2;5/120/2", "0/0/4;5/0/2;5/120/2", "0/0/1;5/0/3;5/120/2", "0/0/2;5/0/3;5/120/2", "0/0/3;5/0/3;5/120/2", "0/0/4;5/0/3;5/120/2", "0/0/1;5/0/1;5/120/3", "0/0/2;5/0/1;5/120/3", "0/0/3;5/0/1;5/120/3", "0/0/4;5/0/1;5/120/3", "0/0/1;5/0/2;5/120/3", "0/0/2;5/0/2;5/120/3", "0/0/3;5/0/2;5/120/3", "0/0/4;5/0/2;5/120/3", "0/0/1;5/0/3;5/120/3", "0/0/2;5/0/3;5/120/3", "0/0/3;5/0/3;5/120/3", "0/0/4;5/0/3;5/120/3", "5/0/1;5/120/1;5/240/1", "0/0/1;5/0/1;5/120/1;5/240/1", "0/0/2;5/0/1;5/120/1;5/240/1", "0/0/3;5/0/1;5/120/1;5/240/1", "0/0/4;5/0/1;5/120/1;5/240/1", "5/0/2;5/120/1;5/240/1", "0/0/1;5/0/2;5/120/1;5/240/1", "0/0/2;5/0/2;5/120/1;5/240/1", "0/0/3;5/0/2;5/120/1;5/240/1", "0/0/4;5/0/2;5/120/1;5/240/1", "5/0/3;5/120/1;5/240/1", "0/0/1;5/0/3;5/120/1;5/240/1", "0/0/2;5/0/3;5/120/1;5/240/1", "0/0/3;5/0/3;5/120/1;5/240/1", "0/0/4;5/0/3;5/120/1;5/240/1", "5/0/2;5/120/2;5/240/1", "0/0/1;5/0/2;5/120/2;5/240/1", "0/0/2;5/0/2;5/120/2;5/240/1", "0/0/3;5/0/2;5/120/2;5/240/1", "0/0/4;5/0/2;5/120/2;5/240/1", "5/0/3;5/120/2;5/240/1", "0/0/1;5/0/3;5/120/2;5/240/1", "0/0/2;5/0/3;5/120/2;5/240/1", "0/0/3;5/0/3;5/120/2;5/240/1", "0/0/4;5/0/3;5/120/2;5/240/1", "5/0/2;5/120/3;5/240/1", "0/0/1;5/0/2;5/120/3;5/240/1", "0/0/2;5/0/2;5/120/3;5/240/1", "0/0/3;5/0/2;5/120/3;5/240/1", "0/0/4;5/0/2;5/120/3;5/240/1", "5/0/3;5/120/3;5/240/1", "0/0/1;5/0/3;5/120/3;5/240/1", "0/0/2;5/0/3;5/120/3;5/240/1", "0/0/3;5/0/3;5/120/3;5/240/1", "0/0/4;5/0/3;5/120/3;5/240/1", "5/0/2;5/120/2;5/240/2", "0/0/1;5/0/2;5/120/2;5/240/2", "0/0/2;5/0/2;5/120/2;5/240/2", "0/0/3;5/0/2;5/120/2;5/240/2", "0/0/4;5/0/2;5/120/2;5/240/2", "5/0/3;5/120/2;5/240/2", "0/0/1;5/0/3;5/120/2;5/240/2", "0/0/2;5/0/3;5/120/2;5/240/2", "0/0/3;5/0/3;5/120/2;5/240/2", "0/0/4;5/0/3;5/120/2;5/240/2", "5/0/3;5/120/3;5/240/2", "0/0/1;5/0/3;5/120/3;5/240/2", "0/0/2;5/0/3;5/120/3;5/240/2", "0/0/3;5/0/3;5/120/3;5/240/2", "0/0/4;5/0/3;5/120/3;5/240/2", "5/0/3;5/120/3;5/240/3", "0/0/1;5/0/3;5/120/3;5/240/3", "0/0/2;5/0/3;5/120/3;5/240/3", "0/0/3;5/0/3;5/120/3;5/240/3", "0/0/4;5/0/3;5/120/3;5/240/3", "0/0/1;5/0/1;5/90/1", "0/0/2;5/0/1;5/90/1", "0/0/3;5/0/1;5/90/1", "0/0/4;5/0/1;5/90/1", "0/0/1;5/0/2;5/90/1", "0/0/2;5/0/2;5/90/1", "0/0/3;5/0/2;5/90/1", "0/0/4;5/0/2;5/90/1", "0/0/1;5/0/3;5/90/1", "0/0/2;5/0/3;5/90/1", "0/0/3;5/0/3;5/90/1", "0/0/4;5/0/3;5/90/1", "0/0/1;5/0/2;5/90/2", "0/0/2;5/0/2;5/90/2", "0/0/3;5/0/2;5/90/2", "0/0/4;5/0/2;5/90/2", "0/0/1;5/0/3;5/90/2", "0/0/2;5/0/3;5/90/2", "0/0/3;5/0/3;5/90/2", "0/0/4;5/0/3;5/90/2", "0/0/1;5/0/3;5/90/3", "0/0/2;5/0/3;5/90/3", "0/0/3;5/0/3;5/90/3", "0/0/4;5/0/3;5/90/3"
        ]
            .map(str => str.split(';')).map(arr => arr.map(str => str.split('/').map(n => parseInt(n))).map(arr => ({ d: arr[0], a: arr[1], r: arr[2] })));

        function setDefaultRules(rnd) { setRules(rnd); }
        function setRules(rnd)
        {
            function sin(x) { return Math.sin(x * Math.PI / 180); }
            function cos(x) { return Math.cos(x * Math.PI / 180); }
            function min(arr, fnc) { return arr.map(fnc).reduce((p, n) => p < n ? p : n, fnc(arr[0])); }
            function max(arr, fnc) { return arr.map(fnc).reduce((p, n) => p > n ? p : n, fnc(arr[0])); }
            var skip = rnd.next(0, 100);
            for (var i = 0; i < skip; i++)
                rnd.nextDouble();
            var patterns = rnd.shuffleFisherYates(_patterns.slice(0));
            var svgs = [];
            for (var i = 0; i < 101; i++)
            {
                var rotation = 360 * rnd.nextDouble();
                var pattern = patterns[i].map(c => ({ x: c.d * cos(c.a + rotation), y: c.d * sin(c.a + rotation), r: c.r }));
                var mx = (min(pattern, c => c.x - c.r) + max(pattern, c => c.x + c.r)) / 2;
                var my = (min(pattern, c => c.y - c.r) + max(pattern, c => c.y + c.r)) / 2;
                svgs.push(`<svg xmlns='http://www.w3.org/2000/svg' viewBox='${mx - 8} ${my - 8} 16 16'>${pattern.map(c => `<circle cx='${c.x}' cy='${c.y}' r='${c.r}' />`).join('')}</svg>`);
            }
            var list = document.getElementsByClassName('pattern');
            for (var i = 0; i < list.length; i++)
                list[i].innerHTML = svgs[i];
        }
    </script>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">集中</span>
            </div>
            <div class="page-content">
                <img class="diagram" src="img/Component/Word Scramble.svg">
                <h2>モジュール詳細：ワードスクランブル</h2>

                <p class="flavour-text">この文字は混乱を招く。間違った順番で並んでいるのではないか。</p>

                <p>ディスプレーにごちゃまぜになった単語が表示される。単語を解読し、それを入力することでモジュールが解除される。</p>
            </div>
            <div class="page-footer relative-footer">ページ 1/1</div>
    </div>
    </div>>
</body>
</html>