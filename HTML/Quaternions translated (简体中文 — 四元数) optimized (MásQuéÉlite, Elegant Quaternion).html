<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>四元数 — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        table {
            margin: 1em auto;
            border: 3px solid;
        }

        .red { background-color: tomato; color: black; }
        .blue { background-color: deepskyblue; color: black;  }
        .green { background-color: chartreuse; color: black; }
        .yellow { background-color: gold; color: black;  }
        .precedes { margin-bottom: 0; }
        .proceeds { margin-top: 0; }
        .code-center, tr, li > p { text-align: center; }

        #module-read {
            text-align: center;
            font-size: 20px;
        }

        .button {
            border: 2px solid black;
            border-radius: 5px;
            padding: 1px 3px;
            display: inline-block;
            margin-top: 3px;
        }
        .number { border-radius: 5px; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">四元数</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Quaternions.svg" class="diagram">
                <h2>关于（不太是）四元数模块</h2>
                <p class="flavour-text">*往里头写点数学用语* <strong>嘭！</strong>模块变得不可能了。</p>

                <p>如果模块上写有
                    <code>i<sup>2</sup>&nbsp;=&nbsp;j<sup>2</sup>&nbsp;=&nbsp;k<sup>2</sup>&nbsp;=&nbsp;ijk&nbsp;=&nbsp;-1</code>
                ，这就是四元数模块。
                </p>

                <p class="precedes">创建有4个数字的列表。里面的数字会被称为[a, b, c, d]。</p>
                <p class="proceeds">列表里面的每个数字都有一个编号和颜色。</p>
                <br>
                <p>用以下方法填充列表：</p>
                <ul>
                    <li class="precedes">列表中的每个位置会以此顺序拥有右侧的公式的符号的颜色：<p class="proceeds precedes">[-1,&nbsp;i,&nbsp;j,&nbsp;k]</p></li>
                    <li>复制列表。</li>
                    <li>观察模块的按钮。对每一对颜色的数字，用对里最大的数字填充列表里的相应颜色的位置。</li>
                    <li>对第二个列表用对里最小的数字也这样做。<br>
                    <strong>提示：</strong>0要看作10。</li>
                </ul>
                <br>
                <p>现在，如果满足以下的条件的话，同色的数字要互换：</p>
                <table>
                    <tr><td class="red">i或j是红色的。</td></tr>
                    <tr><td class="green">炸弹至少有一个PS/2端口。</td></tr>
                    <tr><td class="blue">序列号里有BLUE这一单词里的任何字母。</td></tr>
                    <tr><td class="yellow">两个白色键的和是质数。</td></tr>
                </table>
                <br>
                <p>现在，对列表做最后的调整：</p>
                <ul>
                    <li>用10代替0。</li>
                    <li>如果列表中有任何数字也在序列号中（一或多次），将它乘以-1。<br><em style="font-size:13px;">如果序列号中有数字0，将列表中的10（如果含有10）乘以-1。</em></li>
                    <li>如果炸弹上<em><strong>没有亮起的</strong></em>指示灯，把<em>第一个列表中的</em> <em>b</em>，<em>c</em> 和<em>d</em>乘以-1。<br>如果炸弹上<em><strong>没有熄灭的</strong></em>指示灯，把<em>第二个列表中的 b，c </em>和<em>d</em>乘以-1。</li>
                    <li>如果炸弹上的<strong>电池</strong>数量是<strong>偶数</strong>，把<strong>两个列表互换</strong>。</li>
                </ul>
            </div>
            <div class="page-footer relative-footer">第1页，共2页</div>
        </div>
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">四元数</span>
            </div>
            <div class="page-content squish">
                <p class="precedes">最后一步：把两个列表的数字分别标记为：</p>
                <p class="code-center proceeds"><code>[a<sub>1</sub>, b<sub>1</sub>, c<sub>1</sub>, d<sub>1</sub>] and
                                                      [a<sub>2</sub>, b<sub>2</sub>, c<sub>2</sub>, d<sub>2</sub>]</code></p>
                <br>
                <p>观察SUBMIT按钮的颜色，找到那个颜色在任何列表中的位置，并使用与其位置对应的公式计算答案并发送。</p>
                <p class="code-center"> <code>
                    <span class="precedes">
                        1 &rArr; (a<sub>1</sub>*a<sub>2</sub> - b<sub>1</sub>*b<sub>2</sub> - c<sub>1</sub>*c<sub>2</sub> - d<sub>1</sub>*d<sub>2</sub>)</span><br>
                    <span class="precedes proceeds">
                        2 &rArr; (a<sub>1</sub>*b<sub>2</sub> + b<sub>1</sub>*a<sub>2</sub> + c<sub>1</sub>*d<sub>2</sub> - d<sub>1</sub>*c<sub>2</sub>)</span><br>
                    <span class="precedes proceeds">
                        3 &rArr; (a<sub>1</sub>*c<sub>2</sub> - b<sub>1</sub>*d<sub>2</sub> + c<sub>1</sub>*a<sub>2</sub> + d<sub>1</sub>*b<sub>2</sub>)</span><br>
                    <span class="proceeds proceeds">
                        4 &rArr; (a<sub>1</sub>*d<sub>2</sub> + b<sub>1</sub>*c<sub>2</sub> - c<sub>1</sub>*b<sub>2</sub> + d<sub>1</sub>*a<sub>2</sub>)</span><br>
                    <span class="proceeds">
                    白色 &rArr; (a<sub>1</sub><sup>2</sup> + b<sub>1</sub><sup>2</sup> + c<sub>1</sub><sup>2</sup> + d<sub>1</sub><sup>2</sup>) *
                                 (a<sub>2</sub><sup>2</sup> + b<sub>2</sub><sup>2</sup> + c<sub>2</sub><sup>2</sup> + d<sub>2</sub><sup>2</sup>)</span>
                </code> </p>
                <h3>举例：</h3>
                    <p>模块上有以下键盘：</p>

                    <!-- Formula -->
                    <div id="module-read" style="margin-bottom:1.5em;">
                        <span class="yellow number">i<sup class="yellow number"><strong>2</strong></sup></span> =
                        <span class="green number">j<sup class="green number"><strong>2</strong></sup></span> =
                        <span class="red number">k<sup class="red number"><strong>2</strong></sup></span> =
                            <span class="yellow number">i</span>
                            <span class="green number">j</span>
                            <span class="red number">k</span> =
                        <span class="blue number">-1</span>

                    <!-- Keypad -->
                        <br>
                        <span> <!-- Top row -->
                               <span class="blue button">7</span>
                               <span class="blue button">8</span>
                               <span class="yellow button">9</span>
                        </span>
                        <br>
                        <span> <!-- Middle row -->
                            <span class="red button">4</span>
                            <span class="yellow button">5</span>
                            <span class="white button">6</span>
                        </span>
                        <br>
                        <span> <!-- Bottom row -->
                            <span class="green button">1</span>
                            <span class="red button">2</span>
                            <span class="white button">3</span>
                        </span>
                        <br>
                        <span> <span class="green button">0</span> </span>
                    </div>

                    <p class="precedes">列表的颜色应该是
                    <code>
                        [
                            <span class="blue number">&nbsp;&nbsp;</span>,
                            <span class="yellow number">&nbsp;&nbsp;</span>,
                            <span class="green number">&nbsp;&nbsp;</span>,
                            <span class="red number">&nbsp;&nbsp;</span>
                        ]
                    </code></p>
                    <p class="precedes proceeds">第一个列表应该是
                    <code>
                        [
                            <span>8</span>,
                            <span>9</span>,
                            <span>0</span>,
                            <span>4</span>
                        ]
                    </code></p>
                    <p class="proceeds">第二个列表应该是
                    <code>
                        [
                            <span>7</span>,
                            <span>5</span>,
                            <span>1</span>,
                            <span>2</span>
                        ]
                    </code></p>

                <p class="precedes">例中的序列号是136AS8，没有熄灭的指示灯，有PS/2端口，SUBMIT按钮是蓝色，所以列表应该是：</p>

                <p class="code-center proceeds"> <code>
                    [
                        <span class="blue number">-8</span>,
                        <span class="yellow number">9</span>,
                        <span class="green number">-1</span>,
                        <span class="red number">4</span>
                    ]
                    and
                    [
                        <span class="blue number">7</span>,
                        <span class="yellow number">-5</span>,
                        <span class="green number">-10</span>,
                        <span class="red number">-2</span>
                    ]
                </code> </p>

                <p class="precedes">采取的行动：<p>
                <ul class="proceeds">
                    <li>炸弹上有PS/2端口，绿色条件成立 &rArr; 绿色数字互相交换</li>
                    <li>“0” &rArr; “10”</li>
                    <li>序列号中有1和8 &rArr; 乘以-1</li>
                    <li>没有熄灭的指示灯 &rArr; 第二个列表中的b, c 和 d乘以-1</li>
                </ul>
                <p><em>SUBMIT按钮是蓝色，用第一个公式，答案是“-13”。</em></p>
            </div>
            <div class="page-footer relative-footer">第2页，共2页</div>
        </div>
    </div>
</body>
</html>