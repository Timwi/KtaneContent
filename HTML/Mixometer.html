<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Mixometer — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.7.0.min.js"></script>
    <script src="js/ruleseed.js"></script>
    <style>
        .dark table, table {
            margin: 1em auto;
            border: none;
        }
        
        tr td {
            padding-left: 12px;
            padding-right: 12px;
            text-align: center;
        }
        
        tr:nth-child(n+3) {
            font-size: 2rem;
        }
        
        .hide, .dark .hide {
            border: hidden;
        }
    </style>
    <script>
        function setDefaultRules(rnd){
            var mainTable = document.getElementById("main").children[0];
            var dialsRuleSeed1 = [
                [3, 7, 6, 4, 3, 2, 8, 1],
                [5, 9, 2, 1, 7, 4, 0, 3],
                [4, 1, 8, 0, 6, 3, 9, 2],
                [7, 3, 5, 8, 0, 9, 6, 4],
                [1, 0, 9, 6, 2, 5, 7, 8]
            ];
            
            for(var j = 0; j < 15; j++){
                mainTable.children[2].children[j].innerHTML = "<b>"+dialsRuleSeed1[(j/3) | 0][j%3]+"</b>";
                mainTable.children[4].children[j].innerHTML = "<b>"+dialsRuleSeed1[(j/3) | 0][6 - (j%3)]+"</b>";
                if (j%3 == 1) continue;
                mainTable.children[3].children[j].innerHTML = "<b>"+dialsRuleSeed1[(j/3) | 0][7 - (2 * (j%3))]+"</b>";
            }
            
        }
        function setRules(rnd){
            var mainTable = document.getElementById("main").children[0];
            var dialsTable = [[],[],[],[],[]];
            
            for(var x = 0; x < 5; x++){
                for(var y = 0; y < 8; y++){
                    dialsTable[x].push(rnd.next(0,10));
                }
            }
            
            for(var j = 0; j < 15; j++){
                mainTable.children[2].children[j].innerHTML = "<b>"+dialsTable[(j/3) | 0][j%3]+"</b>";
                mainTable.children[4].children[j].innerHTML = "<b>"+dialsTable[(j/3) | 0][6 - (j%3)]+"</b>";
                if (j%3 == 1) continue;
                mainTable.children[3].children[j].innerHTML = "<b>"+dialsTable[(j/3) | 0][7 - (2 * (j%3))]+"</b>";
            }
        }
    </script>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Mixometer</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Mixometer.svg" class="diagram">              
                <h2>On the Subject of Mixometer</h2>
                <p class="flavour-text">Important not to get things mixed up here. Good luck.</p>
                <ul>
                    <li>You must adjust the meter to the correct value,<br>
                        then press the <b>report</b> button.</li>
                    <li>The five buttons' functions and labels are randomized.
                        The functions are <b>report</b>, adjusting a single digit on the meter, 
                        two, three, and four digits. The first time the <b>report</b> button is pressed, a strike noise will sound, but no strike will register.<br>
                        Do not <b>report</b> again until the meter is correctly set. </li>
                    <li>The button that adjusts a single digit on the meter corresponds the 1st digit of the meter (even if it doesn't adjust that digit).
                        The same is true for two digits and the 2nd, three and the 3rd, and all four and the 4th.</li>
                    <li>Use the button's position below to find which value to turn it's corresponding digit to.
                        Use the direction of the arrow printed on the button to determine which of the 8 answers to turn the digit to.</li>
                    <li>Do that for all four digits, turn the dial to that number, then <b>report</b>.</li>
                </ul>
                <table id="main">
                    <tr class="hide">
                        <td colspan="15"><h2>Button Position</h2></td>
                    </tr>
                    <tr class="hide">
                        <td colspan="3">1st</td>
                        <td colspan="3">2nd</td>
                        <td colspan="3">3rd</td>
                        <td colspan="3">4th</td>
                        <td colspan="3">5th</td>
                    </tr>
                    <tr class="hide">
                        <td><b></b></td><td class="hide"><b></b></td><td><b></b></td>
                        <td><b></b></td><td class="hide"><b></b></td><td><b></b></td>
                        <td><b></b></td><td class="hide"><b></b></td><td><b></b></td>
                        <td><b></b></td><td class="hide"><b></b></td><td><b></b></td>
                        <td><b></b></td><td class="hide"><b></b></td><td><b></b></td>
                    </tr>
                    <tr class="hide">
                        <td><b></b></td><td class="hide"><b>•</b></td><td><b></b></td>
                        <td><b></b></td><td class="hide"><b>•</b></td><td><b></b></td>
                        <td><b></b></td><td class="hide"><b>•</b></td><td><b></b></td>
                        <td><b></b></td><td class="hide"><b>•</b></td><td><b></b></td>
                        <td><b></b></td><td class="hide"><b>•</b></td><td><b></b></td>
                    </tr>                                                    
                    <tr class="hide">                                        
                        <td><b></b></td><td class="hide"><b></b></td><td><b></b></td>
                        <td><b></b></td><td class="hide"><b></b></td><td><b></b></td>
                        <td><b></b></td><td class="hide"><b></b></td><td><b></b></td>
                        <td><b></b></td><td class="hide"><b></b></td><td><b></b></td>
                        <td><b></b></td><td class="hide"><b></b></td><td><b></b></td>
                    </tr>
                </table>
            </div>
            <div class="page-footer relative-footer">Page 1 of 1</div>
        </div>
    </div>
</body>
</html>