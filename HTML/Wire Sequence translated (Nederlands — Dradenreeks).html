<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Dradenreeks — Keep Talking and Nobody Explodes Module</title>
    <meta name="viewport" content="initial-scale=1">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel='stylesheet' type='text/css' href='css/font.css'>
    <script src='js/ktane-utils.js'></script>
    <script src='js/ruleseed.js'></script>
    <script>
        var NUM_PAGES = 4;
        var NUM_PER_PAGE = 3;
        var NUM_COLOURS = 3;
        var BLANK_PAGE_COUNT = 1;

        var NumWiresPerColour = NUM_PER_PAGE * (NUM_PAGES - BLANK_PAGE_COUNT);

        function setDefaultRules()
        {
            var array = this.PopulateEmptySolution();
            var array2 = this.PopulateEmptySolution();
            var array3 = this.PopulateEmptySolution();
            array[0].push(2);
            array[1].push(1);
            array[2].push(0);
            array[3].push(0);
            array[3].push(2);
            array[4].push(1);
            array[5].push(0);
            array[5].push(2);
            array[6].push(0);
            array[6].push(1);
            array[6].push(2);
            array[7].push(0);
            array[7].push(1);
            array[8].push(1);
            array2[0].push(1);
            array2[1].push(0);
            array2[1].push(2);
            array2[2].push(1);
            array2[3].push(0);
            array2[4].push(1);
            array2[5].push(1);
            array2[5].push(2);
            array2[6].push(2);
            array2[7].push(0);
            array2[7].push(2);
            array2[8].push(0);
            array3[0].push(0);
            array3[0].push(1);
            array3[0].push(2);
            array3[1].push(0);
            array3[1].push(2);
            array3[2].push(1);
            array3[3].push(0);
            array3[3].push(2);
            array3[4].push(1);
            array3[5].push(1);
            array3[5].push(2);
            array3[6].push(0);
            array3[6].push(1);
            array3[7].push(2);
            array3[8].push(2);
            setWireSequenceRules(array, array2, array3);
        }

        function setRules(rnd)
        {
            var array = PopulateSolution(rnd);
            var array2 = PopulateSolution(rnd);
            var array3 = PopulateSolution(rnd);
            setWireSequenceRules(array, array2, array3);
        }

        function setWireSequenceRules(a, a2, a3)
        {
            var tables = [["red-table", a], ["blue-table", a2], ["black-table", a3]];
            var names = ["A", "B", "C"];
            for (var i = 0; i < tables.length; i++)
            {
                var tds = document.querySelectorAll(`table.${tables[i][0]} td.second-col`);
                for (var j = 0; j < tds.length; j++)
                    tds[j].innerText = tables[i][1][j].length === 0 ? 'nooit' : tables[i][1][j].map(ix => names[ix]).map((n, ix) => ix === 0 ? n : ix === tables[i][1][j].length - 1 ? ' of ' + n : ', ' + n).join('');
            }
        }

        function PopulateSolution(rnd)
        {
            var result = [];
            for (var i = 0; i < NumWiresPerColour; i++)
            {
                var thisList = [];
                for (var j = 0; j < NUM_COLOURS; j++)
                {
                    if (rnd.nextDouble() > 0.55)
                        thisList.push(j);
                }
                result.push(thisList);
            }
            return result;
        }

        function PopulateEmptySolution()
        {
            var result = [];
            for (var i = 0; i < NumWiresPerColour; i++)
                result.push([]);
            return result;
        }
    </script>
</head>
<body>
    <div class="section">
        <div class="page wire-sequence">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes</span>
                <span class="page-header-section-title">Dradenreeks</span>
            </div>
            <div class="page-footer absolute-footer"></div>
            <div class="page-content">
                <img src="img/Component/Wire Sequence.svg" class="diagram" />
                <h2>Over dradenreeksen</h2>
                <p class="flavour-text">Het is moeilijk te zeggen hoe dit mechanisme werkt. Het is een indrukwekkende constructie, maar je zou toch denken dat er een makkelijkere manier moet zijn om negen draden aan te sluiten.</p>
                <ul>
                    <li>Binnen deze module zijn diverse panelen met draden erop, maar er is maar één paneel tegelijk zichtbaar. Wissel naar het volgende paneel met de omlaag-knop en naar de vorige met de omhoog-knop.</li>
                    <li>Ga niet naar het volgende paneel tot je er zeker van bent dat je alle benodigde draden op het huidige paneel hebt doorgeknipt.,/li>
                    <li>Knip de draden door volgens de aanwijzingen in de onderstaande tabellen. De aantallen in de kolom “Hoeveelste” gaan over alle panelen in de module bij elkaar.</li>
                </ul>
                <table class="red-table">
                    <tr><th colspan="2" class="header">Rode draden</th></tr>
                    <tr><th class="first-col">Hoeveelste</th><th class="second-col">Knip als verbonden met:</th></tr>
                    <tr><td class="first-col">Eerste&nbsp;rode draad</td><td class="second-col">C</td></tr>
                    <tr><td class="first-col">Tweede&nbsp;rode draad</td><td class="second-col">B</td></tr>
                    <tr><td class="first-col">Derde&nbsp;rode draad</td><td class="second-col">A</td></tr>
                    <tr><td class="first-col">Vierde&nbsp;rode draad</td><td class="second-col">A or C</td></tr>
                    <tr><td class="first-col">Vijfde&nbsp;rode draad</td><td class="second-col">B</td></tr>
                    <tr><td class="first-col">Zesde&nbsp;rode draad</td><td class="second-col">A or C</td></tr>
                    <tr><td class="first-col">Zevende&nbsp;rode draad</td><td class="second-col">A, B or C</td></tr>
                    <tr><td class="first-col">Achtste&nbsp;rode draad</td><td class="second-col">A or B</td></tr>
                    <tr><td class="first-col">Negende&nbsp;rode draad</td><td class="second-col">B</td></tr>
                </table>
                <table class="blue-table">
                    <tr><th colspan="2" class="header">Blauwe draden</th></tr>
                    <tr><th class="first-col">Hoeveelste</th><th class="second-col">Knip als verbonden met:</th></tr>
                    <tr><td class="first-col">Eerste&nbsp;blauwe draad</td><td class="second-col">B</td></tr>
                    <tr><td class="first-col">Tweede&nbsp;blauwe draad</td><td class="second-col">A or C</td></tr>
                    <tr><td class="first-col">Derde&nbsp;blauwe draad</td><td class="second-col">B</td></tr>
                    <tr><td class="first-col">Vierde&nbsp;blauwe draad</td><td class="second-col">A</td></tr>
                    <tr><td class="first-col">Vijfde&nbsp;blauwe draad</td><td class="second-col">B</td></tr>
                    <tr><td class="first-col">Zesde&nbsp;blauwe draad</td><td class="second-col">B or C</td></tr>
                    <tr><td class="first-col">Zevende&nbsp;blauwe draad</td><td class="second-col">C</td></tr>
                    <tr><td class="first-col">Achtste&nbsp;blauwe draad</td><td class="second-col">A or C</td></tr>
                    <tr><td class="first-col">Negende&nbsp;blauwe draad</td><td class="second-col">A</td></tr>
                </table>
                <table class="black-table">
                    <tr><th colspan="2" class="header">Zwarte draden</th></tr>
                    <tr><th class="first-col">Hoeveelste</th><th class="second-col">Knip als verbonden met:</th></tr>
                    <tr><td class="first-col">Eerste&nbsp;zwarte draad</td><td class="second-col">A, B or C</td></tr>
                    <tr><td class="first-col">Tweede&nbsp;zwarte draad</td><td class="second-col">A or C</td></tr>
                    <tr><td class="first-col">Derde&nbsp;zwarte draad</td><td class="second-col">B</td></tr>
                    <tr><td class="first-col">Vierde&nbsp;zwarte draad</td><td class="second-col">A or C</td></tr>
                    <tr><td class="first-col">Vijfde&nbsp;zwarte draad</td><td class="second-col">B</td></tr>
                    <tr><td class="first-col">Zesde&nbsp;zwarte draad</td><td class="second-col">B or C</td></tr>
                    <tr><td class="first-col">Zevende&nbsp;zwarte draad</td><td class="second-col">A or B</td></tr>
                    <tr><td class="first-col">Achtste&nbsp;zwarte draad</td><td class="second-col">C</td></tr>
                    <tr><td class="first-col">Negende&nbsp;zwarte draad</td><td class="second-col">C</td></tr>
                </table>
            </div>
            <div class="page-footer relative-footer">Pagna 1 van 1</div>
        </div>
    </div>
</body>
</html>
