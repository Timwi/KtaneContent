<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>The Speaker — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        table {
            margin: 1em auto;
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">The Speaker</span>
            </div>
            <div class="page-content">
                <img src="img/Component/The Speaker.svg" class="diagram">
                <h2>On the Subject of The Speaker</h2>
                <p class="flavour-text">Bass boosted</p>
                <p>The module displays a speaker, 8 ports, 3 sliders and a speaker serial. To solve the module, plug all the plugs into the correct ports. The speaker serial number consists of two letters and then two numbers.</p>
                <p>To obtain the order of the plugs to plug in, take the colour of the first port in reading order and use the sequence listed with it in the table below.</p>
                <table>
                    <tr><th>colour</th><th>order</th></tr>
                    <tr><td>black</td><td>black, blue, white, green, yellow, cyan, magenta, red</td></tr>
                    <tr><td>blue</td><td>blue, green, black, cyan, white, red, yellow, magenta</td></tr>
                    <tr><td>green</td><td>magenta, yellow, red, white, cyan, black, green, blue</td></tr>
                    <tr><td>cyan</td><td>cyan, red, green, magenta, blue, yellow, black, white</td></tr>
                    <tr><td>red</td><td>red, magenta, cyan, yellow, green, white, blue, black</td></tr>
                    <tr><td>magenta</td><td>green, cyan, blue, red, black, magenta, white, yellow</td></tr>
                    <tr><td>yellow</td><td>white, black, yellow, blue, magenta, green, red, cyan</td></tr>
                    <tr><td>white</td><td>yellow, white, magenta, black, red, blue, cyan, green</td></tr>
                </table>
                <p>If the speaker serial number digit sum totals to 0 and all the sliders are down, plug the plugs into their matching ports. Otherwise follow the rules below according to the plug colours.</p>
                <h3>Black</h3>
                <ol>
                    <li>Take the colour of the last port in reading order and split it into its RGB components using the table below.</li>
                    <li>Compare R with the left, G with the middle, and B with the right slider.</li>
                    <li>If any slider connected to a 0 is up or any slider connected to a 1 is down, Take the first available port in reading order.</li>
                    <li>Otherwise, take the last available port in reading order.</li>
                </ol>
                <table>
                    <tr><th>colour</th><th>RGB</th><th>colour</th><th>RGB</th><th>colour</th><th>RGB</th><th>colour</th><th>RGB</th></tr>
                    <tr><td>black</td><td>000</td><td>green</td><td>010</td><td>red</td><td>100</td><td>yellow</td><td>110</td></tr>
                    <tr><td>blue</td><td>001</td><td>cyan</td><td>011</td><td>magenta</td><td>101</td><td>white</td><td>111</td></tr>
                </table>
            </div>
            <div class="page-footer relative-footer">Page 1 of 3</div>
        </div>
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">The Speaker</span>
            </div>
            <div class="page-content">
                <h3>Blue</h3>
                <ol>
                    <li>Take the two letters from the speaker serial number.</li>
                    <li>If the second letter occurs later in the alphabet than the first, use the bottom half, otherwise use the top half.</li>
                    <li>If the first letter has an odd position in the alphabet, use the left half, otherwise use the right half.</li>
                    <li>If the second letter has an odd position in the alphabet, use the left of the remaining two ports, otherwise use the right of the remaining two ports.</li>
                    <li>If this port is already occupied, go in clockwise order until a port is available.</li>
                </ol>
                <h3>Green</h3>
                <ol>
                    <li>Set A to the index of the green port in reading order.</li>
                    <li>Set B to the amount of plugs connected, plus 1.</li>
                    <li>Set C to the sum of the speaker serial number digit sum.</li>
                    <li>Using the colour of the speaker, calculate the formula from the table below.</li>
                    <li>Add or subtract 8 until the number is within a range of 1-8 inclusive.</li>
                    <li>If the port at this position in reading order is already occupied, take 3 steps in reading order, looping around if needed, until a port is available.</li>
                </ol>
                <table>
                    <tr><th>colour</th><th>formula</th><th>colour</th><th>formula</th><th>colour</th><th>formula</th><th>colour</th><th>formula</th></tr>
                    <tr><td>black</td><td>A+B+C</td><td>green</td><td>A*B+C</td><td>red</td><td>A+B+C+4</td><td>yellow</td><td>A*B+C+4</td></tr>
                    <tr><td>blue</td><td>A+B*C</td><td>cyan</td><td>A*B*C</td><td>magenta</td><td>A+B*C+4</td><td>white</td><td>A*B*C+4</td></tr>
                </table>
                <h3>Cyan</h3>
                <ol>
                    <li>Using slider settings as down=0, middle=1 and up=2, take the sum of the slider settings.</li>
                    <li>Modulo this by the amount of available ports and add 1.</li>
                    <li>Use the available port at the index in reading order given by this number, ignoring unavailable ports.</li>
                </ol>
                <h3>Red</h3>
                <ol>
                    <li>Take the distance between the red plug and the plug matching the colour of the speaker, assuming only orthogonal steps, and add 1.</li>
                    <li>If the port at this position in reading order is already occupied, continue in reading order, looping around if needed, until a port is available.</li>
                </ol>
            </div>
            <div class="page-footer relative-footer">Page 2 of 3</div>
        </div>
        <div class="page page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">The Speaker</span>
            </div>
            <div class="page-content">
                <h3>Magenta</h3>
                <ol>
                    <li>Take the amount of plugs connected and add 1.</li>
                    <li>If this port is already occupied, go in reverse reading order until a port is available.</li>
                </ol>
                <h3>Yellow</h3>
                <ol>
                    <li>Take the digital root of the position in the alphabet of the first letter of the speaker serial number. (digital root is the repeated digit sum until one digit remains: 19=>1+9=>10=>1+0=>1)</li>
                    <li>If the number is 9, use the speaker colour, otherwise use the colour of the port in reading order given by the number.</li>
                    <li>Use the port with this colour.</li>
                    <li>If the port with this colour is already occupied, take the next colour in the order, looping around if needed, until a port with that colour is available.</li>
                </ol>
                <h3>White</h3>
                <ol>
                    <li>Take the position of the last port you plugged into, or the port matching the speaker colour if this is the first.</li>
                    <li>If this port is still available, use it. Otherwise continue with the following instructions.</li>
                </ol>
                <ul>
                    <li>If this port comes later than the white port, go in reverse reading order, looping around if needed, until a port is available.</li>
                    <li>If this port comes earlier than the white port, go in reading order, looping around if needed, until a port is available.</li>
                    <li>If this port is the white port, go 5 steps in reading order, looping around if needed, until a port is available.</li>
                </ul>
            </div>
            <div class="page-footer relative-footer">Page 3 of 3</div>
        </div>
    </div>
</body>
</html>